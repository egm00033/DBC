function $(a){return document.getElementById(a)}function $$(a){a=document.querySelectorAll(a);try{return Array.prototype.slice.call(a)}catch(e){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}}
function Core(){this.StopProp=function(a){(a=a||window.event)&&a.stopPropagation?a.stopPropagation():window.event&&window.event.cancelBubble&&(window.event.cancelBubble=!0)};this.AddHandler=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)};this.RemoveHandler=function(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)};this.Bind=function(a,b){return function(){return a.apply(b,arguments)}};this.isMobile=
{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return Core.isMobile.Android()||Core.isMobile.BlackBerry()||Core.isMobile.iOS()||Core.isMobile.Opera()||Core.isMobile.Windows()}};this.addAncersToH3=
function(){for(var a=document.getElementsByTagName("h3"),b=0;b<a.length;b++){var c=a[b].getAttribute("id");if(c){var e=document.createElement("a");e.innerHTML="#";e.setAttribute("href","#"+c);e.className="anchor";a[b].insertBefore(e,null)}}};this.IsTouchDevice=function(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints};this.isLocalStorageSupported=function(){try{if(!window.localStorage)return!1;var a=window.localStorage;a.setItem("test_local_storage_support",
"1");a.removeItem("test_local_storage_support");return!0}catch(b){return!1}};this.PreventSelection=function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.clear&&document.selection.clear()};this.SelectAllCheckboxes=function(a,b){var c=document.getElementsByTagName("INPUT");if(c&&null!=c&&!(1>c.length))for(var e=a.checked,f=0;f<c.length;f++)"checkbox"==c[f].type&&c[f].name==b&&(c[f].checked=e)};this.FormatNumber=function(a){a=Math.round(a);a=a.toString();
for(var b="",c=0,e=a.length;0<e;e--)3===c++&&(b=" "+b,c=1),b=a.substring(e,e-1)+b;return b};this.utf8_encode=function(a){if(null===a||"undefined"===typeof a)return"";a+="";var b="",c,e,f=0;c=e=0;for(var f=a.length,g=0;g<f;g++){var h=a.charCodeAt(g),l=null;if(128>h)e++;else if(127<h&&2048>h)l=String.fromCharCode(h>>6|192,h&63|128);else if(55296!=(h&63488))l=String.fromCharCode(h>>12|224,h>>6&63|128,h&63|128);else{if(55296!=(h&64512))return"";l=a.charCodeAt(++g);if(56320!=(l&64512))return"";h=((h&1023)<<
10)+(l&1023)+65536;l=String.fromCharCode(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}null!==l&&(e>c&&(b+=a.slice(c,e)),b+=l,c=e=g+1)}e>c&&(b+=a.slice(c,f));return b};this.Crc32=function(a){a=this.utf8_encode(a);var b,c;b=-1;for(var e=0,f=a.length;e<f;e++)c=(b^a.charCodeAt(e))&255,c="0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*
c,8),b=b>>>8^c;return b=(b^-1)>>>0};this.ParseJson=function(a){try{return window.JSON?window.JSON.parse(a):eval("("+a+")")}catch(b){return null}}}
var Core=new Core,ieVersion=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:void 0}(),supportsCssProp=function(){var a=document.createElement("div"),b="Khtml Ms O Moz Webkit ms".split(" ");return function(c){if(c in a.style)return c;c=c.replace(/^[a-z]/,function(a){return a.toUpperCase()});for(var e=b.length;e--;)if(b[e]+c in a.style)return b[e]+c;return!1}}();
function isEmpty(a){if(null==a)return!0;if(0<a.length)return!1;if(0===a.length)return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function getCharCode(a){a=a||window.event;return a.which||a.keyCode}
function getElementsByClass(a,b){if(document.getElementsByClassName)return(b||document).getElementsByClassName(a);b=b||document;var c=b.getElementsByTagName("*"),e=c.length,f=a.split(/\s+/),g=f.length,h=[],l,m;for(l=0;l<e;l++)for(m=0;m<g;m++)if(-1!=c[l].className.search("\\b"+f[m]+"\\b")){h.push(c[l]);break}return h}
function getElementsByTagClass(a,b,c){c=c||document;a=c.getElementsByTagName(a);c=a.length;b=b.split(/\s+/);var e=b.length,f=[],g,h;for(g=0;g<c;g++)for(h=0;h<e;h++)if(-1!=a[g].className.search("\\b"+b[h]+"\\b")){f.push(a[g]);break}return f}function setSelectionRange(a,b,c){a.setSelectionRange?(a.focus(),a.setSelectionRange(b,c)):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",c),a.moveStart("character",c),a.select())}
function setCursor(a,b){setSelectionRange(a,b,b)}[].indexOf||(Array.prototype.indexOf=function(a){for(var b=this.length;b--&&this[b]!==a;);return b});function typeOf(a){return"object"==typeof a?a.length?"array":"object":typeof a}Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c=null,e,f=Object(this),g=f.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");1<arguments.length&&(c=b);for(e=0;e<g;){var h;e in f&&(h=f[e],a.call(c,h,e,f));e++}});
function S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function S5(){return(1048576*(1+Math.random())|0).toString(16).substring(1)}function guid(){return S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4()}Class=function(a,b,c){if(a)if(a.className){var e=a.className.split(" "),f,g;f=0;for(g=e.length;f<g;++f)if(e[f]==b){c&&(e.splice(f,1),a.className=e.join(" "));return}c||(e.push(b),a.className=e.join(" "))}else c||(a.className=b)};
function getUrlParam(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(window.location.href);return null==a?"":a[1]}function setUrlParam(a,b){document.location.search=changeUrlParamsString(document.location.search,a,b)}
function changeUrlParamsString(a,b,c){var e=!1;c||(e=!0);b=encodeURI(b);c=encodeURI(c);0==a.indexOf("?")&&(a=a.substr(1));a=a.split("&");for(var f=a.length,g;f--;)if(g=a[f].split("="),g[0]==b){if(e){a.splice(f,1);break}g[1]=c;a[f]=g.join("=");break}0>f&&(a[a.length]=[b,c].join("="));b="";for(c=0;c<a.length;c++)a[c]&&(b=b?b+"&":b+"?",b+=a[c]);return b}function isHttps(){return"https:"==window.location.protocol}String.prototype.startsWith=function(a){return this.substring(0,a.length)==a};
String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};String.prototype.ltrim=function(){return this.replace(/^\s+/,"")};String.prototype.rtrim=function(){return this.replace(/\s+$/,"")};String.prototype.fulltrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")};function getFileExtension(a,b){if(a&&a.length){for(var c="",e=!1,f=0;f<a.length;f++){var g=a[f],c=c+g;"."==g&&(c="",e=!0)}return e&&c?b?c.toLowerCase():c:void 0}}
function createElement(a,b,c){b=document.createElement(b);if(c)for(key in c)"name"==key?b.setAttribute("name",c[key]):"className"==key?b.className=c[key]:-1!=key.indexOf("style")?alert("Invalid argument - style"):b[key]=c[key];a&&a.appendChild(b);return b}function prependElement(a,b){a.childNodes&&0<a.childNodes.length?a.insertBefore(b,a.childNodes[0]):a.appendChild(b)}function insertAfter(a,b,c){c&&c.nextSibling||a.appendChild(b);a.insertBefore(b,c.nextSibling)}
function injectIframe(a,b){var c=document.createElement("iframe");c.marginHeight="0";c.marginWidth="0";c.frameBorder="0";c.scrolling="no";a.appendChild(c);c.width="100%";c.height="100%";var e=c.document;c.contentDocument?e=c.contentDocument:c.contentWindow&&(e=c.contentWindow.document);e.open();e.writeln(b);e.close()}function encodeHtml(a){if(!a)return a;a=a.replace(/&/g,"&amp;");a=a.replace(/>/g,"&gt;");return a=a.replace(/</g,"&lt;")}
function stripHtml(a){var b=document.createElement("DIV");b.innerHTML=a;return b.textContent||b.innerText}function GetDate(a){var b=new Date(1E3*a);a=""+b.getFullYear();a+="."+(8<b.getUTCMonth()?b.getUTCMonth()+1:"0"+(b.getUTCMonth()+1));return a+="."+(9<b.getUTCDate()?b.getUTCDate():"0"+b.getUTCDate())}
function GetDateTime(a){var b=new Date(1E3*a);a=""+b.getFullYear();a+="."+(8<b.getUTCMonth()?b.getUTCMonth()+1:"0"+(b.getUTCMonth()+1));a+="."+(9<b.getUTCDate()?b.getUTCDate():"0"+b.getUTCDate());a+=" "+(9<b.getUTCHours()?b.getUTCHours():"0"+b.getUTCHours());return a+=":"+(9<b.getUTCMinutes()?b.getUTCMinutes():"0"+b.getUTCMinutes())}
function objectEquals(a,b){for(var c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!=b[c]))return!1;for(c in b)if(b.hasOwnProperty(c)&&(!a.hasOwnProperty(c)||a[c]!=b[c]))return!1;return!0}function toggleBlock(a){a&&("none"==a.style.display?a.style.display=a.oldDisplay?a.oldDisplay:"block":(a.oldDisplay=a.style.display,a.style.display="none"))}function toggle(a){toggleBlock($(a))}function toggleVisibility(a){if(a=$(a))a.style.visibility="hidden"==a.style.visibility?"visible":"hidden"}
function getFirstChildElement(a){if(!a&&1!=a.nodeType)return null;for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return a}function setHotKeysPaginator(a,b,c){a=""==a?document:document.getElementById(a);var e=a.onkeydown;a.onkeydown=function(a){e&&e(a);a=window.event?window.event:a;var g=a.target?a.target:window.event.srcElement;a.ctrlKey&&"INPUT"!=g.tagName&&"TEXTAREA"!=g.tagName&&(37==a.keyCode&&""!=b?location.href=b:39==a.keyCode&&""!=c&&(location.href=c))}}
function HashparamsContainer(){this.prototype=Object;var a=[],b=[],c=0,e="",f=function(){b=[];a=[];c=location.href.indexOf("#!");if(-1!=c&&location.href.length!=c+2){var f=location.href.substring(c+2),g=f.indexOf("#");-1!=g&&(e=f.substring(g),f=f.substring(0,g));f=f.split("&");for(g=0;g<f.length;g++){var m=f[g].split("=");a.push(decodeURIComponent(m[0]));1==m.length?b.push(null):b.push(decodeURIComponent(m[1]))}}};f();window.addEventListener&&window.addEventListener("hashchange",f,!1);var g=function(){for(var c=
"",e=0;e<a.length;e++)0<c.length&&(c+="&"),c+=encodeURIComponent(a[e]),b[e]&&0<b[e].toString().length&&(c+="="+encodeURIComponent(b[e].toString()));return c};this.Get=function(c){c=a.indexOf(c);return-1==c?null:b[c]};this.GetDefaultHash=function(){return e};this.Set=function(c,e){var f=a.indexOf(c);-1==f?(a.push(c),b.push(e)):b[f]=e;document.location=document.location.pathname+document.location.search+"#!"+g()};this.Remove=function(c){c=a.indexOf(c);-1!=c&&(b.splice(c,1),a.splice(c,1),(c=g())?document.location=
document.location.pathname+document.location.search+"#!"+c:document.location.hash="")};this.Clear=function(){b=[];a=[];document.location=document.location.pathname+location.search+"#"};this.Count=function(){return a.length}}window.hashParams=new HashparamsContainer;
function getWindowSize(){var a=0,b=0;"number"==typeof window.innerWidth?(a=window.innerWidth,b=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(a=document.body.clientWidth,b=document.body.clientHeight);return{width:a,height:b}}
function getDocumentBodySize(){var a=0,b=0;"number"==typeof(document.body&&document.body.scrollWidth)?(a=document.body.scrollWidth,b=document.body.scrollHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(a=document.body.clientWidth,b=document.body.clientHeight);return{width:a,height:b}}
function getWindowScroll(){var a=0,b=0;"number"==typeof window.pageYOffset?(b=window.pageYOffset,a=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(b=document.body.scrollTop,a=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(b=document.documentElement.scrollTop,a=document.documentElement.scrollLeft);return{top:b,left:a}}
function getOffsetSum(a){for(var b=0,c=0;a;)b+=parseFloat(a.offsetTop),c+=parseFloat(a.offsetLeft),a=a.offsetParent;return{top:Math.round(b),left:Math.round(c)}}function getOffsetRect(a,b){var c=b?b.contentWindow:window,e=a.getBoundingClientRect(),f=c.document.body,g=c.document.documentElement;return{top:Math.round(e.top+(c.pageYOffset||g.scrollTop||f.scrollTop)-(g.clientTop||f.clientTop||0)),left:Math.round(e.left+(c.pageXOffset||g.scrollLeft||f.scrollLeft)-(g.clientLeft||f.clientLeft||0))}}
function getOffset(a){return a.getBoundingClientRect?getOffsetRect(a):getOffsetSum(a)}function getElementSize(a){return{width:a.clientWidth||a.offsetWidth,height:a.clientHeight||a.offsetHeight}}function dateToString(a,b,c){var e=a.getDate(),f=a.getMonth()+1,e=""+a.getFullYear()+"-"+(9>=f?"0"+f:f)+"-"+(9>=e?"0"+e:e);b&&(b=a.getHours(),f=a.getMinutes(),e+=" "+(9>=b?"0"+b:b)+":"+(9>=f?"0"+f:f),c&&(a=a.getSeconds(),e+=":"+(9>=a?"0"+a:a)));return e}
function tooltip(a,b,c,e,f){a.timeoutID&&clearTimeout(a.timeoutID);var g=S4(),h=createElement(document.body,"div",{id:"tooltip_"+g,className:"customTooltip"}),g=createElement(h,"div",{id:"tooltipContent_"+g,className:"customTooltipContent"}),l;supportsCssProp("transform")&&(l=createElement(h,"span",{className:"tooltipCorner"}));h.hovered=!1;h.onmouseover=function(){this.hovered=!0};h.onmouseout=function(){var b=this;b.hovered=!1;setTimeout(function(){if(!0!==b.hovered)try{e&&(a.show=!1,e(b)),$(b.id)&&
document.body.removeChild(b)}catch(c){window.console&&window.console.log&&window.console.log(c.message)}},300)};"string"==typeOf(b)?g.innerHTML+=b:"object"==typeOf(b)&&g.appendChild(b);g.getElementsByTagName("a");var m=getOffset(a);m.realLeft=m.left;a.tooltipContainer=h;a.onmouseout=function(){clearTimeout(a.timeoutID);setTimeout(function(){if(1!=h.hovered)try{e&&(a.show=!1,e(h)),document.body.removeChild(h)}catch(b){window.console&&window.console.log&&window.console.log(b.message)}},300)};a.hide=
function(){clearTimeout(a.timeoutID);setTimeout(function(){try{e&&(a.show=!1,e(h)),document.body.removeChild(h)}catch(b){window.console&&window.console.log&&window.console.log(b.message)}},0)};a.onclick=function(){!0===a.show?a.hide():tooltip(a,b,c,e,f)};a.timeoutID=setTimeout(function(){h.style.display="block";h.style.top=m.top+25+"px";h.style.maxWidth=document.body.offsetWidth-10+"px";var b=h.style,e=m.left-.2*h.clientWidth,e=Math.max(10,e),e=Math.min(e,document.body.offsetWidth-5-h.clientWidth);
b.left=e+"px";h.offsetHeight+m.top>document.body.offsetHeight&&(h.style.top=m.top-20-h.offsetHeight+"px",Class(l,"bottomCorner"));l&&(b=l.style,e=a.clientWidth/2+m.left-h.offsetLeft-7,e=Math.min(h.clientWidth-15,e),e=Math.max(5,e),b.left=e+"px");setOpacity(h,.01);fade(h,1,200,20);c&&(a.show=!0,c(h))},f||500);return g.id}function setOpacity(a,b){a.style.opacity=b;a.style.MozOpacity=b;a.style.KhtmlOpacity=b;a.style.filter="alpha(opacity="+100*b+");"}
function animate(a,b,c,e,f,g,h,l,m,p){b=supportsCssProp(b)||b;if(e!=f){0!=m&&m||(m=1E-7);p||(p=0);var n=supportsCssProp("transition");if(n){var q={marginLeft:"margin-left",marginRight:"margin-right",paggingLeft:"pagging-left",paggingRight:"pagging-right"}[b]||b;a.style[n]="none";a.style[b]=e+c;setTimeout(function(){a.style[n]=q+" "+h/1E3+"s "+(m&&0!=m?" ease":" linear")+(0<g?" "+g/1E3+"s":"");a.style[b]=f+c},1);setTimeout(function(){a.style[n]="none"},h+g+10)}else for(var t=0,r=f-e,u=r!=Math.abs(r),
w=t=0;w<=l;w++)setTimeout(function(){var f=r*Math.pow(t/r,1/m);0!=p&&(f+=Math.sin(Math.PI*t/r)*t*p);a.style[b]=f+e+c;t=1==u?Math.max(t+Math.floor(r/l),r):Math.min(t+Math.ceil(r/l),r)},w/l*h+g)}}function fade(a,b,c,e){if("in"==b||0==b)b=0;else if("out"==b||1==b)b=1;else return;for(var f=0,g=0;1>=g;g+=1/e)setTimeout(function(){setOpacity(a,1==b?f:1-f);f+=1/e;f=Math.round(100*f)/100},g*c);setTimeout(function(){setOpacity(a,1==b?1:0)},c)}
function apearBlockVertical(a,b,c,e,f,g){g||(g=.5);f||(f=20);e||(e=200);var h=createElement(null,"div");h.style.overflow="hidden";h.style.height=0;h.style.visibility="hidden";setOpacity(a,0);h.appendChild(a);a.style.display="block";1==c?prependElement(b,h):c&&c.tagName?b.insertBefore(h,c):b.appendChild(h);animate(h,"height","px",0,h.scrollHeight,0,e,f,g);setTimeout(function(){h.style.display="none";b.insertBefore(a,h);b.removeChild(h);fade(a,"out",200,20)},e)}
function disapearBlockVertical(a,b,c,e,f){f||(f=.5);e||(e=20);c||(c=200);var g=a.parentNode,h=createElement(null,"div");h.style.overflow="hidden";g.insertBefore(h,a);h.appendChild(a);var l=h.scrollHeight;h.style.height=l+"px";fade(a,"in",200,20);setTimeout(function(){animate(h,"height","px",l,0,0,c,e,f)},200);setTimeout(function(){b||(a.style.display="none",g.insertBefore(a,h));h.parentNode.removeChild(h)},c+500)}
function onReadyGlobalCallback(){if(mqGlobal&&mqGlobal._onready)for(var a=0;a<mqGlobal._onready.length;a++)mqGlobal._onready[a]()}var windowOldOnLoadGlobalCallback=window.onload;window.onload=onLoadGlobalCallback;function onLoadGlobalCallback(){if(mqGlobal&&mqGlobal._onload)for(var a=0;a<mqGlobal._onload.length;a++)mqGlobal._onload[a]();windowOldOnLoadGlobalCallback&&windowOldOnLoadGlobalCallback()}
if(document.addEventListener)document.addEventListener("DOMContentLoaded",onReadyGlobalCallback||function(){},!1);else{var d=window.document,done=!1,init=function(){done||(done=!0,onReadyGlobalCallback&&onReadyGlobalCallback())};(function(){try{d.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,50);return}init()})();d.onreadystatechange=function(){"complete"==d.readyState&&(d.onreadystatechange=null,init())}}window.isWindowActive=!1;window.isLastActiveWindow=function(){return!1};
(function(){function a(a){var c=window.isWindowActive;a=a||window.event;window.isWindowActive="focus"==a.type||"focusin"==a.type?!0:"blur"==a.type||"focusout"==a.type?!1:document[f]?!1:!0;if(c!=window.isWindowActive&&(a=window.isWindowActive,mqGlobal&&mqGlobal._onvisibility))for(window.console&&window.console.log&&console.log("current window id: "+l+" become "+(a?"ACTIVE":"INACTIVE")),c=0;c<mqGlobal._onvisibility.length;c++)mqGlobal._onvisibility[c](a);window.isWindowActive&&b(l);extraLog("change: "+
l+": "+window.isWindowActive)}function b(a){c&&e.setItem("mql5com_isLastActiveWindow",a+"");extraLog(a+": become ACTIVE")}var c;try{c="undefined"!==typeof Storage&&Core.isLocalStorageSupported()&&window.JSON&&window.JSON.stringify?!0:!1}catch(m){c=!1,window.console&&window.console.log&&console.log("local storage support check: "+m)}var e={};if(c)try{e=localStorage}catch(m){e=sessionStorage}var f,g,h={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange",msHidden:"msvisibilitychange",
oHidden:"ovisibilitychange"};for(f in h)if(h.hasOwnProperty(f)&&f in document){g=h[f];break}g?(window.isWindowActive=document[f]?!1:!0,document.addEventListener(g,a)):ieVersion&&9>=ieVersion?document.onfocusin=document.onfocusout=a:window.onfocus=window.onblur=a;var l=guid();c&&(window.console&&window.console.log&&console.log("current window id: "+l),window.isLastActiveWindow=function(){var a;a=c?e.getItem("mql5com_isLastActiveWindow")||null:null;window.console&&window.console.log&&console.log("last active window id: "+
a+". ("+(a==l?"is ":"not ")+"current)");return a==l},window.GetCurrentWindowId=function(){return l},window.isWindowActive&&b(l));extraLog(f+" load: "+l+": "+window.isWindowActive)})();function extraLog(a){window.enableExtraLog&&(a=createElement(null,"div",{innerHTML:a}),prependElement(document.body,a))}
(function(){function a(a){var b=$(a),c=$("__srte_"+a);if(b&&c){var l=function(a){return function(b){e.Flush(a)}},b=function(a){return function(a){(a=a||window.event)&&a.preventDefault&&a.preventDefault();a&&a.stopPropagation&&a.stopPropagation();a&&a.cancelBubble&&(a.cancelBubble=!0);return!1}};c.onkeyup=c.onChange=function(){l(a)()};if(c.addEventListener){for(var m="copy paste keypress input textInput blur change DOMNodeInserted".split(" "),p=["drop"],n=0;n<m.length;n++)c.addEventListener(m[n],l(a),
!0);for(m=0;m<p.length;m++)c.addEventListener(p[m],b(a),!0)}}}var b="contentEditable"in document.documentElement,c=navigator.userAgent;0<=c.indexOf("Android")&&2.3>=parseFloat(c.slice(c.indexOf("Android")+8))&&(b=!1);if(b){var e=window.SmallRTE={};e.Clear=function(a){e.SetContent(a,"<br>")};e.SetContent=function(a,b){var c=$(a),e=$("__srte_"+a);b+="<br>";c&&(c.value=b);e&&(e.innerHTML=b)};e.GetContent=function(a){return(a=$(a))?a.value:null};e.isEmpty=function(a){(a=e.GetContent(a))&&(a=a.replace(/<(?!img|embed|iframe)[^>]+>|&nbsp;/gi,
""));return!a};e.GetEditor=function(a){return $("__srte_"+a)};e.Flush=function(a){var b=$(a);a=$("__srte_"+a);b&&a&&(b.value=a.innerHTML)};e.Focus=function(a){var b=$("__srte_"+a);b&&(b.focus(),document.createRange?(a=document.createRange(),a.selectNodeContents(b),a.collapse(!1),b=window.getSelection(),b.removeAllRanges(),b.addRange(a)):document.selection&&(a=document.body.createTextRange(),a.moveToElementText(b),a.collapse(!1),a.select()))};e.Init=function(){if(window.SimpleRte)for(var b=0;b<window.SimpleRte.length;b++){var c=
window.SimpleRte[b],h=$(c.id),l=createElement(null,"div",{id:"__srte_"+c.id,contentEditable:"true",className:"smallEditor"});l.style.width=h.style.width;l.style.height=h.style.height;insertAfter(h.parentNode,l,h);h.style.display="none";a(c.id);e.SetContent(h.id,h.value)}}}})();
(function(){var a=window.MQTE={},b=window.MQRTE,c=window.SmallRTE;mqGlobal.AddOnReady(function(){b&&b.Init(window);c&&c.Init()});a.Focus=function(a){b&&b.Editor(a)?b.Focus(a):c&&c.GetEditor(a)?c.Focus(a):(a=$(a))&&a.focus&&a.focus()};a.GetContent=function(a){return b&&b.Editor(a)?b.GetContent(a):c&&c.GetEditor(a)?c.GetContent(a):(a=$(a))?a.value:null};a.SetContent=function(a,f){if(b&&b.Editor(a))b.SetContent(a,f);else if(c&&c.GetEditor(a))c.SetContent(a,f);else{var g=$(a);g&&(g.value=f)}};a.InsertContent=
function(a,f,g){if(b&&b.Editor(a))b.InsertContent(a,f,g);else if(c&&c.GetEditor(a))c.SetContent(a,f);else if(a=$(a))a.value=f};a.Clear=function(a){if(b&&b.Editor(a))b.Clear(a);else if(c&&c.GetEditor(a))c.Clear(a);else if(a=$(a))a.value=a.innerHTML=""};a.IsEmpty=function(a){return b&&b.Editor(a)?b.isEmpty(a):c&&c.GetEditor(a)?c.isEmpty(a):(a=$(a))?0==a.value.fulltrim().length:!0};a.MarkUnchanged=function(a){b&&b.Editor(a)&&b.MarkUnchanged(a)};a.Changed=function(a){return b&&b.Editor(a)?b.Changed(a):
!1};a.Highlight=function(a,c){return b?b.highlight(a,c):c};a.Flush=function(a){b&&b.Editor(a)?b.Flush(a):c&&c.GetEditor(a)&&c.Flush(a)};a.HotKey=function(a,c,g,h,l,m){b&&b.Editor(a)&&b.HotKey(a,c,g,h,l,m)};a.SetValidationClass=function(a,f){var g=$(a);if(g)if(b&&b.Editor(a))for(g=g.parentNode;g;){if(f){if("dalet-editor"==g.className){g.className="dalet-editor field-validation-error";break}}else if(g.className&&-1!=g.className.indexOf("field-validation-error")){var h=g.className.split(" "),l=[],m;
for(m in h)"field-validation-error"!=h[m]&&l.push(h[m]);g.className=l.join(" ");break}g=g.parentNode}else if(c&&c.GetEditor(a)){if(g=c.GetEditor(a))if(f)"smallEditor"==g.className&&(g.className="smallEditor field-validation-error");else if(g.className&&-1!=g.className.indexOf("field-validation-error")){h=g.className.split(" ");l=[];for(m in h)"field-validation-error"!=h[m]&&l.push(h[m]);g.className=l.join(" ")}}else"DIV"==g.parentNode.nodeName&&-1<g.parentNode.className.indexOf("inputWrapper")?Class(g.parentNode,
"field-validation-error",!f):Class(g,"field-validation-error",!f)}})();
function doPost(a,b,c,e){try{if(a=a||window.event)a.preventDefault?a.preventDefault():a.returnValue=!1;var f=b.indexOf("?");if(-1!=f){var g=b.substr(f+1);b=b.substr(0,f);var h=g.split("&");if(h&&0<h.length)for(e||(e={}),a=0;a<h.length;a++){var l=h[a],m=l.split("=");1==m.length?e[l]="":e[m[0]]=decodeURIComponent(m[1])}}var p=createElement(document.body,"form",{action:b,method:"post",target:"_top"});c&&createElement(p,"input",{name:"__signature",type:"hidden",value:c});if(e)for(var n in e)createElement(p,
"input",{name:n,type:"hidden",value:e[n]});p.style.position="absolute";p.style.left="-5000px";p.submit()}catch(q){alert("action failed: "+q)}}function toTitleCase(a){return a?a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}):a}
function doubleScroll(a){var b=document.createElement("div");b.appendChild(document.createElement("div"));b.style.overflow="auto";b.style.overflowY="hidden";b.firstChild.style.width=a.scrollWidth+"px";var c=window.onresize;window.onresize=function(){c&&c(arguments);b.firstChild.style.width=a.scrollWidth+"px"};b.firstChild.style.paddingTop="1px";b.onscroll=function(){a.scrollLeft=b.scrollLeft};a.onscroll=function(){b.scrollLeft=a.scrollLeft};a.parentNode.insertBefore(b,a)}
(function(){mqGlobal.AddOnReady(function(){var a=getElementsByClass("matrix_wrapper");if(a&&a.length)for(var b=0;b<a.length;b++)doubleScroll(a[b])})})();
(function(){function a(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}var b;b="undefined"!==typeof document&&document.head&&document.head.dataset?{set:function(a,b,f){a.dataset[b]=f},get:function(a,b){return a.dataset[b]},del:function(a,b){delete a.dataset[b]}}:{set:function(b,e,f){b.setAttribute("data-"+a(e),f)},get:function(b,e){return b.getAttribute("data-"+a(e))},del:function(b,e){b.removeAttribute("data-"+a(e))}};window.dataset=function(a,e,f){function g(e,f){b.set(a,
e,f);return l}function h(e){return b.get(a,e)}var l={set:g,get:h,del:function(e){b.del(a,e);return l}};return 3===arguments.length?g(e,f):2===arguments.length?h(e):l}})();function dot2num(a){a=a.split(".");return 256*(256*(256*+a[0]+ +a[1])+ +a[2])+ +a[3]};(function(){function a(){var a=p.shift();if(a)return a;try{if(window.XMLHttpRequest)a=new XMLHttpRequest;else if(window.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){a=new ActiveXObject("Microsoft.XMLHTTP")}n.push(a)}catch(b){a=null}return a}function b(a){var b,c,e={};if(!a)return e;a=a.split("\n");for(b=a.length-1;0<=b;--b)c=a[b].split(":"),2==c.length&&(e[c[0].toLowerCase().replace(/^\s+|\s+$/g,"")]=c[1].replace(/^\s+|\s+$/g,""));return e}function c(a,c,e,f,g){var h,l;(h=a.onrequestready)||
(h=a.onready);l=a.onendrequest;try{l&&l.call(a,c,e,f,b(g)),h&&h.call(a,c,e,f,b(g))}catch(p){alert(p.message)}}function e(a,e){if(e){var f,g,h,l,p;try{f=a.status}catch(m){}try{g=a.responseText}catch(m){}try{h=a.responseXML}catch(m){}try{l=a.statusText}catch(m){}try{p=a.getAllResponseHeaders()}catch(m){}switch(f){case 200:if(p){c(e,g,h,l,p);break}else f=0,l="";default:var n,A;(n=e.onrequesterror)||(n=e.onerror);A=e.onendrequest;try{A&&A.call(e,g,h,f,b(p)),n&&n.call(e,f,g,h,l,b(p))}catch(m){alert(m.message)}}}}
function f(a){var b,c,e=[];if(a instanceof Array)for(b=0,c=a.length;b<c;++b)e.push([a[b][0],encodeURIComponent(a[b][1])].join("="));else for(b in a)e.push([b,encodeURIComponent(a[b])].join("="));return e.join("&")}function g(a,b){function c(a,f){e.push("--");e.push(b);e.push('\r\nContent-Disposition: form-data; name="');e.push(a);e.push('"');f.filename&&(e.push(';filename="'),e.push(f.filename),e.push('"'));e.push("\r\n\r\n");f.value?e.push(f.value):e.push(f);e.push("\r\n")}var e=[],f,g;if(a instanceof
Array)for(f=0,g=a.length;f<g;++f)c(a[f][0],a[f][1]);else for(f in a)c(f,a[f]);e.push("--");e.push(b);e.push("--\r\n");return e.join("")}function h(a,b){var e=a.ownerDocument.createElement("iframe"),f,g=["upload_frame",Math.random()].join("_");(f=e.style).position="absolute";f.left=f.top="-30000px";e.name=g;e.id=g;a.parentNode.insertBefore(e,a);a.target=g;(f=a.ownerDocument.parentWindow)||(f=a.ownerDocument.defaultView);f.frames[g].name!=g&&(f.frames[g].name=g);var h=!1;f=function(){if(!(h||this.readyState&&
"loaded"!==this.readyState&&"complete"!==this.readyState)){h=!0;e.onload=e.onreadystatechange=null;try{if(0<=navigator.userAgent.indexOf("Opera")){var a=this;setTimeout(function(){c(b,a.contentWindow.document.body.innerHTML,a.contentWindow.document,null,"")},300)}else c(b,this.contentWindow.document.body.innerHTML,this.contentWindow.document,null,"")}catch(f){alert("call_onready error: "+f)}}};0<=navigator.userAgent.indexOf("Opera")&&e.addEventListener("DOMContentLoaded",f);e.onload=e.onreadystatechange=
f;a.submit();b&&b.onbeginrequest&&b.onbeginrequest.call(b,a)}function l(a){return{ajax:a,timeout:setTimeout(function(){a.abort()},24E4)}}var m=window.Ajax={},p=[],n=[];m.get=function(b,c,g){var h=a(),m,n=l(h);if(h){g&&g.onbeginrequest&&g.onbeginrequest.call(g,h);c=f(c);m=-1==b.indexOf("?")?"?":"&";h.open("get",c?[b,c].join(m):b,!0);h.setRequestHeader("X-Requested-With","XMLHttpRequest");h.onreadystatechange=function(){switch(h.readyState){case 4:n&&(clearTimeout(n.timeout),n=n.ajax=null),e(h,g),h.abort(),
p.push(h)}};try{h.send("")}catch(z){return!1}return n}onerror&&onerror()};m.post=function(b,c,h,m,n){var v=a(),z=l(v);v.open("post",b,!0);v.setRequestHeader("X-Requested-With","XMLHttpRequest");h?(v.setRequestHeader("Content-Type","multipart/form-data; boundary=AJAX----FORM"),c=g(c,"AJAX----FORM")):n?(v.setRequestHeader("Content-Type","application/json"),c=JSON.stringify(c)):(v.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c=f(c));v.onreadystatechange=function(){switch(v.readyState){case 4:z&&
(clearTimeout(z.timeout),z=z.ajax=null),e(v,m),v.abort(),p.push(v)}};m&&m.onbeginrequest&&m.onbeginrequest.call(m,v);try{v.send(c)}catch(B){return!1}return z};m.form=function(a,b){for(var c=[],e=a.elements,f=0,g=e.length;f<g;++f){var l=e[f];switch(l.type.toLowerCase()){case "file":return h(a,b),!1;case "text":case "email":case "tel":case "phone":case "password":case "hidden":case "submit":case "image":l.name&&c.push([l.name,l.value]);continue;case "checkbox":case "radio":l.name&&l.checked&&c.push([l.name,
l.value?l.value:"on"]);continue}"TEXTAREA"==l.nodeName&&l.name?c.push([l.name,l.value]):"SELECT"==l.nodeName&&l.name&&c.push([l.name,l.value])}"post"==a.method.toLowerCase()?m.post(a.action,c,"multipart/form-data"==a.enctype,b):m.get(a.action,c,b)};m.stop=function(a){var b;a&&(b=a.ajax)&&(clearTimeout(a.timeout),b.onreadystatechange=null,b.abort())};m.url=function(a,b){a=a.split("?")[0];b=f(b);return[a,b].join("?")};m.stopAll=function(){if(n&&n.length)for(var a=0;a<n.length;a++){var b=n[a];b&&b.abort()}};
Core.AddHandler(window,"beforeunload",m.stopAll)})();var x,y,inDock=!1,interval,f_delta="";document.onmouseup=function(){stopDock()};function submitAvatarFile(){var a=$("avatar_load");a.style.visibility="visible";a.style.display="block";document.avatar_upload.submit()}function moveEvent(a){if(inDock){a||(a=window.event);var b=document.getElementById("image"),c=a.clientY-y,b=b.style;b.left=a.clientX-x+"px";b.top=c+"px";a.preventDefault&&a.preventDefault()}}
function startDock(a){a||(a=window.event);var b=document.getElementById("image");b&&(x=a.clientX-parseInt(b.style.left),y=a.clientY-parseInt(b.style.top),inDock=!0);a.preventDefault&&a.preventDefault()}function stopDock(){inDock=!1}function zoomIn(){var a=document.getElementById("image");if(a){var b=a.clientWidth,c=a.clientHeight,c=b/c,b=b+60,c=Math.round(b/c);a.style.width=b+"px";a.style.height=c+"px";a.style.left=parseInt(a.style.left)-30+"px";a.style.top=parseInt(a.style.top)-30+"px"}}
function zoomOut(){var a=document.getElementById("image");if(a){var b=a.clientWidth,c=a.clientHeight,c=b/c,b=b-60,c=Math.round(b/c);200<=b&&200<=c&&(a.style.width=b+"px",a.style.height=c+"px",a.style.left=parseInt(a.style.left)+30+"px",a.style.top=parseInt(a.style.top)+30+"px")}}function moveImage(a,b){a||(a=window.event);a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;f_delta=b;interval=setInterval(moveInterval,50)}
function moveInterval(){var a=document.getElementById("image"),b=10;if(a)switch(f_delta){case "bottom":b=-b;case "top":a.style.top=parseInt(a.style.top)+b+"px";break;case "right":b=-b;case "left":a.style.left=parseInt(a.style.left)+b+"px"}}function stopMoving(a){interval&&(clearInterval(interval),interval=null)}
function saveImage(a,b){var c=document.getElementById("image"),e=parseInt(c.style.left)-40,f=parseInt(c.style.top)-40;document.forms.coords.left.value=e=Math.ceil(-e*a/c.clientWidth);document.forms.coords.top.value=f=Math.ceil(-f*b/c.clientHeight);document.forms.coords.right.value=e+Math.ceil(200*a/c.clientWidth);document.forms.coords.bottom.value=f+Math.ceil(200*b/c.clientHeight);document.forms.coords.submit()}
function resizeAvatarIframe(a){a.style.height=a.contentWindow.document.body.scrollHeight+"px"};var globContainersCounter=1,globInputSize=63,globInputName="attachedFile",globClassName="attachInput";
function editComment(a){Attach.clearAttaches();var b=$("newmessage");b&&(b.style.display="block");b=parseInt(a);$("id_message");var c=$("content"+b),e=$("edit_id");$("edit_parent_id");var f=$("edit_cnew_cmd"),g=$("edit_csave_cmd"),h=$("admin_date_create"),l=document.getElementById("admin_not_modify"),m=$("date_create_"+b),p=$("author_info_"+a),n=$("admin_author");e&&(e.value=b);c&&set_content(c.innerHTML+"<br>",!1,!0);f&&g&&(f.style.display="none",g.style.display="block");h&&(h.value=null!=m?trim(m.innerHTML):
"");l&&(l.checked=!0);n&&p&&(n.value=p.title);Attach.setReadOnlyAttaches(Attach.getAttachesFromComment(a));$("extractorContainer")&&($("extractorContainer").innerHTML="",$("extractorContainer").className=$("extractor"+a)?"disabled":"")}
function editCommentCancel(){$("id_message");var a=$("edit_id"),b=$("edit_cnew_cmd"),c=$("edit_csave_cmd"),e=$("admin_date_create"),f=document.getElementById("admin_not_modify"),g=$("admin_author");a&&(a.value=0);window.MQRTE&&set_content(Dalet.isGecko?"<br>":"",!1,!0);b&&c&&(b.style.display="block",c.style.display="none");e&&(e.value="");g&&(g.value="");f&&(f.checked=!1);Attach.clearAttaches()}function Attach(){}
Attach.getAttachesFromComment=function(a){var b=[],c=0;a=$("cb_"+a);if(!a)return b;a=a.getElementsByTagName("DIV");for(var e=0;e<a.length;e++){var f=a[e].cloneNode(!0),g=f.getElementsByTagName("A");0<g.length&&(b[c]={obj:f,url:window.location.hostname==g[0].host?g[0].pathname:g[0].href},c++)}return b};
Attach.setReadOnlyAttaches=function(a){if(a&&0!=a.length){var b=$("readOnlyAttaches");if(!b){b=document.createElement("DIV");b.setAttribute("id","readOnlyAttaches");var c=$("multiattaches");c.insertBefore(b,c.firstChild)}b.innerHTML="";for(i in a)Attach.addHiddenValues(a[i].obj,a[i].url),Attach.addDeleteOption(a[i].obj),b.appendChild(a[i].obj)}};Attach.addHiddenValues=function(a,b){var c=document.createElement("INPUT");c.type="hidden";c.name=globInputName;c.value=b;a.appendChild(c)};
Attach.createNewContainer=function(a){a||(a=1);var b=$("newAttaches"),c=document.createElement("DIV");c.id="at_"+a;var e=document.createElement("INPUT");e.type="file";e.name=globInputName;e.id="_"+a;e.onchange=function(){Attach.onChangeFile(c.id)};e.className=globClassName;e.size=globInputSize;Attach.globAcceptFilter&&(e.accept=Attach.globAcceptFilter);c.appendChild(e);b.appendChild(c);return c};
Attach.onChangeFile=function(a){a=$(a);a.containsYet||(Attach.addDeleteOption(a),globContainersCounter++,Attach.createNewContainer(globContainersCounter),a.containsYet=!0)};Attach.addDeleteOption=function(a){var b=document.createElement("A");b.appendChild(document.createTextNode(window.deleteLabel?window.deleteLabel:"delete"));b.href="#";b.className="deleteAttachLink";a.appendChild(b);b.onclick=function(){return Attach.deleteContainer(a)}};
Attach.deleteContainer=function(a){var b=a.parentNode.getElementsByTagName("DIV").length,c=a.parentNode;a.parentNode.removeChild(a);1==b&&c.parentNode.removeChild(c);return!1};Attach.clearAttaches=function(){var a=$("readOnlyAttaches");a&&a.parentNode.removeChild(a);if(a=$("newAttaches"))a.innerHTML="";globContainersCounter=1;Attach.createNewContainer(1)};Attach.setAcceptFilter=function(a){Attach.globAcceptFilter=a};
function ShortComments(){function a(a){a=a||window.event;return 13===a.keyCode&&a.ctrlKey?!0:!1}function b(a,b){b&&(a.style.height=b+"px");a.clientHeight<a.scrollHeight&&(a.style.minHeight=a.scrollHeight+"px")}function c(a,b,c,e,f,g,h){this.moduleId=a;this.parentType=b;this.parentId=c;this.avatar=e;this.container=f;this.insertAfterElement=g;this.token=h}function e(a,b,c){this.html=a;this.container=b;this.insertAfterElement=c}function f(a){return"shortCommentForm_"+a.moduleId+"_"+a.parentType+"_"+
a.parentId}function g(a){return"shortCommentContent_"+a.moduleId+"_"+a.parentType+"_"+a.parentId}function h(c){var e="/"+v+"/short_comments/"+c.moduleId+"/"+c.parentId;if(!$(f(c))){var h=createElement(null,"DIV",{className:"shortComment wallComment",id:f(c)+"_cnt"}),p=createElement(h,"SPAN",{className:"shortCommentAvatar"}),m=createElement(h,"DIV",{className:"editShortCommentContent"}),n=createElement(m,"FORM",{className:"editShortComment addAction",id:f(c),action:e,method:"POST"});createElement(n,
"input",{type:"hidden",value:c.token,name:"__signature"});createElement(p,"IMG",{src:c.avatar,width:24,height:24});n.onsubmit=function(){return q(c)};e=createElement(n,"DIV",{className:"inputWrapper"});e=createElement(e,"textarea",{name:"content",id:g(c)});e.onblur=function(){0==this.value.length&&l(c)};e.onkeydown=function(b){if(a(b))n.onsubmit()};e.onkeyup=function(a){b(this,16)};e.style.height="16px";shortCommentsManager.toPostStatusLabel&&createElement(m,"span",{innerHTML:shortCommentsManager.toPostStatusLabel,
className:"textareaHelp"});createElement(n,"input",{type:"hidden",name:"moduleId",value:c.moduleId});createElement(n,"input",{type:"hidden",name:"parentType",value:c.parentType});createElement(n,"input",{type:"hidden",name:"parentId",value:c.parentId});createElement(n,"input",{type:"submit",className:"buttonSimple postStatus",value:""});m=null;c.insertAfterElement&&(m=c.insertAfterElement.nextSibling);apearBlockVertical(h,c.container,m,200);b(e,16);setTimeout(function(){$(g(c)).focus()},220)}}function l(a){(a=
$(f(a)+"_cnt"))&&a.parentNode&&a.parentNode.removeChild(a)}function m(a){a&&a.length&&t(new e(a,this.editData.container,this.insertAfterElement));l(this.editData);z=!1}function p(a){a=t(new e(a,this.container,this.insertAfterElement),!1);this.callback&&this.callback(a)}function n(a){z=!1;alert("Error")}function q(a){if(z)return!1;var b=$(f(a));if(!b)return!1;var c=b.content;if(!c||!c.value||!c.value.length)return!1;z=!0;Ajax.form(b,{onready:m,onerror:n,editData:a});return!1}function t(a,b){var c=
document.createElement("DIV");c.innerHTML=a.html;var e=null;a.insertAfterElement&&(e=a.insertAfterElement.nextSibling);var f=0;if(c.children)for(var g=0;g<c.children.length;g++){var h=c.children[g].cloneNode(!0);b?apearBlockVertical(h,a.container,e,Math.min(500,50*(g+1)),5):a.insertAfterElement?a.container.insertBefore(h,a.insertAfterElement):a.container.appendChild(h);f++}return f}function r(a){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}function u(a){var b=
[];if((b="undefined"==typeof JSON?eval("("+a+")"):JSON.parse(a))&&b.length)for(elementPrefix=this.elementPrefix||"sc_",a=0;a<b.length;a++){var c=$(elementPrefix+b[a]);c&&c.parentNode.removeChild(c)}}function w(a){$("commentsLoad_"+a).style.display="none";var b=$("hiddenComments_"+a);if(b){for(var c=b.nextSibling,e=c.parentNode,f=0;0<b.children.length;)e.insertBefore(b.children[0],c),f++;b.parentNode.removeChild(b);$("commentsHide_"+a).style.display="inline"}}var v=location.pathname.split("/")[1];
this.CheckSubmitHotKey=function(b){return a(b)};this.AutoGrowTextarea=function(a,c){return b(a,c)};var z=!1;this.NewComment=function(a,b,e,f,g,l,p){a=new c(a,b,e,f,g,l,p);h(a)};this.LoadComments=function(a,b,c,e,f,g,h,l){Ajax.get("/"+v+"/get_short_comments/"+a+"/"+b+"/"+c+"/"+e+"/"+f,null,{onready:p,onerror:n,container:g,insertAfterElement:h,callback:l})};this.Delete=function(a,b,c,e){c||(c="sc_");Ajax.post("/"+v+"/delete_short_comment/"+a+"/"+b,{__signature:e},!1,{onready:r,onerror:n,element:$(c+
b)})};this.DeleteByAuthor=function(a,b,c,e){c||(c="sc_");Ajax.post("/"+v+"/delete_short_comment_by_author/"+a+"/"+b,{__signature:e},!1,{onready:u,onerror:n,elementPrefix:c})};this.OnLoadCommentsClick=function(a,b,c,e,f){if($("hiddenComments_"+a))return w(a);var g=$("commentsCountWrapper_"+a);shortCommentsManager.LoadComments(b,c,a,e,f,$("comments_"+a),g.nextSibling,function(b){var c=$("commentsLoad_"+a),e=$("commentsCountWrapper_"+a);Class(e,"loading",!0);0>=b?c.style.visibility="visible":($("commentsLoad_"+
a).style.display="none",$("commentsHide_"+a).style.display="inline")});$("commentsLoad_"+a).style.display="none";Class(g,"loading")};this.HideComments=function(a,b){$("commentsHide_"+a).style.display="none";var c=$("hiddenComments_"+a);if(!c){var e=$("comments_"+a),c=createElement(null,"div",{id:"hiddenComments_"+a}),f=getElementsByClass("shortComment",$("comments_"+a));e.insertBefore(c,f[0]);for(e=0;e<f.length-b;e++)c.appendChild(f[e])}c.style.display="none";$("commentsLoad_"+a).style.display="inline"}}
var shortCommentsManager=new ShortComments;(function(){function a(){var a=document.body.getElementsByTagName("div")[0];n=createElement(a,"IFRAME",{className:"window-lock"});q=createElement(a,"DIV",{className:"window-lock"});n.style.height=q.style.height="100%";n.frameBorder=0;n.style.width=q.style.width="100%";t=createElement(document.body,"DIV",{className:"window"});a=createElement(t,"DIV",{className:"window-title"});a.appendChild(document.createElement("SPAN"));a.onmousedown=f;Q&&(w=createElement(a,"SPAN",{className:"window-close"}),w.onclick=
Q,0==document.location.protocol.indexOf("https")&&Class(w,"httpsClose"));v=createElement(t,"DIV",{className:"window-movelocker"});E=createElement(t,"DIV",{className:"window-content"});B&&(r=createElement(t,"DIV",{className:"window__resizeble-layer"}),u=createElement(t,"DIV",{className:"window__resizeble-btn"}),u.onmousedown=b)}function b(a){a||(a=window.event);a.preventDefault&&a.preventDefault();r.style.display="block";document.onmouseup=e;F.x=a.clientX;F.y=a.clientY;H.w=r.clientWidth;H.h=r.clientHeight;
document.onmousemove=c}function c(a){a||(a=window.event);a.preventDefault&&a.preventDefault();H.h+(a.clientY-F.y)>D&&(r.style.height=H.h+(a.clientY-F.y)+"px");H.w+(a.clientX-F.x)>A&&(r.style.width=H.w+(a.clientX-F.x)+"px")}function e(a){a||(a=window.event);a.preventDefault&&a.preventDefault();r.style.display="none";document.onmousemove=null;document.onmouseup=null;t.style.height=H.h+(a.clientY-F.y)>D?H.h+(a.clientY-F.y)+"px":D+"px";t.style.width=H.w+(a.clientX-F.x)>A?H.w+(a.clientX-F.x)+"px":A+"px"}
function f(a){a||(a=window.event);z=!0;document.onmousemove=g;document.onmouseup=h;R=parseInt(t.style.left)-a.clientX;S=parseInt(t.style.top)-a.clientY;v.style.display="block"}function g(a){if(z){a||(a=window.event);var b=a.clientX+R,c=a.clientY+S,e;0<(e=t.offsetWidth+b-q.offsetWidth)&&(b-=e);0<(e=t.offsetHeight+c-q.offsetHeight)&&(c-=e);0>b&&(b=0);0>c&&(c=0);t.style.left=b+"px";t.style.top=c+"px";try{window.getSelection&&(a=window.getSelection())?a.removeAllRanges():document.selection&&document.selection.empty()}catch(f){}}}
function h(){z&&(z=!1,v.style.display="")}function l(){var a=t.lastChild.firstChild;a&&(a.firstChild&&"shareContent"==a.firstChild.className?t.lastChild.removeChild(a):M?(M.insertBefore(a,K),M=null):t.lastChild.removeChild(a))}function m(a){for(;a;){if(a.tagName&&"body"==a.tagName.toLowerCase())return!0;a=a.parentNode}return!1}var p=window.Dialog={},n,q,t,r,u,w,v,z=!1,B=!1,A=0,D=0,E,F={},H={},R,S,M,K,Q;p.show=function(b,c,e,f,g,h,r,z,u,w){function H(){var a=window.innerHeight||document.documentElement.clientHeight,
b=window.innerWidth||document.documentElement.clientWidth;t.style.height="auto";E.style.maxHeight="none";f=t.offsetHeight;e=t.offsetWidth;b-40<=e&&(e=b-40);if(a-70<=f||600>=a-70)f=a-70,E.style.maxHeight=f-44+"px",E.style.overflow="auto";t.style.top=Math.round((a-f)/2)+"px";t.style.left=Math.round((b-e)/2)+"px";E.style.minWidth="0px";t.style.height=f+"px"}var F=!0;A=e;D=f;Q=g;u&&(B=!0);"fixed"===w&&(F=!1);g=m(c);t||a();t.style.visibility="hidden";n&&(n.style.display="");q&&(q.style.display="");t&&
(t.style.display="");E.style.minWidth=e+"px";B&&(E.style.minHeight=f+"px",t.style.width=e+"px",t.style.height=f+"px");v.style.height=f+20+"px";if(!r)if(h){var R;r=h.left;h=h.top;0<(R=t.offsetWidth+r-q.offsetWidth)&&(r-=R+10*(0<R?1:-1));0<(R=t.offsetHeight+h-q.offsetHeight)&&(h-=R+10*(0<R?1:-1));t.style.top=h+"px";t.style.left=r+"px"}else t.style.top=(document.body.scrollTop||document.documentElement.scrollTop)+Math.round(((window.innerHeight||document.documentElement.clientHeight)-f-24)/2)+"px",t.style.left=
Math.round((document.body.scrollWidth-e-4)/2)+"px";t.firstChild.firstChild.innerHTML=b;l();g&&(M=c.parentNode);K=c.nextSibling;E.appendChild(c);t.className=z?"window "+z:"window";F||(p.autoResize=Core.Bind(H,this),p.autoResize(),Core.AddHandler(window,"resize",p.autoResize));t.style.visibility="visible"};p.hide=function(a){Core.RemoveHandler(window,"resize",p.autoResize);try{l()}catch(b){}Q=void 0;n&&n.parentNode&&(n.parentNode.removeChild(n),n=null);t&&t.parentNode&&(t.parentNode.removeChild(t),
t=null);q&&q.parentNode&&(q.parentNode.removeChild(q),q=null);w&&w.parentNode&&w.parentNode.removeChild(w);w=null}})();function edit(a){var b=document.getElementById("newmessage");b&&(b.style.display="block");window.type="_"==(""+a).substr(0,1)?0:1;real_id=0==window.type?parseInt(a.substr(1,a.length)):parseInt(a);document.getElementById("id_message");var b=document.getElementById("subject_message"),c=document.getElementById("content"+real_id),e=document.getElementById("simple_message"),f=document.getElementById("edit_id");document.getElementById("edit_parent_id");var g=document.getElementById("edit_subject"),h=document.getElementById("edit_simple"),
l=document.getElementById("subject"),m=document.getElementById("edit_file");document.getElementById("subject");var p=document.getElementById("simple"),n=document.getElementById("edit_cnew_cmd"),q=document.getElementById("edit_csave_cmd"),t=document.getElementById("admin_date_create"),r=document.getElementById("admin_date_modify"),u=document.getElementById("admin_label_date_modify"),w=document.getElementById("admin_not_modify"),v=document.getElementById("admin_label_not_modify"),z=document.getElementById("date_create_"+
real_id),B=document.getElementById("date_modify_"+real_id);a=document.getElementById("author_info_"+a);var A=document.getElementById("admin_author");f&&(f.value=real_id);b&&g&&l&&(0==window.type?(l.value=b.value,g.style.display="block"):(l.value="",g.style.display="none"));c&&window.MQRTE&&set_content(c.innerHTML,!1,!0);if(m)try{m.value=""}catch(D){}e&&h&&p&&(0==window.type?(p.checked=0==e.value,h.style.display="block"):(p.checked=!1,h.style.display="none"));n&&q&&(n.style.display="none",q.style.display=
"block");t&&(t.value=null!=z?trim(z.innerHTML):"");r&&(r.style.display=0==window.type?"block":"none",r.value=0==window.type&&null!=B?trim(B.innerHTML):"");u&&(u.style.display=0==window.type?"block":"none");w&&(w.style.display="none",w.checked=!1);v&&(v.style.display="none");A&&a&&(A.value=a.title)}
function edit_cancel(){document.getElementById("id_message");var a=document.getElementById("edit_id"),b=document.getElementById("edit_subject"),c=document.getElementById("edit_simple"),e=document.getElementById("subject"),f=document.getElementById("edit_file");document.getElementById("subject");var g=document.getElementById("simple"),h=document.getElementById("edit_cnew_cmd"),l=document.getElementById("edit_csave_cmd"),m=document.getElementById("admin_date_create"),p=document.getElementById("admin_date_modify"),
n=document.getElementById("admin_label_date_modify"),q=document.getElementById("admin_not_modify"),t=document.getElementById("admin_label_not_modify"),r=document.getElementById("admin_author");a&&(a.value=0);b&&e&&(e.value="",b.style.display="none");window.MQRTE&&set_content(Dalet.isGecko?"<br>":"",!1,!0);if(f)try{f.value=""}catch(u){}c&&g&&(g.checked=!1,c.style.display="none");h&&l&&(h.style.display="block",l.style.display="none");m&&(m.value="");p&&(p.style.display="none",p.value="");n&&(n.style.display=
"none");q&&(q.style.display="inline",q.checked=!1);t&&(t.style.display="inline");r&&(r.value="")}
function quote_forum(a){var b=document.getElementById("newmessage");b&&(b.style.display="block");b=document.getElementById("content"+a);a=document.getElementById("author_info_"+a);if(b&&a){var b=b.cloneNode(!0),c=a.cloneNode(!0),e=c.getElementsByTagName("a");for(k=e.length-1;0<=k;--k)"fast_msg"==e[k].className&&e[k].parentNode.removeChild(e[k]);e=b.getElementsByTagName("DIV");for(k=e.length-1;0<=k;--k)"fquote"!=e[k].className&&"pocket"!=e[k].className||e[k].parentNode.removeChild(e[k]);e=b.getElementsByTagName("INPUT");
for(k=e.length-1;0<=k;--k)e[k].parentNode.removeChild(e[k]);e=b.getElementsByTagName("IMG");for(k=e.length-1;0<=k;--k)!e[k].parentNode||"A"!=e[k].parentNode.tagName&&"a"!=e[k].parentNode.tagName?e[k].parentNode.removeChild(e[k]):e[k].parentNode.parentNode.removeChild(e[k].parentNode);e=b.getElementsByTagName("EMBED");for(k=e.length-1;0<=k;--k)e[k].parentNode.removeChild(e[k]);e=b.getElementsByTagName("IFRAME");for(k=e.length-1;0<=k;--k)e[k].parentNode.removeChild(e[k]);e=b.getElementsByTagName("PRE");
for(k=e.length-1;0<=k;--k)e[k].parentNode.removeChild(e[k]);a='<strong><span style="color:#42639C;"'+(a.title?' title="'+a.title+'"':"")+">"+trim(c.innerText?c.innerText:c.textContent)+"</span>:</strong><br> "+b.innerHTML;b="";"undefined"!==typeof Dalet&&(Dalet.isMSIE&&!Dalet.isMSIE11&&(b="<p>&nbsp;</p><br>"),Dalet.isWebkit&&(b="<br>"));set_content('<div class="fquote">'+a+"</div>"+b,!0,!1);MQTE.Focus("body")}}
function toggleNewMessage(a){var b=document.getElementById("newmessage");if(a||"none"==b.style.display)return b.style.display="block",set_content("",!0,!1),MQTE.Focus("body"),$("extractorContainer")&&($("extractorContainer").className=""),!0;editCommentCancel();b.style.display="none";$("extractorContainer")&&($("extractorContainer").innerHTML="");return!1}
function win_ban_show(a,b,c,e,f,g){b=document.createElement("form");b.name="banForm";b.action="/";b.method="get";c=document.getElementById(c);b.innerHTML=c.innerHTML.replace(/HIDDEN/g,"").replace(/{IP}/,e).replace(/{COOKIE}/,f).replace(/{USER_LOGIN}/,g);Dialog.show(a,b,500,162,function(){Dialog.hide()})}
function win_multiban_show(a,b,c,e){b=document.createElement("form");b.name="banForm";b.action="/";b.method="get";c=document.getElementById(c);b.innerHTML=c.innerHTML.replace(/HIDDEN/g,"").replace(/{USER_LOGIN}/,e).replace(/{USER_LOGIN}/,e);Dialog.show(a,b,500,162,function(){Dialog.hide()})}
function win_edit_image_show(a,b,c){var e=document.createElement("iframe");e.id="iframe_avatar";e.name="iframe_avatar";e.frameBorder=0;e.scrolling="no";e.src="/"+a+"/users/"+b+"/avatar";e.onload=function(){resizeAvatarIframe(e)};e.style.width="100%";e.style.height="430px";e.style.overflow="hidden";Dialog.show(c,e,320,430)}
function ban_submit(a,b,c,e){c={__signature:c};c.period=document.getElementById("period").value;if(e)c.multi=!0;else{c.cookie=encodeURIComponent(document.getElementById("cookie").value);e=document.getElementById("ip_address").value;if(null==e.match("^(([0-9*]{1,3}.){3}([0-9*]{1,3}){1})?$")){alert("IP mask is not valid");return}c.ip=e}e=document.getElementById("comment").value;""==e?alert(b):(c.comment=encodeURIComponent(e),c.login=document.getElementById("login").value,Ajax.post(a,c,!0,{onready:function(a){window.location.reload()}},
!0))}function set_content(a,b,c){c?MQTE.SetContent("body",a):MQTE.InsertContent("body",a)}function trim(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}
function processAjaxSubscribe(a,b,c,e,f){if("inFavorite star"!=b.className&&"notInFavorite star"!=b.className)return!1;var g="inFavorite star"==b.className?"remove":"add",h="inFavorite star"==b.className?"add":"remove";a=a+("/"==a.charAt(a.length-1)?"":"/")+g;b.className="loading star";bindStarSrc(b,c);Ajax.post(a,{__signature:"add"==g?e:f},!1,{onready:function(a){"success"==eval(a)?b.className="add"==h?"notInFavorite star":"inFavorite star":(alert(eval(a)),b.className="add"==g?"notInFavorite star":
"inFavorite star");bindStarSrc(b,c)},onerror:function(a,e){alert(c.error);b.className="add"==g?"notInFavorite star":"inFavorite star";bindStarSrc(b,c)}});return!1}
function processAjaxSubscribeMarket(a,b,c,e,f){var g="true"===dataset(b,"subscribed"),h=g?"remove":"add";a=a+("/"==a.charAt(a.length-1)?"":"/")+h;Class(b,"loading");Ajax.post(a,{__signature:"add"===h?e:f},!1,{onready:function(a){Class(b,"loading",!0);"success"==eval(a)&&(dataset(b,"subscribed",g?"false":"true"),b.innerHTML=g?c.add:c.remove)},onerror:function(a,c){Class(b,"loading",!0)}});return!1}
function processAjaxSubscribeToModule(a,b,c){Ajax.post(a,c?{__signature:c}:{},!1,{onready:function(a){b.style.display="none"},onerror:function(a,c){b.style.display="none"}});return!1}function bindStarSrc(a,b){"inFavorite star"==a.className&&(a.title=b.remove);"notInFavorite star"==a.className&&(a.title=b.add);"loading star"==a.className&&(a.title="")}
function openAttachments(a,b){$(b).style.display="block";$(b+"_link").style.display="none";$(b+"_info").style.display="block";var c=$(a);c.className=c.className.replace("floatedAttaches","noFloatedAttaches");return!1}function MenuUpdater(){}MenuUpdater.startUpdating=function(a,b,c,e){Ajax.post(b,{__signature:e},!1,{onready:function(){var b=document.createElement("span");b.innerHTML=c;var e=$(a);e.parentNode.appendChild(b);e.parentNode.removeChild(e)}})};function Accounting(){}
Accounting.payForDisplay=function(a,b){Dialog.show(b,$(a),400,137);return!1};Accounting.payForSubmit=function(a){window.Ajax.form($(a),{onready:function(){window.Dialog.hide()},onerror:function(){alert("error occured")}})};Accounting.SetTypeCard=function(a,b){var c=$(b);c&&(a.value.startsWith("4")?c.className="visa":c.className="mastercard")};function Jobs(){}
Jobs.categoriesShow=function(a,b){var c=$(a);if(document.addEventListener){var e=function(a){a=a.target;for(var b=$("choiceCategory");a!==c&&a!==document.body&&a!==b;)a=a.parentNode;a!==c&&a!==b&&(document.removeEventListener("click",e,!0),c.style.display="none")};c&&("none"===c.style.display?document.addEventListener("click",e,!0):document.removeEventListener("click",e,!0))}toggle(a);return!1};
Jobs.categoriesApply=function(a){toggle("tree");for(var b=$("selCats"),c="",e=$("tree").getElementsByTagName("INPUT"),f=0,g=0;g<e.length;g++)e[g].checked&&(2>f?c+=e[g].nextSibling.innerHTML+", ":e[g].checked=!1,f++);c=0!=c.length?c.substr(0,c.length-2):a;b.innerHTML=c;return!1};
Jobs.categoriesChange=function(){var a,b,c=0,e,f=0;if((b=$("treeCheckWrapper"))&&document.querySelectorAll){var g=function(b){for(var c=0;c<a.length;c++)a[c].checked||(a[c].disabled=b)};a=b.querySelectorAll("input");for(c;c<a.length;c++)(function(c){a[c].onchange=function(){try{e=b.querySelectorAll("input:checked"),f=e.length}catch(c){e=b.querySelectorAll("input");for(var h=f=0;h<a.length;h++)a[h].checked&&f++}2<=f?g(!0):g(!1)}})(c)}};
function ShowArbitrageForm(){var a=$("arbitrage_window");a.style.display="block";a&&(Dialog.show(a.title,a,500,160),CalculateFieldLength($("arbitrage_reason"),"arbitrage_char_counter",3,150,!0))}function CloseArbitrageForm(){var a=$("arbitrage_window"),b=$("arbitrage_reason");b&&(b.value="");a&&(a.style.display="none");Dialog.hide()}
function ShowFeedbackForm(a){var b=$("feedback_window");b.style.display="block";a&&($("Rating").value=a.rating,$("Content").value=a.content,$("FeedbackID").value=a.id,$("JobRequestID").value=a.job_request_id,$("selectedStars").className="v"+a.rating+"0");b&&Dialog.show(b.title,b,700,300)}
function CloseFeedbackForm(){var a=$("feedback_window"),b=$("Content");b&&(b.value="");if(b=$("Rating"))b.value=3;if(b=$("FeedbackID"))b.value=-1;$("rating_container").firstChild.className="v"+$("Rating").value+"0";a&&(a.style.display="none");Dialog.hide()}function SubmitFeedbackForm(a,b,c,e,f,g){window.Ajax.post(f,{content:a,jobRequestID:b,rating:c,feedbackID:e,__signature:g},!1,{onready:OnfeedbackSucceed,onerror:OnFeedbackError})}function OnFeedbackError(a,b){location.reload(!0)}
function OnfeedbackSucceed(a,b){1==eval(a)||0==eval(a)?location.reload(!0):alert(eval(a))}
function MQAutoComplete(){this.placeholder=this.id=null;this.multiple=!1;this.items=[];this.ajaxQueryUrl=this.domContainer=this.defaultKey=null;this.buildAjaxQueryUrl=function(){return this.ajaxQueryUrl};this.onPopup=function(a,b){};this.onTyping=function(a){};this.onChange=function(a,b,c){};this.onStartSearching=function(){};this.onEndSearching=function(){};this.bindResult=function(a,b){a.innerHtml=b;a.item=b};this.loadItemValue=function(a){return a.item};this.loadResultValue=function(a){return a};
this.init=function(){this.initTo(document.getElementById(this.id))};this.initTo=function(a,b){this.id&&a&&(this._dom_field=a,this._dom_field.addEventListener?(this._dom_field.addEventListener("keypress",this._bind(this._suppressSubmit,this),!1),this._dom_field.addEventListener("keydown",this._bind(this._trackArrow,this),!1),this._dom_field.addEventListener("keyup",this._bind(this._trackKeywordChange,this),!1)):(this._dom_field.attachEvent("onkeypress",this._bind(this._suppressSubmit,this)),this._dom_field.attachEvent("onkeydown",
this._bind(this._trackArrow,this)),this._dom_field.attachEvent("onkeyup",this._bind(this._trackKeywordChange,this))),this._dom_dropdown=document.createElement("DIV"),this._dom_dropdown.className="select-edit-list",this._dom_dropdown.style.width=(b||this._dom_field.parentNode.clientWidth)+"px",this._dom_field.parentNode.parentNode.appendChild(this._dom_dropdown),this.domContainer=this._dom_field.parentNode.parentNode,this._dom_list=document.createElement("TABLE"),this._dom_dropdown.appendChild(this._dom_list),
this.placeholder&&0<this.placeholder.length?(this._dom_placeholder=document.createElement("SPAN"),this._dom_placeholder.style.display="none",this._dom_placeholder.style.position="absolute",this._dom_placeholder.style.marginTop="-22px",this._dom_placeholder.style.padding="1px 2px",this._dom_placeholder.style.color="#999",this._dom_placeholder.style.cursor="text",this._dom_placeholder.style.cursor="text",this._dom_field.addEventListener?(this._dom_field.addEventListener("focus",this._bind(this._gotFocus,
this),!1),this._dom_field.addEventListener("blur",this._bind(this._lostFocus,this),!1),this._dom_placeholder.addEventListener("click",this._bind(this._lostFocus,this),!1)):(this._dom_field.attachEvent("onfocus",this._bind(this._gotFocus,this),!1),this._dom_field.attachEvent("onblur",this._bind(this._lostFocus,this),!1),this._dom_placeholder.attachEvent("onclick",this._bind(this._lostFocus,this))),this._dom_field.parentNode.appendChild(this._dom_placeholder),0===this._dom_field.value.length&&(this._dom_placeholder.style.display=
"block")):this._dom_field.addEventListener?this._dom_field.addEventListener("blur",this._bind(this._lostFocus,this),!1):this._dom_field.attachEvent("onblur",this._bind(this._lostFocus,this)),0<this.items.length&&this._buildDropDown(this,this.items))};this.toggle=function(a){"block"===a._dom_dropdown.style.display?a._hideDropDown():a._showDropDown();a._dom_field.focus()};this.getVisible=function(){var a=this._dom_field.parentNode.parentNode;return a&&"hidden"!==a.style.visibility};this.setVisible=
function(a){this._setVisible(this,a)};this._setVisible=function(a,b){var c=a._dom_field.parentNode.parentNode;if(!c)return!1;c.style.visibility=b?"visible":"hidden";return!0};this.clone=function(a,b){var c=a||this._getID(this.id),e=new MQAutoComplete;e.id=c;e.items=this.items;e.onChange=this.onChange;e.loadItemValue=function(a){$(c+"Key").value=a.key;if(window[c+"Autocomplete"].onChange)window[c+"Autocomplete"].onChange(c,a.key,a.value);return a.value};e.loadResultValue=function(a){return a.key||
a.Key};e.bindResult=function(a,b){a.innerHTML=b.value||b.Value;a.key=b.key||b.Key;a.value=b.value||b.Value};e.onTyping=function(a,b){$(c+"Key").value=a.defaultKey;if(a.onChange)a.onChange(c,a.defaultKey,b.value)};var f=this._dom_field.parentNode.parentNode.cloneNode(!1),g=this._dom_field.parentNode.cloneNode(!1);f.appendChild(g);f=this._dom_field.cloneNode(!1);f.setAttribute("id",c);b&&f.setAttribute("name",b);f.value="";g.appendChild(f);var h=this._dom_field.parentNode.getElementsByTagName("input")[1].cloneNode(!1);
h.setAttribute("id",c+"Key");b&&h.setAttribute("name",b+"Key");g.appendChild(h);h=this._dom_field.parentNode.getElementsByTagName("a")[0].cloneNode(!0);h.setAttribute("onclick",c+"Autocomplete.toggle("+c+"Autocomplete)");g.appendChild(h);e.initTo(f,this._dom_field.parentNode.clientWidth);e._setVisible(e,this.getVisible());return window[c+"Autocomplete"]=e};this._dom_list=this._dom_dropdown=this._dom_placeholder=this._dom_field=null;this._searchCall=this._searching=this._preventLostFocus=!1;this._listItems=
[];this._dropDownListIndex=-1;this._getID=function(a){for(var b=1,c=a+b;$(c);)b++,c=a+b;return c};this._getValue=function(){return this.multiple&&0<=this._dom_field.value.indexOf("|")?this._dom_field.value.substring(this._dom_field.value.lastIndexOf("|")+1):this.multiple&&0<=this._dom_field.value.indexOf(",")?this._dom_field.value.substring(this._dom_field.value.lastIndexOf(",")+1):this.multiple&&0<=this._dom_field.value.indexOf(";")?this._dom_field.value.substring(this._dom_field.value.lastIndexOf(";")+
1):this._dom_field.value};this._setValue=function(a){this.multiple&&0<=this._dom_field.value.indexOf("|")?this._dom_field.value=this._dom_field.value.substring(0,this._dom_field.value.lastIndexOf("|")+1)+a:this.multiple&&0<=this._dom_field.value.indexOf(",")?this._dom_field.value=this._dom_field.value.substring(0,this._dom_field.value.lastIndexOf(",")+1)+a:this.multiple&&0<=this._dom_field.value.indexOf(";")?this._dom_field.value=this._dom_field.value.substring(0,this._dom_field.value.lastIndexOf(";")+
1)+a:this._dom_field.value=a};this._bind=function(a,b){return function(){return arguments?a(this,b,arguments[0]):a(this,b)}};this._bindIE=function(a,b,c){return function(){return a(c,b)}};this._showDropDown=function(){this.onPopup(this._dom_field,this._dom_dropdown);this._dom_dropdown.style.width=this._dom_field.parentNode.clientWidth+"px";this._dom_dropdown.style.display="none";this._dom_dropdown.style.height="auto";var a=document.body,b=document.documentElement,a=Math.max(a.scrollHeight,a.offsetHeight,
b.clientHeight,b.scrollHeight,b.offsetHeight);this._dom_dropdown.style.display="block";b=this._dom_dropdown.getBoundingClientRect().top-document.body.getBoundingClientRect().top;a=a-b-20;this._dom_dropdown.offsetHeight>a&&(this._dom_dropdown.style.overflowY="auto",this._dom_dropdown.style.height=a+"px")};this._hideDropDown=function(){this._dom_dropdown.style.display="none";0===this.items.length&&(this._listItems=[])};this._gotFocus=function(a,b,c){b._dom_placeholder&&(b._dom_placeholder.style.display=
"none",b._dom_field.focus())};this._lostFocus=function(a,b,c){0===b._dom_field.value.length&&b._dom_placeholder&&(b._dom_placeholder.style.display="block");a=c.explicitOriginalTarget||c.toElement;b._preventLostFocus||!a||"A"==a.tagName||"EM"==a.tagName||a.parentNode&&("A"==a.parentNode.tagName||"EM"==a.parentNode.tagName)||b._hideDropDown();b._preventLostFocus=!1};this._trackKeywordChange=function(a,b,c){c=c||window.event;a=c.keyCode;c.charCode&&0===a&&(a=c.charCode);40===a||38===a||13===a||32===
a||0===a||b._searching||b._searchCall||(setTimeout(function(){b._searchByKeyword(b)},500),b._searchCall=!0)};this._searchByKeyword=function(a){a._dropDownListIndex=-1;if(!(a._searching||0<a.items.length)){var b=a._getValue();if(2>b.length)a._searchCall=!1,a._hideDropDown();else{var c=a.buildAjaxQueryUrl();c&&(a._searching=!0,a._searchCall=!1,a._dom_field.className="wait",a._dom_field.style.backgroundPosition=a._dom_field.clientWidth-18+"px center",a.onStartSearching(),Ajax.get(c,{keyword:b},{onready:function(b){a.onEndSearching();
a._processCallBack(a,b)}}))}}};this._processCallBack=function(a,b){for(;a._dom_list.hasChildNodes();)a._dom_list.removeChild(a._dom_list.firstChild);if(null!=b&&""!=b&&"[]"!=b){var c=eval("("+b+")");a._listItems=[];if(1==c.length&&a._value==a.loadResultValue(c[0]))return a._hideDropDown(),a._searching=!1,a._dom_field.className="",!1;a._buildDropDown(a,c);a._showDropDown()}else a._hideDropDown();a._searching=!1;a._dom_field.className="";return!0};this._buildDropDown=function(a,b){for(var c=0;c<b.length;c++){var e=
a._dom_list.insertRow(a._dom_list.rows.length).insertCell(0),f=document.createElement("A");f.href="javascript:void(false);";a.bindResult(f,b[c]);f.addEventListener?f.addEventListener("click",a._bind(a._itemClick,a),!1):f.attachEvent("onclick",a._bindIE(a._itemClickIE,a,c));a._listItems.push(f);e.appendChild(f)}};this._itemClick=function(a,b){if(a.className&&"more"===a.className)return!1;b._setValue(b.loadItemValue(a,!0));b._hideDropDown();return!1};this._itemClickIE=function(a,b){var c=b._listItems[a];
if(c&&c.className&&"more"===c.className)return!1;b._setValue(b.loadItemValue(c,!0));b._hideDropDown();return!1};this._suppressSubmit=function(a,b,c){b.onTyping(a);return!0};this._trackArrow=function(a,b,c){c=c||window.event;a=c.keyCode;c.charCode&&0===a&&(a=c.charCode);if(b._listItems&&0<b._listItems.length)switch(a){case 40:c.preventDefault&&c.preventDefault();-1!==b._dropDownListIndex&&b._listItems[b._dropDownListIndex]&&(b._listItems[b._dropDownListIndex].className="");b._dropDownListIndex<b._listItems.length-
1?++b._dropDownListIndex:b._dropDownListIndex=0;c=b._listItems[b._dropDownListIndex];"more"==c.className&&(b._dropDownListIndex=0,c=b._listItems[b._dropDownListIndex]);b._setValue(b.loadItemValue(c,!1));c.className="selected";b._preventLostFocus=!0;b._trackScrolledVisibility(c,b);break;case 38:c.preventDefault&&c.preventDefault();-1!==b._dropDownListIndex&&b._listItems[b._dropDownListIndex]&&(b._listItems[b._dropDownListIndex].className="");0>=b._dropDownListIndex?b._dropDownListIndex=b._listItems.length-
1:--b._dropDownListIndex;-1!==b._dropDownListIndex&&b._listItems[b._dropDownListIndex]&&(c=b._listItems[b._dropDownListIndex],"more"==c.className&&(b._dropDownListIndex=b._listItems.length-2,c=b._listItems[b._dropDownListIndex]),b._setValue(b.loadItemValue(c,!1)),c.className="selected",b._trackScrolledVisibility(c,b));break;case 13:case 32:case 0:return b._hideDropDown(),!1;case 27:return b._dom_field.focus(),b._hideDropDown(),!1;case 8:return b._dom_field.focus(),b._dom_field.value=b._dom_field.value.substring(0,
b._dom_field.value.length),b._searching||b._searchCall||(setTimeout(function(){b._searchByKeyword(b)},500),b._searchCall=!0),!1}return!0};this._trackScrolledVisibility=function(a,b){if(a){var c=a.parentNode.parentNode,e=c.parentNode.parentNode.parentNode;if(e&&c.offsetTop+c.offsetHeight>e.scrollTop+e.offsetHeight){var f=b._listItems[b._dropDownListIndex+1];e.scrollTop=f&&"more"==f.className?c.offsetTop+c.offsetHeight-e.offsetHeight+f.parentNode.parentNode.offsetHeight:c.offsetTop+c.offsetHeight-e.offsetHeight}e&&
c.offsetTop<e.scrollTop&&(e.scrollTop=c.offsetTop)}}}
function AutoCompleteSkill(){MQAutoComplete.call(this);this.id="skill-adder";this.loadItemValue=function(a){return a.name||a.Name||a.getAttribute("data-name")};this.loadResultValue=function(a){return a.id||a.ID};this.initTo=function(a,b){var c,e=this;if(this.id&&a){this._dom_skill_res_list=$("skillList");if(this._dom_skill_res_list.querySelectorAll){c=this._dom_skill_res_list.querySelectorAll(".icon-cross");for(var f=0;f<c.length;f++)(function(a){c[a].onclick=function(){e._deleteResItem(c[a])};DataTooltip(500,
c[a].parentNode)})(f)}this.result||(this.result=[]);this.presetJson=null;this._dom_field=a;Core.AddHandler(this._dom_field,"keypress",this._bind(this._suppressSubmit,this));Core.AddHandler(this._dom_field,"keydown",this._bind(this._trackArrow,this));Core.AddHandler(this._dom_field,"keyup",this._bind(this._trackKeywordChange,this));Core.AddHandler(this._dom_field,"blur",this._bind(this._lostFocus,this));Core.AddHandler(this._dom_field,"focus",this._bind(this._showPreset,this));this._dom_dropdown=document.createElement("DIV");
this._dom_dropdown.className="skills-list";this._dom_field.parentNode.appendChild(this._dom_dropdown);this.domContainer=this._dom_field.parentNode;this._dom_list=this._dom_dropdown;0<this.items.length&&this._buildDropDown(this,this.items)}};this._showDropDown=function(){var a,b;this.onPopup(this._dom_field,this._dom_dropdown);html=document.documentElement;a=screen.height;this._dom_dropdown.style.display="block";this._dom_dropdown.getBoundingClientRect();document.body.getBoundingClientRect();b=this._dom_dropdown.offsetHeight;
b>a-60?(this._dom_dropdown.style.overflowY="auto",this._dom_dropdown.style.height=a-60+"px"):660<b&&(this._dom_dropdown.style.overflowY="auto",this._dom_dropdown.style.height="600px")};this._lostFocus=function(a,b,c){a=c.explicitOriginalTarget||c.toElement;c=b._dom_dropdown;var e=a,f="";if(e)for(e.className&&(f=e.className);0>f.indexOf("item")&&e.parentNode!==c&&e!==document.body;)e=e.parentNode,f=e.className?e.className:"";a&&e===c||setTimeout(function(){b._setValue("");b._hideDropDown()},300)};
this._buildDropDown=function(a,b){for(var c=0;c<b.length;c++){var e;0<=this.result.indexOf(b[c].id||b[c].ID)||(e=createElement(a._dom_list,"div",{className:"item"}),a.bindResult(e,b[c]),e.addEventListener?e.addEventListener("click",a._bind(a._itemClick,a),!1):e.attachEvent("onclick",a._bindIE(a._itemClickIE,a,c)),a._listItems.push(e))}};this.bindResult=function(a,b){var c=b.name||b.Name,e=b.description||b.Description,f=b.id||b.ID;a.innerHTML=c;a.setAttribute("data-name",c);a.setAttribute("data-description",
e);a.setAttribute("data-id",f)};this._showPreset=function(a,b){var c=b.buildAjaxQueryUrl();c&&(b._searching=!0,b._searchCall=!1,Class(b._dom_field,"wait"),b.onStartSearching(),b.presetJson?b._processCallBack(b,b.presetJson):Ajax.get(c,{keyword:""},{onready:function(a){b.presetJson=a;b.onEndSearching();b._processCallBack(b,a)}}))};this._searchByKeyword=function(a){var b,c;a._dropDownListIndex=-1;!(a._searching||0<a.items.length)&&(b=a._getValue(),c=a.buildAjaxQueryUrl())&&(a._searching=!0,a._searchCall=
!1,Class(a._dom_field,"wait"),a.onStartSearching(),Ajax.get(c,{keyword:b},{onready:function(b){a.onEndSearching();a._processCallBack(a,b)}}))};this._processCallBack=function(a,b){for(;a._dom_list.hasChildNodes();)a._dom_list.removeChild(a._dom_list.firstChild);if(null!=b&&""!=b&&"[]"!=b){var c=eval("("+b+")");a._listItems=[];if(1==c.length&&a._value==a.loadResultValue(c[0]))return a._hideDropDown(),a._searching=!1,Class(a._dom_field,"wait",!0),!1;a._buildDropDown(a,c);a._showDropDown()}else a._hideDropDown();
a._searching=!1;Class(a._dom_field,"wait",!0);return!0};this._deleteResItem=function(a){a=a.parentNode;a.parentNode.removeChild(a);a=this.result.indexOf(parseInt(a.getAttribute("data-id")));-1<a&&this.result.splice(a,1)};this._createResItem=function(a){if(!a)return!1;var b,c,e=this,f=a.getAttribute("data-id");e.result.push(parseInt(f));b=createElement(this._dom_skill_res_list,"div",{className:"item"});b.setAttribute("data-tooltip",a.getAttribute("data-description"));b.setAttribute("data-id",f);b.innerHTML=
a.getAttribute("data-name");createElement(b,"input",{type:"hidden",name:"skills",value:f});c=createElement(b,"span",{className:"icon-cross"});c.onclick=function(){e._deleteResItem(c)};DataTooltip(500,b)};this._itemClick=function(a,b){if(a.className&&"more"===a.className)return!1;b._setValue("");b._createResItem(a);b._hideDropDown();return!1};this._itemClickIE=function(a,b){var c=b._listItems[a];if(c&&c.className&&"more"===c.className)return!1;b._setValue("");b._createResItem(c);b._hideDropDown();
return!1};this._trackKeywordChange=function(a,b,c){c=c||window.event;a=c.keyCode;c.charCode&&0===a&&(a=c.charCode);40===a||38===a||13===a||32===a||0===a||39===a||37===a||b._searching||b._searchCall||(setTimeout(function(){b._searchByKeyword(b)},500),b._searchCall=!0)};this._trackArrow=function(a,b,c){c=c||window.event;a=c.keyCode;c.charCode&&0===a&&(a=c.charCode);if(b._listItems&&0<b._listItems.length)switch(a){case 39:case 40:c.preventDefault&&c.preventDefault();-1!==b._dropDownListIndex&&b._listItems[b._dropDownListIndex]&&
Class(b._listItems[b._dropDownListIndex],"selected",!0);b._dropDownListIndex<b._listItems.length-1?++b._dropDownListIndex:b._dropDownListIndex=0;c=b._listItems[b._dropDownListIndex];"more"===c.className&&(b._dropDownListIndex=0,c=b._listItems[b._dropDownListIndex]);b._setValue(b.loadItemValue(c,!1));Class(c,"selected");b._preventLostFocus=!0;b._trackScrolledVisibility(c,b);break;case 37:c.preventDefault&&c.preventDefault();-1!==b._dropDownListIndex&&b._listItems[b._dropDownListIndex]&&Class(b._listItems[b._dropDownListIndex],
"selected",!0);0>=b._dropDownListIndex?b._dropDownListIndex=b._listItems.length-1:--b._dropDownListIndex;-1!==b._dropDownListIndex&&b._listItems[b._dropDownListIndex]&&(c=b._listItems[b._dropDownListIndex],"more"==c.className&&(b._dropDownListIndex=b._listItems.length-2,c=b._listItems[b._dropDownListIndex]),b._setValue(b.loadItemValue(c,!1)),Class(c,"selected"),b._trackScrolledVisibility(c,b));break;case 13:case 32:case 0:c=b._listItems[b._dropDownListIndex];if(!c)return!1;b._createResItem(c);b._setValue("");
return!1;case 27:return b._dom_field.focus(),b._hideDropDown(),!1;case 8:return b._dom_field.focus(),b._dom_field.value=b._dom_field.value.substring(0,b._dom_field.value.length),b._searching||b._searchCall||(setTimeout(function(){b._searchByKeyword(b)},500),b._searchCall=!0),!1}return!0}}
function Searchbox(){this.multiselect_separator=",";var a=this;this.AjaxEnabled=!0;this.OnRenderResults=function(a){return!0};this.OnRenderElement=void 0;this.OnSelectResult=function(a){return!0};this.ShowHide=function(){var a=$("searchBoxContainer");if(!a)return!0;if("searchBoxContainer"==a.className)return a.className="searchBoxContainer open",!1;alert("need submit");a.className="searchBoxContainer";return!0};this.Render=function(b,c,e,f,g,h){(oldIEelement=$(c))&&oldIEelement.parentNode.removeChild(oldIEelement);
this.requestURL=g;this.container=$(b);b=document.createElement("div");b.className="searchbox";this.container.style.position="relative";this.input=document.createElement("input");this.input.type="text";this.input.id=c;this.input.name=c;this.input.value=e;this.input.title=h;this.input.className="input";this.input.style.width="100%";this.input.setAttribute("autocomplete","off");this.input.onkeyup=this.OnKeyPress;this.input.onkeydown=this.OnKeyDown;b.appendChild(this.input);this.container.appendChild(b);
this.Multiselect=f;this.input.onblur=function(){var b=this;b.focused=!1;window.setTimeout(function(){b.focused||(a.ResultsPanel.Hide(),""==b.value&&a.ShowHelpText())},10)};this.input.onfocus=function(){this.focused=!0;a.HideHelpText()};this.HelpText=createElement(null,"div",{className:"searchboxHelpText"});this.HelpText.style.position="absolute";this.HelpText.style.top="1px";this.HelpText.style.color="#626363";this.HelpText.style.padding="2px";this.HelpText.style.lineHeight="15px";this.HelpText.innerHTML=
h;this.container.appendChild(this.HelpText);this.HelpText.onclick=this.HideHelpText;this.HelpText.onscreen=!0;this.HelpText.style.display="none";""==this.input.value&&(this.HelpText.style.display="")};this.HideHelpText=function(){a.HelpText.onscreen&&(a.HelpText.style.display="none");a.HelpText.onscreen=!1;a.input.focus()};this.ShowHelpText=function(){a.HelpText.onscreen||(a.HelpText.style.display="");a.HelpText.onscreen=!0};this.PressTimeout=null;this.SendAjaxDelay=500;this.OnKeyPress=function(b){a.PressTimeout&&
clearTimeout(a.PressTimeout);b||(b=window.event);if(13==b.keyCode&&0<=a.ResultsPanel.SelectedResult){if(0==a.ResultsPanel.ResultsInDom())return!0;a.ResultsPanel.Hide();a.OnSelectResult&&a.OnSelectResult(eval(a.JSON)[a.ResultsPanel.SelectedResult]);return!1}if(40==b.keyCode||38==b.keyCode)return!1;1<a.GetValue().length&&1==a.AjaxEnabled?a.PressTimeout=setTimeout(function(){var b=a.GetValue();Ajax.get(a.requestURL,{keyword:b},{onready:a.SearchCallBack})},a.SendAjaxDelay):a.ResultsPanel.Hide();return!0};
a.OnKeyDown=function(b){b||(b=window.event);if(13==b.keyCode){if(0==a.ResultsPanel.ResultsInDom())return!0;a.OnSelectResult&&a.OnSelectResult(eval(a.JSON)[a.ResultsPanel.SelectedResult]);return a.ResultsPanel.Hide()}return 40==b.keyCode?(a.ResultsPanel.SelectedResult+=1,a.MoveCursor(!0),!1):38==b.keyCode&&0<=a.ResultsPanel.SelectedResult?(--a.ResultsPanel.SelectedResult,a.MoveCursor(!0),!1):!0};this.ResultsPanel=function(){};this.ResultsPanel.ID="searchboxResultsPanel";this.ResultsPanel.ResultsInDom=
function(){return null!=$(a.ResultsPanel.ID)};this.ResultsPanel.SelectedResult=-1;this.ResultsPanel.OnClick=function(b){b=b||window.event;b.target||(b.target=b.srcElement);b.target&&a.SetValue(b.target.login);a.ResultsPanel.Hide();a.OnSelectResult&&a.OnSelectResult(eval(a.JSON)[a.ResultsPanel.SelectedResult])};this.ResultsPanel.RenderResults=function(){var b=eval(a.JSON);a.ResultsPanel.SelectedResult=-1;if(b&&0!=b.length&&a.input.focused){if(0==a.ResultsPanel.ResultsInDom()){a.ResultsPanel.panel=
document.createElement("div");a.ResultsPanel.panel.style.backgroundColor="#FFFFFF";a.ResultsPanel.panel.id=a.ResultsPanel.ID;a.ResultsPanel.panel.style.position="absolute";var c=getOffsetRect(a.container);a.ResultsPanel.panel.style.top=c.top+(a.container.clientHeight||20)-3+"px";a.ResultsPanel.panel.style.left=c.left+"px";a.ResultsPanel.panel.style.minWidth=a.container.offsetWidth+"px";a.ResultsPanel.panel.style.zIndex=3001;a.ResultsPanel.panel.style.cursor="default";a.ResultsPanel.panelBox=document.createElement("div");
a.ResultsPanel.panelBox.style.border="solid 1px #000000";a.ResultsPanel.panelBox.style.color="#000000";a.ResultsPanel.panel.appendChild(a.ResultsPanel.panelBox);document.body.appendChild(a.ResultsPanel.panel)}a.ResultsPanel.panelBox.innerHTML="";if(1==b.length&&b[0].Login==a.GetValue())a.ResultsPanel.SelectedResult=-1,a.SetValue(b[0].Login),a.ResultsPanel.Hide();else for(var e in b)a.OnRenderElement?c=a.OnRenderElement(b[e]):(c=document.createElement("div"),c.innerHTML=encodeHtml(b[e].Login+(b[e].Name&&
""!=b[e].Name?" ("+b[e].Name+")":"")),c.style.padding="2px",c.login=b[e].Login,c.number=e,c.style.cursor="default",c.style.zIndex=101,c.onmouseover=a.HoverResult,c.onclick=a.ResultsPanel.OnClick,c.onmousedown=function(){setTimeout(function(){a.input.focus()},0)}),c&&a.ResultsPanel.panelBox.appendChild(c)}else a.ResultsPanel.Hide()};this.ResultsPanel.Hide=function(){a.OnRenderResults("[]");1==a.ResultsPanel.ResultsInDom()&&(a.OnSelectResult&&0<=a.ResultsPanel.SelectedResult&&a.OnSelectResult(eval(a.JSON)[a.ResultsPanel.SelectedResult]),
a.ResultsPanel.panel.parentNode.removeChild(a.ResultsPanel.panel));return!1};this.HoverResult=function(b){b||(b=window.event);var c=b.toElement;c||(c=b.currentTarget);a.ResultsPanel.SelectedResult=c.number;a.MoveCursor(!1)};this.SearchCallBack=function(b){a.JSON=b;a.OnRenderResults(b)&&a.ResultsPanel.RenderResults()};this.MoveCursor=function(b){var c=a.ResultsPanel.panelBox.childNodes,e=c.length;a.ResultsPanel.SelectedResult>=e&&(a.ResultsPanel.SelectedResult=0);0>a.ResultsPanel.SelectedResult&&0<
e&&(a.ResultsPanel.SelectedResult=e-1);0==e&&(a.ResultsPanel.SelectedResult=-1);for(var f in c)c[f].style&&(c[f].style.backgroundColor="#FFFFFF",c[f].style.color="#000",c[f].number==a.ResultsPanel.SelectedResult&&(c[f].style.backgroundColor="Highlight",c[f].style.color="#FFF",b&&a.SetValue(c[f].login)))};this.SetValue=function(b){b&&0<b.length&&this.HideHelpText();if(a.Multiselect){var c=a.input.value.substring(0,a.input.value.lastIndexOf(a.multiselect_separator));a.input.value=c+(""==c?"":a.multiselect_separator)+
b}else a.input.value=b};this.GetValue=function(){if(!a.Multiselect)return a.input.value;var b=a.input.value;return b.substring(b.lastIndexOf(a.multiselect_separator)+1)}}
function UserLinkMenu(){var a=null,b=null,c=null,e=null;mqGlobal.AddOnReady(function(){UserLinkMenu.Init()});this.Init=function(){if(a=$("userLinkMenu"))if(b=$("userLinkContainer"))if(c=$("userlink"),!Core.IsTouchDevice())null!=b&&(b.onmouseover=function(){UserLinkMenu.Show()},b.onmouseout=function(){UserLinkMenu.Hide()});else if(void 0==$("sidebarToggleButton")){null!=c&&(c.onclick=function(){UserLinkMenu.Show();return!1});a.onmousedown=function(a){Core.StopProp(a);Core.PreventSelection()};a.onclick=
function(a){Core.StopProp(a)};e=document.createElement("input");e.type="checkbox";e.className="blurHandler";e.onblur=function(){UserLinkMenu.Hide()};a.appendChild(e);var f=a.getElementsByTagName("a"),g;for(g in f)f[g].onmousedown=function(a){a=a||window.event;Core.StopProp(a);a.preventDefault&&a.preventDefault()}}};this.Show=function(){a.className="userLinkMenu hovered";null!=e&&window.setTimeout(function(){e.focus()},10)};this.Hide=function(){a.className="userLinkMenu"}}UserLinkMenu=new UserLinkMenu;
function SearchBoxContainer(){var a=!1,b=!1,c,e,f,g;mqGlobal.AddOnReady(function(){SearchBoxContainer.Init()});this.Init=function(){f=$("searchBoxContainer");e=$("keyword");g=$("searchSubmit");c=$("main_search_form");null!=f&&null!=e&&null!=g&&null!=c&&(void 0!=f.className&&0<=f.className.indexOf("open")&&(b=a=!0),b||(e.onblur=function(){SearchBoxContainer.Hide(null,!0)},e.onkeydown=function(a){27==(a||window.event).keyCode&&(SearchBoxContainer.Hide(null,!0),this.blur())},f.onclick=function(){SearchBoxContainer.Show(null,
!0)},g.onmouseout=function(a){Core.StopProp(a)},g.onmousedown=function(b){a&&(Core.StopProp(b),b.preventDefault&&b.preventDefault())}),g.onclick=function(b){if(a)if(Core.StopProp(b),b.preventDefault&&b.preventDefault(),c.onsubmit)c.onsubmit();else c.submit()},Core.IsTouchDevice()||b||(f.onmouseover=function(){SearchBoxContainer.Show(null,!1)},f.onmouseout=function(){SearchBoxContainer.Hide(null,!1)}))};this.ShowHide=function(){a?this.Hide(f,!0):this.Show(f,!0);return!1};this.Show=function(b,c){var g=
b||f;if(!g)return!1;g.className="searchBoxContainer open";$("privateAreaMessages")&&($("privateAreaMessages").style.display="none");$("langMenuContainer")&&($("langMenuContainer").style.display="none");$("loginRegisterButtons")&&($("loginRegisterButtons").style.display="none");$("profile")&&($("profile").style.display="none");if(c||Core.IsTouchDevice())a=!0,e.focus();return!1};this.Hide=function(b,c){if(!c&&a)return!1;var e=b||f;if(!e)return!1;e.className="searchBoxContainer";c&&(a=!1);$("privateAreaMessages")&&
($("privateAreaMessages").style.display="inline-block");$("langMenuContainer")&&($("langMenuContainer").style.display="inline-block");$("loginRegisterButtons")&&($("loginRegisterButtons").style.display="inline-block");$("profile")&&($("profile").style.display="inline-block");return!1};mqGlobal.AddOnReady(function(){HotKeys.Add(112,function(a){SearchBoxContainer.ShowHide()})})}SearchBoxContainer=new SearchBoxContainer;
function MoveComments(){function a(){var a=$("content"+e);if(!a)return null;var a=a.getElementsByTagName("P"),b;for(b in a)if(void 0!=a[b].innerHTML&&10<a[b].innerHTML.length&&64>a[b].innerHTML.length&&0>a[b].innerHTML.indexOf(".")&&0>a[b].innerHTML.indexOf("<")&&0>a[b].innerHTML.indexOf(">")&&10<a[b].innerHTML.indexOf("?"))return a[b].innerHTML;return null}function b(a,b){var c=$("content"+e);if(c){var c=c.parentNode.parentNode,f=c.parentNode.childNodes;c.style.borderTop=a?"medium none":"2px dashed #6982AE";
c.style.marginTop=a?"0px":"-2px";var g=!1,h=0,r;for(r in f){if(b&&0<b&&h>=b)break;f[r]==c&&(g=!0);!g||void 0==f[r].className||0>f[r].className.indexOf("comment")||(f[r].style.backgroundColor=a?"":"#F6F8FD",h++)}a||b?(r=$("followingCommentsLabel"))&&c.parentNode.removeChild(r):(r=document.createElement("div"),r.id="followingCommentsLabel",window.move_comments_show_following_label?(r.innerHTML=window.move_comments_following_label_title,r.style.backgroundColor="#F6F8FD",r.style.position="relative",r.style.fontSize=
"16px",r.style.textAlign="center",r.style.padding="10px",r.style.borderBottom="1px dashed #6982AE",r.style.borderTop="1px dashed #6982AE",r.style.marginTop="-1px",r.style.color="#6982AE"):(r.style.backgroundColor="#FFF",r.style.position="relative",r.style.borderTop="2px dashed #6982AE",r.style.marginTop="-2px",r.style.height="0px"),c.parentNode.appendChild(r))}}var c,e,f,g,h=!1;this.ShowForm=function(l,m,p){if(h)return!1;var n=$("moveComments_window"),q=$("moveComments_newTopicName"),t=$("existing_only_one"),
r=$("new_only_one");n&&(c={firstCommentId:l,categoryId:0,newTopicTitle:null},r.checked=t.checked=p?null:!0,g=p?1:0,e=l,f=m,b(!1,g),q.value=a(),h=!0,n.style.display="",Dialog.show(window.move_comments_title,n,500,142,MoveComments.CloseForm),q.focus());return!1};this.CloseForm=function(){var a=$("moveComments_window");a&&(b(!0),h=!1,a.style.display="none",Dialog.hide())};this.SendForm=function(a){if(!$("moveComments_window"))return!1;c.newTopicTitle=$("moveComments_newTopicName").value;c.categoryId=
$("moveComments_categoryId").value;c.count=g;c.__signature=a;if(""==c.newTopicTitle||0==c.categoryId)return!1;Ajax.post("/"+f+"/forum/movecomments",c,!1,{onready:function(a){a=eval("("+a+")");null!=a&&void 0!=a.Url&&null!=a.Url?(MoveComments.CloseForm(),window.location.href=a.Url):(alert("error"),MoveComments.CloseForm());window.location.reload();return!1},onerror:function(){alert("error");MoveComments.CloseForm();window.location.reload()}});return!1};this.SendFormExisting=function(a){if(!$("moveComments_window"))return!1;
c.topicId=$("existing_topic_id").value;c.__signature=a;c.count=g;if(!c.topicId)return!1;Ajax.post("/"+f+"/forum/movecomments_existing",c,!1,{onready:function(a){a=eval("("+a+")");null!=a&&void 0!=a.Url&&null!=a.Url?(MoveComments.CloseForm(),window.location.href=a.Url):(alert("error"),MoveComments.CloseForm());window.location.reload();return!1},onerror:function(){alert("error");MoveComments.CloseForm();window.location.reload()}});return!1};this.OnOnlyOneChanged=function(a){var c=$("existing_only_one");
c&&(c.checked=a.checked);if(c=$("new_only_one"))c.checked=a.checked;g=a.checked?0:1;b(!0);b(!1,g)}}MoveComments=new MoveComments;
function MoveTopic(){var a,b,c=!1;this.ShowForm=function(e,f){if(c)return!1;var g=$("moveTopic_window");g&&(a={topicId:e,categoryId:0},b=f,c=!0,g.style.display="",Dialog.show(window.move_topic_title,g,500,142,MoveTopic.CloseForm));return!1};this.CloseForm=function(){var a=$("moveTopic_window");a&&(c=!1,a.style.display="none",Dialog.hide())};this.SendForm=function(c){if(!$("moveTopic_window"))return!1;a.categoryId=+$("moveTopic_categoryId").value;a.__signature=c;if(1>a.categoryId)return!1;Ajax.post("/"+
b+"/forum/movetopic",a,!1,{onready:function(a){a=eval("("+a+")");null!=a&&void 0!=a.Url&&null!=a.Url?(MoveTopic.CloseForm(),window.location=a.Url):(alert("error"),MoveTopic.CloseForm(),window.location.reload());return!1},onerror:function(){alert("error");MoveTopic.CloseForm();window.location.reload()}});return!1}}MoveTopic=new MoveTopic;
function showComplaintForm(a,b,c,e,f,g){var h=$("complaint_window");if(h){var l=$("complaint_reason");h.style.display="";h.complaintData={userID:a,moduleID:c,typeID:e,parentModuleID:f,itemID:b,__signature:g};Dialog.show(l?l.title:null,h,500,160,CloseComplaintForm);CalculateFieldLength($("complaint_reason"),"complaint_char_counter",3,150,500==$("complaint_reason_select").value)}}
function CloseComplaintForm(){RefreshComplaintForm();var a=$("complaint_window"),b=$("complaint_reason");b&&(b.value="");a&&(a.style.display="none");Dialog.hide()}function ComplainCallback(a){"success"==eval(a)?CloseComplaintForm():$("complaint_error").style.display=""}
function SendComplaint(){RefreshComplaintForm();var a=$("complaint_window");if(a){var a=a.complaintData,b=document.getElementById("complaint_reason_select").value;if(500==b&&!window.Validate($("complaintForm")))return!1;var c=$("complaint_reason");c&&(a.reason=c.value,a.reasonID=b,Ajax.post("/complaint/new",a,!1,{onready:ComplainCallback,onerror:ComplainCallback}))}}
function RefreshComplaintForm(){var a=$("complaint_info").childNodes,b;for(b in a)a[b]&&"field-validation-error"==a[b].className&&"complaint_error"!=a[b].id&&(a[b].innerHTML="");$("complaint_reason").className=null;$("complaint_error").style.display="none"}function CalculateFieldLength(a,b,c,e,f){var g=!0;f||(e=c=0);$(b).innerHTML=a.value.length+"/"+e;a.value.length>e||a.value.length<c?($(b).parentNode.className="field-validation-error",g=!1):$(b).parentNode.className=null;return g}
var Tabs=function(){this.TabsList=[];var a=!1,b=!1,c=!1;this.Create=function(e,f,g,h,l){a=h;b=l;c=g;for(h=0;h<e.length;h++){l=$(e[h].content_id);var m=$(e[h].tab_id),p=e[h].selected,n=e[h].tag;if(l&&m){p?(Class(l,"selected"),Class(m,"selected"),f&&f(m)):(Class(l,"selected",!0),Class(m,"selected",!0));var p={tab:m,tab_content:l,tag:n},q=this;m.onclick=function(){for(var a=this,b=0;b<q.TabsList.length;b++)if(q.TabsList[b].tab==a){q._selectedTab=q.TabsList[b].tag;break}g?q.SelectVerticalTab(a):q.SelectTab(a);
f&&setTimeout(function(){f(a)},0);return!1};Class(m.parentNode,"vertical",!g);if(g){n=createElement(null,"span",{className:"rowBullet"});p.bullet=n;var t=createElement(null,"li",{className:"tab_content"});t.appendChild(l);insertAfter(m.parentNode,t,m);t.style.height="auto";prependElement(m,n)}this.TabsList.push(p)}}window.onhashchange=function(){var a=window.hashParams.Get("tab");if(!/^\#edit_\w+$/.test(document.location.hash)&&(a||(a=q.TabsList[0].tag),a!=q._selectedTab))for(var b=0;b<q.TabsList.length;b++)if(q.TabsList[b].tag==
a){q.SelectTab(q.TabsList[b].tab);q._selectedTab=a;break}}};this.SelectVerticalTab=function(c){for(var f=null,g=0;g<this.TabsList.length;g++)if(!a||this.TabsList[g].tab.id==c.id){var h=this.TabsList[g].tab_content.parentNode,l=0<=this.TabsList[g].tab.className.indexOf("selected");Class(this.TabsList[g].tab_content,"selected",!1);this.TabsList[g].tab.id!=c.id||l?l?(animate(h,"height","px",h.clientHeight||h.offsetHeight,0,0,500,50,1.7,null),Class(this.TabsList[g].tab,"selected",!0)):h.style.height=
"0px":(Class(this.TabsList[g].tab,"selected",!1),animate(h,"height","px",0,h.scrollHeight,0,500,50,1.7,.5),f=h)}b&&f&&setTimeout(function(){f&&f.style.height==f.scrollHeight+"px"&&(f.style.height="auto")},600)};this.SelectTab=function(a){if(c)return this.SelectVerticalTab(a);if(-1==a.className.indexOf("add_lang"))for(var b=0;b<this.TabsList.length;b++){var g=-1<this.TabsList[b].tab.className.indexOf("add_lang");this.TabsList[b].tab.id==a.id?Class(this.TabsList[b].tab_content,"selected",!1):Class(this.TabsList[b].tab_content,
"selected",!0);Class(this.TabsList[b].tab,"selected",this.TabsList[b].tab.id!=a.id);1==g&&Class(this.TabsList[b].tab,"add_lang")}};this.FitVerticalTabsHeight=function(){for(var a=0;a<this.TabsList.length;a++)if(!(0>this.TabsList[a].tab.className.indexOf("selected"))){var b=this.TabsList[a].tab_content.parentNode;b&&b.style.height!=b.scrollHeight+"px"&&(b.style.height="auto")}}};
function LinkatorSelectAll(){for(var a=0,b=document.getElementsByTagName("INPUT"),c=b.length-1;0<=c;c--)null!=b[c]&&void 0!=b[c]&&"checkbox"==b[c].type&&"checkbox"==b[c].className&&(0==a&&(a=b[c].checked?2:1),b[c].checked=2==a?"":"checked")}
var Signals={Init:function(){Signals.signalTabs="growth balance equity risks distr slippage reviews news subscr stats".split(" ");Signals.signalTabsBottom=["trading","history","balances"];Signals.SwitchTab=function(a,b){a.id||(a=$("tab_"+a));var c=a.id.substr(4);if(c==Signals.LastTabName)return!1;Signals.LastTabName=c;var e=$("tradeDataColumns");e&&(0<=["growth","equity","balance"].indexOf(c)?e.style.display="block":e.style.display="none");if(e=$("tradeDataTabs"))0<=["growth","equity","balance"].indexOf(c)?
e.style.display="block":e.style.display="none";switch(c){case "growth":Signals.ShowReturnChart(null,null);break;case "balance":Signals.RenderBalanceChart();break;case "equity":Signals.RenderEquityChart();break;case "risks":Signals.RenderLoadChart();Signals.RenderRisksChart();break;case "stats":LoadStat&&!this.statLoaded&&LoadStat("1")}b&&window.scrollTo(0,a.getBoundingClientRect().top);return!1};Signals.ToggleBlock=function(a,b){var c=$(b),e=$(a);if(!c||!e)return!0;"toggle"==e.className?(c.style.display=
"block",e.className="toggle on"):(c.style.display="none",e.className="toggle");return!1};Signals.RenderRisksChartLabeled=function(a,b,c,e){if(this.risksChartLoaded)return!1;this.risksChartLoaded=!0;document.body.style.cursor="wait";Ajax.get("/signals/charts/risks",{id:a},{onready:function(a){try{var g;g="undefined"==typeof JSON?eval("("+a+")"):JSON.parse(a)}catch(O){document.body.style.cursor="default";return}if(g&&0!=g.length){a=[];for(var h=[],l=0,m=0,p=-999999999,n=0,q=0,t=0,r=999999999,u=0,w=
[],v=[],z=[],B=[],A=[],D=[],E=[],F=[],H=[],R=[],S=[],M=[],K=[],Q=[],ba=[],ca=[],ea=0,da=0,U=0,I=0,C=0,L=0,fa=0,W=0,N=0;N<g.length;N+=3){var G=g[N],X=g[N+1],P=g[N+2],Y='"'+N+","+G+","+X+",,#",T='"'+N+","+G+","+P+",,#";if(0>=G||X<=G)Y+="AAAAAA";if(0<=G||P>=G)T+="AAAAAA";Y+='"';T+='"';a.push(Y);h.push(T);G>p&&(l=X,p=G,n=N);G<r&&(q=P,r=G,u=N);0<G?(E.length>z.length&&(z=E.slice(),S=ba.slice(),L=W),I<da&&(B=F.slice(),M=ca.slice(),da=I),E.length=0,F.length=0,ba.length=0,W=I=ca.length=0,D.push(Y),A.push(Y),
Q.push(T),K.push(T),U+=G,fa+=G):0>=G&&(A.length>w.length&&(w=A.slice(),H=K.slice(),C=fa),U>ea&&(v=D.slice(),R=Q.slice(),ea=U),A.length=0,D.length=0,K.length=0,fa=U=Q.length=0,F.push(Y),E.push(Y),ca.push(T),ba.push(T),I+=G,W+=G);X>m&&(m=X);P<t&&(t=P)}E.length>z.length&&(z=E,S=ba,L=W);I<da&&(B=F,M=ca,da=I);A.length>w.length&&(w=A,H=K,C=fa);U>ea&&(v=D,R=Q,ea=U);g=function(a,f,g,h,l,p,n,m,q,r,D,t,E,z,A,v){v='{"title" : "","description" : "","type" : "point","xFractionalValue" : "2","yFractionalValue" : "2","axisXTitle" : "'+
b+", "+e+'","styleIndex" : "'+v+'","series" :[';f&&0<f.length&&(v+='{"id" : "points","type" : "point","title" : "'+a+", "+e+'","titleColor" : "'+z+'","tooltip" : "'+a+": %VALUE% "+e+"<BR>"+b+": %VARIABLE% "+e+'","pointConnected" : false,"value" : ['+f+'],"pointColor" : "'+D+'","pointTrendLine" : "line","pointTrendLineThickness" : "1.5","pointTrendLineColor" : "'+E+'","pointTrendLineTitle" : "'+c+'","pointTrendLineTitleColor" : "'+A+'","trendTooltip" : ""},{"type" : "point","title" : "","tooltip" : "'+
a+": %VALUE% "+e+"<BR>"+b+": %VARIABLE% "+e+'","pointColor" : "'+t+'","value" : ["'+n+","+q+","+m+'"]}',v+=',{"visible" : false,"type" : "point","title" : "","value" : ["0,0,'+r/10+'","0,0,'+-r/10+'"]}');g&&0<g.length&&(v+=',{"id" : "winlongs","visible" : false,"type" : "point","title" : "","pointThickness" : 5,"pointColor" : "'+t+'","value" : ['+g+"]}");h&&0<h.length&&(v+=',{"id" : "wintops","visible" : false,"type" : "point","title" : "","pointThickness" : 5,"pointColor" : "'+t+'","value" : ['+
h+"]}");l&&0<l.length&&(v+=',{"id" : "losslongs","visible" : false,"type" : "point","title" : "","pointThickness" : 5,"pointColor" : "'+t+'","value" : ['+l+"]}");p&&0<p.length&&(v+=',{"id" : "losstops","visible" : false,"type" : "point","title" : "","pointThickness" : 5,"pointColor" : "'+t+'","value" : ['+p+"]}");return MQL5ChartAPI.addChart("point_chart_"+a,v+"]}",MQL5ChartType.POINT,Signals.GetChartRenderType)};Signals.mfeChart=g("MFE",a.join(","),w.join(","),v.join(","),z.join(","),B.join(","),
n,l,p,m,"#7FBF7F","#009900","#5E75AB","#509F50","#53699D",0);Signals.maeChart=g("MAE",h.join(","),H.join(","),R.join(","),S.join(","),M.join(","),u,q,r,t,"#FF7F7F","#CC0000","#4C9999","#FF3333","#438989",3);Signals.mfeMaxIndex=n;Signals.maeMinIndex=u;$("risksFieldBestTrade").innerHTML=Signals.FormatThousands(p.toFixed(2));$("risksFieldWorstTrade").innerHTML=Signals.FormatThousands(r.toFixed(2));$("risksFieldWinLongTrades").innerHTML=w.length;$("risksFieldWinLongProfit").innerHTML=Signals.FormatThousands(C.toFixed(2));
$("risksFieldLossLongTrades").innerHTML=z.length;$("risksFieldLossLongProfit").innerHTML=Signals.FormatThousands(L.toFixed(2));$("risksFieldWinTopTrades").innerHTML=v.length;$("risksFieldWinTopProfit").innerHTML=Signals.FormatThousands(ea.toFixed(2));$("risksFieldLossTopTrades").innerHTML=B.length;$("risksFieldLossTopProfit").innerHTML=Signals.FormatThousands(da.toFixed(2));$("risksTradeDataColumns").className="hoverable";Signals.mfeChart.view.onPointMouseOver=function(a){setTimeout(function(){Signals.maeChart&&
Signals.maeChart.view&&Signals.maeChart.view.selectPoint&&Signals.maeChart.view.selectPoint(a)},0)};Signals.mfeChart.view.onPointMouseOut=function(a){setTimeout(function(){Signals.maeChart&&Signals.maeChart.view&&Signals.maeChart.view.unSelectPoint&&Signals.maeChart.view.unSelectPoint(a)},0)};Signals.maeChart.view.onPointMouseOver=function(a){setTimeout(function(){Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.selectPoint&&Signals.mfeChart.view.selectPoint(a)},0)};Signals.maeChart.view.onPointMouseOut=
function(a){setTimeout(function(){Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.unSelectPoint&&Signals.mfeChart.view.unSelectPoint(a)},0)};document.body.style.cursor="default"}else document.body.style.cursor="default",$("point_chart_MAE").style.display="none"},onerror:function(){document.body.style.cursor="default"}});return!1};Signals.FormatThousands=function(a){return(""+a).replace(/\B(?=(\d{3})+(?!\d))/g," ")};Signals.ShowRisksTrend=function(){setTimeout(function(){Signals.maeChart&&
Signals.maeChart.view&&Signals.maeChart.view.showSeries&&Signals.maeChart.view.showTrendLine("points");Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.showSeries&&Signals.mfeChart.view.showTrendLine("points")},0)};Signals.HideRisksTrend=function(){setTimeout(function(){Signals.maeChart&&Signals.maeChart.view&&Signals.maeChart.view.showSeries&&Signals.maeChart.view.hideTrendLine("points");Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.showSeries&&Signals.mfeChart.view.hideTrendLine("points")},
0)};Signals.HighlightRisksRange=function(a){setTimeout(function(){Signals.maeChart&&Signals.maeChart.view&&Signals.maeChart.view.showSeries&&(Signals.maeChart.view.showSeries(a),Signals.maeChart.view.hideTrendLine("points"));Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.showSeries&&(Signals.mfeChart.view.showSeries(a),Signals.mfeChart.view.hideTrendLine("points"))},0)};Signals.HighlightRisksRangeOff=function(a){setTimeout(function(){Signals.maeChart&&Signals.maeChart.view&&Signals.maeChart.view.hideSeries&&
(Signals.maeChart.view.hideSeries(a),Signals.maeChart.view.showTrendLine("points"));Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.hideSeries&&(Signals.mfeChart.view.hideSeries(a),Signals.mfeChart.view.showTrendLine("points"))},0)};Signals.HighlightRisksTrade=function(a){switch(a){case "MAE":setTimeout(function(){Signals.maeChart&&Signals.maeChart.view&&Signals.maeChart.view.selectPoint&&(Signals.maeChart.view.selectPoint(Signals.maeMinIndex),Signals.maeChart.view.hideTrendLine("points"));
Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.selectPoint&&(Signals.mfeChart.view.selectPoint(Signals.maeMinIndex),Signals.mfeChart.view.hideTrendLine("points"))},0);break;case "MFE":setTimeout(function(){Signals.maeChart&&Signals.maeChart.view&&Signals.maeChart.view.selectPoint&&(Signals.maeChart.view.selectPoint(Signals.mfeMaxIndex),Signals.maeChart.view.hideTrendLine("points"));Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.selectPoint&&(Signals.mfeChart.view.selectPoint(Signals.mfeMaxIndex),
Signals.mfeChart.view.hideTrendLine("points"))},0)}};Signals.HighlightRisksTradeOff=function(a){switch(a){case "MAE":setTimeout(function(){Signals.maeChart&&Signals.maeChart.view&&Signals.maeChart.view.unSelectPoint&&(Signals.maeChart.view.unSelectPoint(Signals.maeMinIndex),Signals.maeChart.view.showTrendLine("points"));Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.unSelectPoint&&(Signals.mfeChart.view.unSelectPoint(Signals.maeMinIndex),Signals.mfeChart.view.showTrendLine("points"))},
0);break;case "MFE":setTimeout(function(){Signals.maeChart&&Signals.maeChart.view&&Signals.maeChart.view.unSelectPoint&&(Signals.maeChart.view.unSelectPoint(Signals.mfeMaxIndex),Signals.maeChart.view.showTrendLine("points"));Signals.mfeChart&&Signals.mfeChart.view&&Signals.mfeChart.view.unSelectPoint&&(Signals.mfeChart.view.unSelectPoint(Signals.mfeMaxIndex),Signals.mfeChart.view.showTrendLine("points"))},0)}};Signals.RenderBalanceChartLabeled=function(a,b,c,e,f,g,h,l,m,p){if(!Signals.balanceChart){var n=
[],q=[],t=-1,r=!1;0<Signals.BalanceChartStops.length&&(t=0);for(var u=Signals.BalanceChartData.length/2,w=0;w<u;w++){var v=Signals.BalanceChartData[2*w],z=Signals.BalanceChartData[2*w+1],B=v<b?",,#AEC9E5":",,#",A=!1,D='"'+v+","+v+","+z;if(-1<t&&t<Signals.BalanceChartStops.length&&w+1<u){var E=Signals.BalanceChartStops[t],F=Signals.BalanceChartData[2*w+2];E>=Signals.BalanceChartData[2*w]&&E<=F?(E=Signals.ChartsBalanceProfits[t],F=Signals.BalanceChartData[2*w+3]-Signals.BalanceChartData[2*w+1],F=F<
E&&0!=F?E/F:F/E,.5<F&&1.5>F?0>E?(D+=",,#AF0000",A=r=!0):0<E?(D+=",,#3F9F3F",A=r=!0):r&&(D+=B,r=!1,A=!0):r&&(D+=B,r=!1,A=!0),t++):r&&(D+=B,r=!1,A=!0)}else r&&(D+=B,r=!1,A=!0);for(B=0;B<a.length;B++)E=a[B],-1==E[0]||w>E[1]||E[0]!=w||(E='"'+v+","+v+","+z+'"',q[B]?q[B].push(E):q[B]=[E],a[B][0]++);A||(0==w&&v<b?D+=",,#AEC9E5":0<w&&Signals.BalanceChartData[2*(w-1)]<b&&v>=b&&(D+=",,#"));D+='"';n.push(D)}a=[];t=[];r=Signals.BalanceChartStops.length;for(u=0;u<r;u++)v=Signals.BalanceChartStops[u],w=Signals.ChartsBalanceProfits[u],
v='"'+(new Date(1E3*Signals.ChartsBalanceTimestamps[u])).yyyyMMdd()+","+(v-1)+","+w+'"',0<w?a.push(v):t.push(v);b='{"title" : "","description" : "","type" : "point","historyBorder" : { "value" : "'+b+'" },"xFractionalValue" : "0","yFractionalValue" : "2","axisXTitle" : "'+e+'","styleIndex" : "4","series" :[{"id" : "points","type" : "point","title" : "'+c+", "+p+'","titleColor" : "#0073E6","tooltip" : "%VALUE% '+p+'","pointConnected" : true,"value" : ['+n.join(",")+'],"pointTrendLine" : "line","pointTrendLineThickness" : "1.5","pointTrendLineTitle" : "'+
f+'","pointTrendLineTitleColor" : "#E60000","pointTrendLineColor" : "#ff0000","trendTooltip" : "'+f+'"}';0<a.length&&(b+=',{"type" : "point","pointColor" : "#398E39","title" : "'+g+'","value" : []}');0<t.length&&(b+=',{"type" : "point","pointColor" : "#AF0000","title" : "'+h+'","value" : []}');b+=',{"type" : "marker","color" : "#005ea3","tooltip" : "'+l+'<BR>%POINT_TITLE%","value" : ['+a.join(",")+']},{"type" : "marker","color" : "#af0000","tooltip" : "%POINT_TITLE%: <BR>'+m+'","value" : ['+t.join(",")+
"]}";if(0<q.length)for(g=0;g<q.length;g++)if(h=q[g])b+=',{"id" : "series'+g+'","visible" : false,"type" : "point","title" : "","tooltip" : "%VALUE% '+p+'","pointConnected" : true,"pointConnectedThickness" : 5,"pointColor" : "#b30","value" : ['+h.join(",")+"]}",b+=',{"id" : "seriesBorder'+g+'","visible" : false,"type" : "point","title" : "","tooltip" : "%VALUE% '+p+'","pointConnected" : false,"pointThickness" : 4,"pointColor" : "#b30","value" : ['+h[0]+","+h[h.length-1]+"]}";Signals.balanceChart=MQL5ChartAPI.addChart("balance_chart",
b+"]}",MQL5ChartType.POINT,Signals.GetChartRenderType)}};Signals.ShowReturnChartLabeled=function(a,b,c,e,f,g,h,l,m,p){if(null==a&&null==b){if(Signals.growthChart)return;a=b=0}Signals.LastYear==a&&Signals.LastMonth==b&&(a=b=0);if(p=$("returnCell"+Signals.LastYear+Signals.LastMonth))p.className=p.className.replace("selected","");if(p=$("returnCell"+a+b))p.className+=" selected";Signals.LastYear=a;Signals.LastMonth=b;var n=0==a?"":" ("+a+(0==b?"":"."+b)+")";p=[];var q=[],t=Signals.ReturnChartIndex[a+
"."+b];if(t){var r=0==t.i?0:1;b=a=0==t.i?0:Signals.ReturnChartData[2*t.i];var u=0==t.i?100:Signals.ReturnChartData[2*t.i+1]+100,w='"0,'+a+",0";a<e&&(w+=",,#AEC9E5");q.push(w+'"');for(var v=t.i;v<t.i+t.l+r;v++){a=Signals.ReturnChartData[2*v];var z=0;v==t.i+t.l+r-1?z=100*t.v:(z=Signals.ReturnChartData[2*v+1],0==u?z=0:100!=u&&(z=(z+100)/u*100-100));for(var w='"'+a+","+a+","+z,B=0;B<c.length;B++){var A=c[B];-1==A[0]||v>A[1]||A[0]!=v||(A='"'+a+","+a+","+z+'"',p[B]?p[B].push(A):p[B]=[A],c[B][0]++)}0<v&&
Signals.ReturnChartData[2*(v-1)]<e&&a>=e&&(w+=",,#");w+='"';q.push(w)}c=[];t=[];r=Signals.BalanceChartStops.length;for(u=0;u<r;u++)v=Signals.ReturnChartStops[u],v<b||v>a||(w=Signals.ChartsBalanceProfits[u],v='"'+(new Date(1E3*Signals.ChartsBalanceTimestamps[u])).yyyyMMdd()+","+v+","+w+'"',0<w?c.push(v):t.push(v));e='{"title" : "","description" : "","type" : "point","historyBorder" : { "value" : "'+e+'" },"xFractionalValue" : "0","yFractionalValue" : "2","axisXTitle" : "'+g+n+'","styleIndex" : "4","series" :[{"id" : "points","type" : "point","title" : "'+
f+', %","titleColor" : "#0073E6","tooltip" : "%VALUE%%","pointConnected" : true,"value" : ['+q.join(",")+'],"pointTrendLine" : "line","pointTrendLineThickness" : "1.5","pointTrendLineTitle" : "'+h+'","pointTrendLineTitleColor" : "#E60000","pointTrendLineColor" : "#ff0000","trendTooltip" : "'+h+'"},{"type" : "marker","color" : "#005ea3","tooltip" : "'+l+'<BR>%POINT_TITLE%","value" : ['+c.join(",")+']},{"type" : "marker","color" : "#af0000","tooltip" : "%POINT_TITLE%<BR>'+m+'","value" : ['+t.join(",")+
"]}";if(0<p.length)for(f=0;f<p.length;f++)if(g=p[f])e+=',{"id" : "series'+f+'","visible" : false,"type" : "point","title" : "","tooltip" : "%VALUE%%","pointConnected" : true,"pointConnectedThickness" : 5,"pointColor" : "#b30","value" : ['+g.join(",")+"]}",e+=',{"id" : "seriesBorder'+f+'","visible" : false,"type" : "point","title" : "","tooltip" : "%VALUE%%","pointConnected" : false,"pointThickness" : 4,"pointColor" : "#b30","value" : ['+g[0]+","+g[g.length-1]+"]}";Signals.growthChart=MQL5ChartAPI.addChart("growth_chart",
e+"]}",MQL5ChartType.POINT,Signals.GetChartRenderType)}};Date.prototype.yyyyMMdd=function(){return[this.getFullYear(),(8<this.getMonth()?"":"0")+(this.getMonth()+1),(9<this.getDate()?"":"0")+this.getDate()].join(".")};Signals.HighlightGrowthRange=function(a){setTimeout(function(){Signals.growthChart&&Signals.growthChart.view&&Signals.growthChart.view.showSeries&&(Signals.growthChart.view.showSeries("series"+a),Signals.growthChart.view.showSeries("seriesBorder"+a),Signals.growthChart.view.hideTrendLine("points"));
Signals.balanceChart&&Signals.balanceChart.view&&Signals.balanceChart.view.showSeries&&(Signals.balanceChart.view.showSeries("series"+a),Signals.balanceChart.view.showSeries("seriesBorder"+a),Signals.balanceChart.view.hideTrendLine("points"))},0)};Signals.HighlightGrowthRangeOff=function(a){setTimeout(function(){Signals.growthChart&&Signals.growthChart.view&&Signals.growthChart.view.hideSeries&&(Signals.growthChart.view.hideSeries("series"+a),Signals.growthChart.view.hideSeries("seriesBorder"+a),
Signals.growthChart.view.showTrendLine("points"));Signals.balanceChart&&Signals.balanceChart.view&&Signals.balanceChart.view.hideSeries&&(Signals.balanceChart.view.hideSeries("series"+a),Signals.balanceChart.view.hideSeries("seriesBorder"+a),Signals.balanceChart.view.showTrendLine("points"))},0)};Signals.HighlightTrade=function(a,b){setTimeout(function(){Signals.growthChart&&Signals.growthChart.view&&Signals.growthChart.view.selectPoint&&(Signals.growthChart.view.selectPoint(a),Signals.growthChart.view.hideTrendLine("points"));
Signals.balanceChart&&Signals.balanceChart.view&&Signals.balanceChart.view.selectPoint&&(Signals.balanceChart.view.selectPoint(b),Signals.balanceChart.view.hideTrendLine("points"))},0)};Signals.HighlightTradeOff=function(a,b){setTimeout(function(){Signals.growthChart&&Signals.growthChart.view&&Signals.growthChart.view.unSelectPoint&&(Signals.growthChart.view.unSelectPoint(a),Signals.growthChart.view.showTrendLine("points"));Signals.balanceChart&&Signals.balanceChart.view&&Signals.balanceChart.view.unSelectPoint&&
(Signals.balanceChart.view.unSelectPoint(b),Signals.balanceChart.view.showTrendLine("points"))},0)};Signals.RenderEquityChartLabeled=function(a,b,c,e,f,g){if(!Signals.equityChart){for(var h=[],l=[],m=Signals.EquityChartData.length/3,p=0,p=0;p<m;p++){var n=1E3*Signals.EquityChartData[3*p],q=Signals.EquityChartData[3*p+2];h.push('"'+p+","+n+","+Signals.EquityChartData[3*p+1]+'"');l.push('"'+p+","+n+","+q+'"')}for(var q=[],t=[],r=Signals.EquityChartBalances.length/2,p=0;p<r;p++){var n=1E3*Signals.EquityChartBalances[2*
p],u=Signals.EquityChartBalances[2*p+1],n='"'+p+","+n+","+u+'"';0<u?q.push(n):t.push(n)}a='{"title" : "","description" : "","type" : "point","historyBorder" : { "value" : "'+(0==m?0:1E3*Signals.EquityChartData[0])+'" },"xFractionalValue" : "0","yFractionalValue" : "2","axisXTitle" : "'+a+'","styleIndex" : "4","xType":"date","series" :[{"type" : "point","title" : "'+b+", "+g+'","titleColor" : "#0073E6","tooltip" : "'+b+": %VALUE% "+g+'","pointConnected" : true,"value" : ['+h.join(",")+']},{"type" : "point","title" : "'+
c+'","titleColor" : "#509F50","tooltip" : "'+c+": %VALUE% "+g+'","pointConnected" : true,"pointConnectedThickness" : 2,"value" : ['+l.join(",")+']},{"type" : "marker","color" : "#005ea3","tooltip" : "'+e+'","value" : ['+q.join(",")+']},{"type" : "marker","color" : "#af0000","tooltip" : "'+f+'","value" : ['+t.join(",")+"]}]}";Signals.equityChart=MQL5ChartAPI.addChart("equity_chart",a,MQL5ChartType.POINT,Signals.GetChartRenderType)}};Signals.RenderDrawdownChartLabeled=function(a,b,c,e,f){if(!Signals.drawdownChart){f=
[];for(var g=Signals.EquityChartData.length/3,h=0;h<g;h++){var l=1E3*Signals.EquityChartData[3*h],m=Signals.EquityChartData[3*h+1],p=Signals.EquityChartData[3*h+2];p<m?(m=((m-p)/m*100).toFixed(2),f.push('"'+h+","+l+","+m+'"')):f.push('"'+h+","+l+',0"')}for(var m=[],p=[],n=Signals.EquityChartBalances.length/2,h=0;h<n;h++){var l=1E3*Signals.EquityChartBalances[2*h],q=Signals.EquityChartBalances[2*h+1],l='"'+h+","+l+","+q+'"';0<q?m.push(l):p.push(l)}chartData='{"title" : "","description" : "","type" : "point","historyBorder" : { "value" : "'+
(0==g?0:1E3*Signals.EquityChartData[0])+'" },"xFractionalValue" : "0","yFractionalValue" : "2","axisXTitle" : "'+a+'","styleIndex" : "4","xType":"date","series" :[{"type" : "point","title" : "'+b+', %","titleColor" : "#0073E6","tooltip" : "%VALUE%%","pointConnected" : true,"value" : ['+f.join(",")+']},{"type" : "marker","color" : "#005ea3","tooltip" : "'+c+'","value" : ['+m.join(",")+']},{"type" : "marker","color" : "#af0000","tooltip" : "'+e+'","value" : ['+p.join(",")+"]}]}";Signals.drawdownChart=
MQL5ChartAPI.addChart("drawdown_chart",chartData,MQL5ChartType.POINT,Signals.GetChartRenderType)}};Signals.RenderLoadChartLabeled=function(a,b,c,e,f){if(!Signals.loadChart){f=[];for(var g=Signals.LoadChartData.length/2,h=0,l=0;l<g;l++){var m=1E3*Signals.LoadChartData[2*l],p=(100*Signals.LoadChartData[2*l+1]).toFixed(2);f.push('"'+l+","+m+","+p+'"');0==h&&(h=m)}for(var p=[],n=[],q=Signals.EquityChartBalances.length/2,l=0;l<q;l++)if(m=1E3*Signals.EquityChartBalances[2*l],!(m<h)){var t=Signals.EquityChartBalances[2*
l+1],m='"'+l+","+m+","+t+'"';0<t?p.push(m):n.push(m)}chartData='{"title" : "","description" : "","type" : "point","historyBorder" : { "value" : "'+(0==g?0:1E3*Signals.LoadChartData[0])+'" },"xFractionalValue" : "0","yFractionalValue" : "2","axisXTitle" : "'+a+'","styleIndex" : "4","xType":"date","series" :[{"type" : "point","title" : "'+b+', %","titleColor" : "#0073E6","tooltip" : "%VALUE%%","pointConnected" : true,"value" : ['+f.join(",")+']},{"type" : "marker","color" : "#005ea3","tooltip" : "'+
c+'","value" : ['+p.join(",")+']},{"type" : "marker","color" : "#af0000","tooltip" : "'+e+'","value" : ['+n.join(",")+"]}]}";Signals.loadChart=MQL5ChartAPI.addChart("load_chart",chartData,MQL5ChartType.POINT,Signals.GetChartRenderType)}};Signals.GetChartRenderType=function(){return MQL5ChartRenderType.SVG};Signals.BottomTabClick=function(a,b,c,e){if(window.signalsTabLoading)return!1;c="/"+c+"/signals/"+e+"/"+a;b&&1<b&&(c+="/page"+b);document.body.style.cursor="wait";Ajax.get(c,null,{onready:function(c){try{var e=
$("signal_tab_content");e&&(e.innerHTML=c,Signals.TablActivate(a,b))}catch(h){}window.signalsTabLoading=!1;document.body.style.cursor="default"},onerror:function(){window.signalsTabLoading=!1;document.body.style.cursor="default"}});return!1};Signals.TablActivate=function(a,b){window.hashParams.Set("tab",a);b&&1<b?window.hashParams.Set("page",b):window.hashParams.Remove("page");if(window.signalTabs)for(var c=0;c<window.signalTabs.length;c++){var e=$("signal_tab_"+window.signalTabs[c]);e&&(e.className=
window.signalTabs[c]==a?"tab_item selected":"tab_item")}}},RenderAvatarsOld:function(){var a,b,c,e=0,f=0,g=window.getElementsByClass("signalAvatar");if(void 0!=g)for(var h in g)if(void 0!=g[h]&&null!=g[h]&&void 0!=g[h].className&&(a=[],e=2,g[h].parentNode.className="signalAvatarW obsolete",b=g[h].getElementsByTagName("INPUT"),void 0!=b&&1==b.length&&void 0!=b[0])){c=b[0].value.split(", ");var l=parseInt(c[0])+2;c.shift();for(var m in c){if(19<++f)break;b=parseInt(c[m]);isNaN(b)||isNaN(l)||(0<b?a.push("<div class='u' style='left: "+
e+"px; height: "+b+"px; bottom: "+l+"px;'></div>"):(b*=-1,a.push("<div class='d' style='left: "+e+"px; height: "+b+"px; bottom: "+(l-b)+"px;'></div>")),e+=3)}g[h].innerHTML=a.join("");f=0}},RenderAvatars:function(){document.createElement("canvas").getContext?RenderCharts("signalAvatar",58,58):Signals.RenderAvatarsOld()},RenderAvatarsBig:function(){document.createElement("canvas").getContext?RenderCharts("signalAvatarBig",198,198):Signals.RenderAvatarsOld()},ViewFilter:function(a,b){var c=document.getElementById(a);
c&&("none"==c.style.display?(c.style.display="block",b&&(b.className+=" selected")):(c.style.display="none",b&&(b.className="filter")))}},SliderBar=function(a,b){function c(a){if(m){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.clear&&document.selection.clear();a=(window.event?window.event:a).clientX-p.offsetLeft-l;-6>a?a=-6:a>h+6&&(a=h+6);var b=parseInt(n.style.left,0),c=b+parseInt(n.style.width,0),e=b+(c-b)/2;b>c&&(b=c);0>r&&(r=a<e?1:0);1==r?
(13<c-a&&(n.style.left=a+"px",n.style.width=c-a+"px",q.style.left=a-6+"px"),a=Math.round((a+6)*A/h)+v,1<B&&(a=Math.round(a/B)*B),a<v&&(a=v),a>w.value&&(a=w.value),u.value=a):(13<a-b&&(n.style.width=a-b+"px",t.style.left=a-6+"px"),a=Math.round((a-6)*A/h)+v,1<B&&(a=Math.round(a/B)*B),a>z&&(a=z),a<u.value&&(a=u.value),w.value=a)}}function e(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function f(a,b){var c=filters[a][2],e=filters[a][3],f=$(a+"BarRange"),
g=$(a+"HandleLeft"),l=$(a+"HandleRight"),p=+$(a+"From").value,n=+$(a+"To").value;p<c&&(p=c);p>e&&(p=e);n<c&&(n=c);n>e&&(n=e);p>n&&(n=p);b&&($(a+"From").value=p,$(a+"To").value=n);var m=e-c,e=Math.round(h*(p-c)/m),c=Math.round(h*(n-c)/m);e==c&&(c+=1);p=Math.round(h*(n-p)/m);f.style.left=e-6+"px";f.style.width=p+12+"px";g.style.left=e-12+"px";l.style.left=c+"px"}function g(){e(window.document,"mousemove",function(a){c(a)});e(window.document,"mouseup",function(){m=!1});D=document.getElementById(a);for(var b in filters){var g=
filters[b][0],h=filters[b][1],R=$(b),S=$(b+"Label"),M=document.createElement("INPUT");M.id=b+"From";M.name=b+"From";M.type="text";M.value=g;(function(a){M.onkeypress=function(){window.setTimeout(function(){f(a,!1)},0)};M.onchange=function(){f(a,!0)}})(b);S.appendChild(M);g=document.createElement("TEXT");g.innerHTML="-";S.appendChild(g);var K=document.createElement("INPUT");K.id=b+"To";K.name=b+"To";K.type="text";K.value=h;(function(a){K.onkeypress=function(){window.setTimeout(function(){f(a,!1)},
0)};K.onchange=function(){f(a,!0)}})(b);S.appendChild(K);var Q=document.createElement("DIV");Q.className="bar";Q.id=b+"Bar";(function(a){Q.onmousedown=function(b){p=document.getElementById(a+"Bar");n=document.getElementById(a+"BarRange");q=document.getElementById(a+"HandleLeft");t=document.getElementById(a+"HandleRight");document.getElementById(a+"Label");document.getElementById(a+"Input");r=-1;u=document.getElementById(a+"From");w=document.getElementById(a+"To");v=filters[a][2];z=filters[a][3];B=
filters[a][4];A=z-v;if(D){var e;e=D;var f=0,g=0;do f+=e.offsetLeft,g+=e.offsetTop,e.scrollTop&&D!=e&&(g-=e.scrollTop);while(e=e.offsetParent);e=[f,g];0<e[0]&&(l=e[0])}m=!0;c(b)}})(b);R.appendChild(Q);h=document.createElement("DIV");h.className="barRange";h.id=b+"BarRange";Q.appendChild(h);h=document.createElement("DIV");h.className="handle left";h.id=b+"HandleLeft";Q.appendChild(h);h=document.createElement("DIV");h.className="handle right";h.id=b+"HandleRight";Q.appendChild(h);f(b,!1)}}if("undefined"!=
typeof filters){var h=b?b:315,l=0,m=!1,p,n,q,t,r,u,w,v,z,B,A,D;g();this.SerializeFilter=function(){var a=0,b={},c;for(c in filters){var e=filters[c],f=$(c+"From"),g=$(c+"To"),h=!1;f&&g&&(f=parseInt(f.value),f>e[2]&&(h=!0,b[c+"From"]=f),f=parseInt(g.value),f<e[3]&&(h=!0,b[c+"To"]=f),h&&a++)}return{fields:a,json:0==a?null:JSON.stringify(b)}};this.ResetFilter=function(){for(var a in filters){var b=filters[a],c=$(a+"HandleLeft");c&&(c.style.left="-12px");if(c=$(a+"HandleRight"))c.style.left="315px";if(c=
$(a+"BarRange"))c.style.left="-6px",c.style.width="327px";if(c=$(a+"From"))c.value=b[2];if(c=$(a+"To"))c.value=b[3]}};return this}};
function Gallery(a,b,c,e,f){b||(b="_switcher");var g=[0],h=this.Slider=document.getElementById(a);if(h&&(a=h.parentNode)){if(f&&700>(document.body.clientWidth||document.body.offsetWidth)){var l=a.parentNode;f=l.parentNode;f=(f.clientWidth||f.offsetWidth)-40|0;var m=2*f/3|0;a.style.height=m+"px";a.style.width=f+"px";l.style.width=f+20+"px";if(l=h.getElementsByTagName("img"))for(var p=0;p<l.length;p++)l[p].width=f,l[p].height=m}var n=this.Current=0,q=null,t=null;if(!this.Slider)return null;var t=this.Slider.children||
this.Slider.childNodes,r=0,u=function(a){for(var b=0,c=0;c<=a;c++)b+=g[c];return b};for(f=0;f<t.length;f++)if(0==t[f].nodeName.indexOf("#"))t.splice(f,1),f--;else if(n++,m=g.length-1,g[g.length]=t[f].offsetWidth,l=document.getElementById(t[f].id+b))l.shiftIndex=m,0==m&&(q=l),c||(c="onclick"),l[c]=function(){q=D(q.shiftIndex,this.shiftIndex)};if(e){var w=createElement(a,"div",{className:"carousel-arrow"}),v=createElement(a,"div",{className:"carousel-arrow"});Class(w,"left");Class(v,"right");var z=
function(a){1!=a.isHiddenArrow&&(fade(a,"in",200,20),a.style.cursor="default",a.isHiddenArrow=!0)},B=0,A=function(a){0!=a.isHiddenArrow&&(fade(a,"out",200,20),a.style.cursor="pointer",a.isHiddenArrow=!1)};z(w);z(v);w.onclick=function(){q=D(q.shiftIndex,q.shiftIndex-1);0>=q.shiftIndex&&z(w);q.shiftIndex<n-1&&A(v)};v.onclick=function(){q=D(q.shiftIndex,q.shiftIndex+1);q.shiftIndex>=n-1&&z(v);0<q.shiftIndex&&A(w)};a.onmouseover=function(){q&&(clearTimeout(B),B=setTimeout(function(){0<q.shiftIndex&&A(w);
q.shiftIndex<n-1&&A(v)},100))};a.onmouseout=function(){q&&(clearTimeout(B),B=setTimeout(function(){0<q.shiftIndex&&z(w);q.shiftIndex<n-1&&z(v)},100))}}var D=function(a,c){var e=a,f=document.getElementById(t[a].id+b);if(c==e||0>a||0>c||a>n-1||c>n-1)return f;var g=document.getElementById(t[c].id+b);h.style.left&&""!=h.style.left||(h.style.left="0px");var e=-u(e),l=-u(c);animate(h,"left","px",e,l,r,300,60,.7,0);r+=500;setTimeout(function(){r-=500},500);f.className="";g.className="current";e=c;return g}}}
var Mql5Cookie=function(){};Mql5Cookie.defaultValue="";Mql5Cookie.domain="";Mql5Cookie.onSyncCallback=void 0;Mql5Cookie.init=function(a,b,c){Mql5Cookie.defaultValue=b;Mql5Cookie.domain=a;Mql5Cookie.onSyncCallback=c;0>window.location.hostname.lastIndexOf(".")||Mql5Cookie.checkStorages()};
Mql5Cookie.checkStorages=function(){var a=void 0,b=Mql5Cookie.localStorage("uniq");a||"undefined"==b||(a=b);b=Mql5Cookie.sessionStorage("uniq");a||"undefined"==b||(a=b);b=Mql5Cookie.httpStorage("uniq");a||"undefined"==b||(a=b);a||(a=Mql5Cookie.defaultValue);Mql5Cookie.localStorage("uniq",a);Mql5Cookie.sessionStorage("uniq",a);Mql5Cookie.httpStorage("uniq",a,{expires:new Date(2050,1,1),Domain:"."+Mql5Cookie.domain,Path:"/"});if(Mql5Cookie.onSyncCallback)Mql5Cookie.onSyncCallback()};
Mql5Cookie.httpStorage=function(a,b,c){if("undefined"!=typeof b){c=c||{};var e=c.expires;if("number"==typeof e&&e){var f=new Date;f.setTime(f.getTime()+1E3*e);e=c.expires=f}e&&e.toUTCString&&(c.expires=e.toUTCString());b=encodeURIComponent(b);a=a+"="+b;for(var g in c)a+="; "+g,b=c[g],!0!==b&&(a+="="+b);document.cookie=a}else return(c=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(c[1]):void 0};
Mql5Cookie.localStorage=function(a,b){try{if(window.localStorage)if("undefined"!=typeof b)localStorage.setItem(a,b);else return localStorage.getItem(a)}catch(c){}};Mql5Cookie.sessionStorage=function(a,b){try{if(window.sessionStorage)if("undefined"!=typeof b)sessionStorage.setItem(a,b);else return sessionStorage.getItem(a)}catch(c){}};function ImageAttach(){}
ImageAttach.Init=function(a,b,c,e,f){b||(b=80);a||(a=60);ImageAttach.previewHeight=b;ImageAttach.previewWidth=a;ImageAttach.deleteLabel=c;ImageAttach.defaultError=e;ImageAttach.maxCount=f;Class($("customFileInputContainer"),"customFileInputContainer",!1);$("customFileInputLink").style.display="";/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?$("customFileInputLink").onclick=function(){Class($("customFileInputContainer"),"customFileInputContainer",!0);$("customFileInputLink").style.display=
"none";return!1}:$("customFileInputLink").onclick=function(){$("attachedFile_imagesLoader").click();return!1};ImageAttach.CheckImagesCount()?$("imageUploaderContainer").style.display="block":$("imageUploaderContainer").style.display="none"};ImageAttach.previewCounter=0;ImageAttach.CheckImagesCount=function(){return ImageAttach.previewCounter<ImageAttach.maxCount};ImageAttach.SelectFile=function(){$("attachedFile_imagesLoader").click()};
ImageAttach.createPreview=function(a){ImageAttach.previewCounter||(ImageAttach.previewCounter=0);var b=$("newImageAttaches"),c=document.createElement("SPAN");c.id="iat_"+ImageAttach.previewCounter;Class(c,"attachItem");Class(c,"imagePreview");var e=createElement(c,"A",{title:ImageAttach.getClearFilename(a),target:"_blank",href:a,className:"imageHolder_wall"}),e=createElement(e,"IMG",{src:a});e.style.maxHeight=ImageAttach.previewHeight+"px";e.style.maxWidth=ImageAttach.previewWidth+"px";createElement(c,
"BR");e=createElement(c,"DIV",{className:"previewLabel"});createElement(e,"INPUT",{type:"hidden",name:"attachedImage_"+ImageAttach.previewCounter,value:a});createElement(e,"A",{href:"#",onclick:function(){return ImageAttach.deletePreview(c)},className:"deleteAttachLink",innerHTML:ImageAttach.deleteLabel});prependElement(b,c);ImageAttach.previewCounter++;b.style.display="";return c};ImageAttach.deletePreview=function(a){a.parentNode.removeChild(a);ImageAttach.onDeletePreview();return!1};
ImageAttach.onDeletePreview=function(){ImageAttach.previewCounter--;ImageAttach.CheckImagesCount()?$("imageUploaderContainer").style.display="block":$("imageUploaderContainer").style.display="none";0>=ImageAttach.previewCounter&&($("newImageAttaches").style.display="none")};
ImageAttach.OnChangeFile=function(a,b){var c=a||(b&&b.body?b.body.innerHTML:null);ImageAttach.ClearError();if(c=stripHtml(c))c=eval("("+c+")"),0<c.Url.length?ImageAttach.createPreview(c.Url):0<c.ErrorMessage.length?ImageAttach.ShowError(c.ErrorMessage):ImageAttach.ShowError(),ImageAttach.CheckImagesCount()?$("imageUploaderContainer").style.display="block":$("imageUploaderContainer").style.display="none"};ImageAttach.OnChangeFileError=function(a){ImageAttach.ShowError()};
ImageAttach.ShowError=function(a){$("imageValidationError").innerHTML=a||ImageAttach.defaultError};ImageAttach.ClearError=function(){$("imageValidationError").innerHTML=""};ImageAttach.getClearFilename=function(a){a=a.split("/");a=a[a.length-1];var b=a.indexOf("_");return a.substring(b+1)};ImageAttach.Clear=function(){for(;0<ImageAttach.previewCounter;)ImageAttach.deletePreview($("iat_"+(ImageAttach.previewCounter-1)))};
function Affiliation(a,b,c,e,f,g,h){this.getLink=function(){Ajax.get(a+"/"+b+"/generatelink/"+c+"/"+e+"/"+f,null,{onready:this.onSuccess,onerror:this.onError})};this.onSuccess=function(a){g.href=a;g.innerHTML=a;h.style.display="none";void 0!=$("affiliationLinkBlock")&&void 0!=$("affiliationTextBlock")&&($("affiliationLinkBlock").style.display="inline",$("affiliationTextBlock").style.display="none")};this.onError=function(){}}
function customSelect(a){function b(){var a=document.getElementById(this.id+"_clone");if(a){var b=this.id;a.selectedIndex=this.selectedIndex;this.parentNode.removeChild(this);a.id=b;return!1}}var c=document.getElementById(a);if(c){var e=document.createElement("span");e.style.width=c.style.width;e.className="selectWrapper";var f=document.createElement("button");f.innerHTML="&#9660;";c.parentNode.insertBefore(e,c);Class(c,"customSelect");e.appendChild(c);e.appendChild(f);f.onclick=function(){var c=
document.getElementById(a),e=c.cloneNode(!0);e.id=a+"_clone";e.selectedIndex=c.selectedIndex;c.parentNode.insertBefore(e,c);c.size=Math.min(c.options.length,20);Class(c,"opened");e=getOffsetSum(c);c.style.top=e.top+"px";c.style.left=e.left+"px";document.body.appendChild(c);c.focus();c.onblur=b;c.onclick=b;return!1};c.onmousedown=function(){return!1}}}
function Likes(){function a(a,f,g,p){if(!a||0==a.length)return b();var n;try{n=window.JSON?window.JSON.parse(a):eval("("+a+")")}catch(q){return b()}a=$(f);Class(a,"loading",!0);f=$("likes_"+n.moduleId+"_"+n.parentType+"_"+n.parentId);a.innerHTML=n.linkText+"&nbsp;";a.onclick=function(){n.liked?e(n.lang,n.moduleId,n.parentType,n.parentId,g,p):c(n.lang,n.moduleId,n.parentType,n.parentId,g,p)};f.innerHTML=0<n.count?n.count:"";0<n.count?Class(f,"likesCount",!1):f.className="";return!0}function b(){var a=
$(this.linkId);Class(a,"loading",!0);likes.ErrorMessageTitle&&likes.ErrorMessageText&&(a=createElement(null,"DIV",{innerHTML:likes.ErrorMessageText,className:"likeErrorText"}),Dialog.show(likes.ErrorMessageTitle,a,300,120,function(){Dialog.hide()}))}function c(c,e,f,g,n,q){var t="like_"+e+"_"+f+"_"+g,r=$(t);r.onclick=function(){};Class(r,"loading");Ajax.post("/"+c+"/like/"+e+"/"+f+"/"+g,{__signature:n},!1,{onready:function(b){a(b,t,n,q)},onerror:b,linkId:t})}function e(c,e,f,g,n,q){var t="like_"+
e+"_"+f+"_"+g,r=$(t);r.onclick=function(){};Class(r,"loading");Ajax.post("/"+c+"/unlike/"+e+"/"+f+"/"+g,{__signature:q},!1,{onready:function(b){a(b,t,n,q)},onerror:b,linkId:t})}function f(a){var b=$(this.cid);b&&(a&&0!=a.length?b.innerHTML=a:b.parentNode.removeChild(b))}function g(a){this.cnt&&this.cnt.parentNode&&(a&&0!=a.length?this.cnt.innerHTML=a:this.cnt.parentNode.removeChild(this.cnt))}this.ErrorMessageTitle=this.ErrorMessageText=this.SuccessMessageTitle=this.SuccessMessageText=void 0;this.IsMobile=
!1;this.Like=function(a,b,e,f,g,q){return c(a,b,e,f,g,q)};this.Unlike=function(a,b,c,f,g,q){e(a,b,c,f,g,q)};this.Tooltip=function(a,c,e,g,n){a=tooltip(a,'<div class="likesTooltipLoader"></div>');Ajax.get("/"+n+"/like_users/tooltip/"+c+"/"+e+"/"+g,null,{onready:f,onerror:b,cid:a})};this.UsersLikes=function(a,c,e,f,n){var q=createElement(null,"DIV",{className:"likeUsersContainer"});createElement(q,"DIV",{className:"likesListLoader"});Dialog.show(n,q,250,300,this.CloseUsers);Ajax.get("/"+f+"/like_users/full/"+
a+"/"+c+"/"+e,null,{onready:g,onerror:b,cnt:q})};this.CloseUsers=function(){var a=getElementsByClass("likeUsersContainer",document);if(a)for(var b=0;b<a.length;b++)a[b]&&a[b].parentNode&&a[b].parentNode.removeChild(a[b]);Dialog.hide()}}var likes=new Likes;window.globalStorageDomain="https://c.mql5.com";window.globalStoragePage="/external/pocket/gstorage.html";
function PocketManager(){this.lastElement=null;this.Add=function(a,b,c,e,f){window.GStorage||(window.GStorage=window.globalStorage(window.globalStorageDomain,window.globalStoragePage));GStorage.supported&&(a.className="pocket added",null!==this.lastElement&&this.lastElement!==a&&(this.lastElement.className="pocket"),this.lastElement=a,Ajax.get(["/",b,"/pocket/get/",c,"/",e,"/",f].join(""),null,{onready:function(a){a?window.GStorage.setItem("pocketContent",a):window.GStorage.removeItem("pocketContent")},
onerror:function(){}}));return!1}}var Pocket=new PocketManager;
function Translate(){function a(a,b){var c=document.createElement("A");c.innerHTML="<i>"+t[a][0]+"</i> "+t[a][1];c.href="#"+a;b&&(c.className="selected");c.onclick=function(){window.translateManager.Translate(e,f,a,h,l,m);q[e].currentTargetLang=a;var b=this.parentNode.parentNode.parentNode.firstChild;b.className="pressed";b.innerHTML=t[a][0];translateManager.HideMenu(this.parentNode.parentNode.parentNode,e);return!1};return c}function b(a,b,c,e){c=document.getElementById(a);if(!c)return!1;c.style.direction=
"ar"==b||"fa"==b?"rtl":"ltr";b=null;if("pollAnswers"==a)for(b=e[0],a=c.getElementsByTagName("label"),c=0;c<a.length;c++)a[c].innerHTML=e[c+1];else 0<=a.indexOf("contenttopic")?(b=e[0],c.innerHTML=e[1]):c.innerHTML=e[0];null!=b&&$("forumTitle")&&($("forumTitle").innerHTML=b);return!1}function c(b){null!=p&&p!=e&&q[p].showMenu&&(n.parentNode.removeChild(n.parentNode.childNodes[2]),q[p].showMenu=!1,Class(n.parentNode,"pressed",!0),n=p=null);if(q[e].showMenu)return b.parentNode.removeChild(b.parentNode.childNodes[2]),
q[e].showMenu=!1;var c=document.createElement("DIV");c.className="translateMenu";c.onmousedown=function(a){a||(a=window.event);a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};var f=document.createElement("DIV"),h=0,l=q[e].isTranslated,m;for(m in t)f.appendChild(a(m,l&&m==g)),3==++h&&(h=0,c.appendChild(f),f=document.createElement("DIV"));0<h&&c.appendChild(f);b.parentNode.appendChild(c);q[e].showMenu=!0;p=e;n=b;return!1}var e,f,g,h,l,m,p=null,n=null,q={},t={ar:["AR","Arabic"],zh:["CN","Chinese"],
en:["EN","English"],fr:["FR","French"],de:["DE","German"],id:["ID","Indonesian"],it:["IT","Italian"],ja:["JP","Japanese"],ko:["KO","Korean"],fa:["FA","Persian"],pt:["PT","Portuguese"],ru:["RU","Russian"],es:["ES","Spanish"],tr:["TR","Turkish"],vi:["VI","Vietnamese"]};this.Translate=function(a,c,f,g,h,p){q[e].translations[f]?b(a,f,e,q[e].translations[f]):Ajax.get("/"+c+"/translate/"+f+"/"+g+"/"+h+"/"+p,null,{onready:function(c){c&&c.length&&(c=eval("("+c+")"),q[e].translations[f]=c,b(a,f,e,c))},onerror:function(){}});
q[e].isTranslated=!0;return!1};this.SetMenu=function(a,b,p,n,t,B,A,D){e=b;f=p;g=n;h=t;l=B;m=A;D||Class(a,"pressed");if(q[b])g=q[b].currentTargetLang;else{q[b]={currentTargetLang:g,showMenu:!1,isTranslated:!1,originalTranslation:$(b)?$(b).innerHTML:null,originalTitle:$("forumTitle")?$("forumTitle").innerHTML:null,translations:{}};a.onmouseout=function(){q[e].showMenu||Class(a,"pressed",!0)};a.firstChild.onclick=function(){if(q[e].isTranslated){a.firstChild.className="";var b=document.getElementById(e);
b&&(b.style.direction="ltr",b.innerHTML=q[e].originalTranslation,$("forumTitle")&&($("forumTitle").innerHTML=q[e].originalTitle),q[e].isTranslated=!1);return!1}a.firstChild.className="pressed";return window.translateManager.Translate(e,f,g,h,l,m)};a.firstChild.onmousedown=function(a){a||(a=window.event);a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};if(document.getElementById(e)){var E=e;$(e).parentNode.onmousedown=function(){window.translateManager.HideMenu(a,E)}}b=document.createElement("SPAN");
b.className="translateMenuButton";b.onmousedown=function(a){a||(a=window.event);a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;c(this)};p=document.createElement("SPAN");b.appendChild(p);a.appendChild(b)}};this.HideMenu=function(a,b){if(null!=p&&p!=b)return!1;Class(a,"pressed",!0);var c=a.childNodes[2];c&&a.removeChild(c);return q[b].showMenu=!1}}var translateManager=new Translate;
function MakeTextboxAutogrow(a,b,c){function e(){b&&(a.style.height=b+"px");a.clientHeight<a.scrollHeight&&(a.style.minHeight=a.scrollHeight+"px");f&&f()}if(a){c=c||("oninput"in a?"oninput":"onkeyup");var f=a[c];a[c]=e;e()}}function AddElementHotkeyEvent(a,b,c){if(a&&"function"==typeof b){var e=a.onkeyup;a.onkeyup=function(a){var g=!0;e&&(g=e(a));if(0==g)return g;b(a)&&c()}}}
function SiteUpdates(a,b,c,e,f,g){function h(a){if(a.updates&&0!=a.updates.length)for(var b=0;b<a.updates.length;b++){var c=a.updates[b];if(c.module_id&&u["cl_"+c.module_id]){var e=u["cl_"+c.module_id];if(e)for(var f in e)if(e.hasOwnProperty(f))e[f](c,a.ts)}e=$("notify_"+c.name);l(c,e)}}function l(a,b){if(a&&a.title&&a.url){var c=$("privateAreaMessages");if(c){var e=createElement(null,"a",{className:"linkNotify",href:a.url,id:"notify_"+a.name,title:a.title});m(a.url,location.href)&&(e.onclick=function(){location.reload()});
var f=createElement(e,"span",{className:a.name});if(a.count){Class(f,"active");var g=Math.min(parseInt(a.count),99),f=createElement(f,"i",{className:"count",innerHTML:g});dataset(f,"count",a.count)}if(b&&b.parentNode){c=b.parentNode;c.insertBefore(e,b);b.onclick&&(e.onclick=b.onclick);if(b.className&&b.className.length){for(var f=b.className.split(" "),g=" "+e.className+" ",h=[],p=0;p<f.length;p++)0>g.indexOf(" "+f[p]+" ")&&(h[h.length]=f[p]);h.length&&(e.className+=(e.className?" ":"")+h.join(" "))}c.removeChild(b)}else createElement(c,
"li").appendChild(e)}}else b&&13!=a.module_id&&b.parentNode.removeChild(b)}function m(a,b){var c=a.indexOf("#");0<=c&&(a=a.substr(0,c));0<=b.indexOf("#")&&(b=b.substr(0,c));return a.toUpperCase()===b.toUpperCase()}function p(){if(!arguments||!arguments.length||403!==arguments[0]){B++;5>B?setTimeout(function(){t()},q()):window.console&&window.console.log&&window.console.log("get updates stopped due to errors.");for(var a in u)if(a.startsWith("endc_"))u[a]("error")}}function n(a){for(var b in u)if(b.startsWith("endc_"))u[b]("success");
if(a&&0!=a.length){b=void 0;try{b=window.JSON?window.JSON.parse(a):eval("("+a+")")}catch(c){return p()}b&&void 0!=b&&b.l&&b.ts&&b.updates&&(b.ld&&(!z||z<b.ld)&&(z=b.ld),h(b),r=b.ts,v=setTimeout(function(){t()},q()),B=0)}}function q(){var a=(new Date).getTime()/1E3,b=window.isWindowActive?[3E3,5E3,1E4,6E4]:[1E4,15E3,3E4,2E5],b=15>a-z?b[0]:45>a-z?b[1]:165>a-z?b[2]:b[3];window.console&&window.console.log&&(window.console.log("last        = "+new Date(1E3*z)),window.console.log("now         = "+new Date(1E3*
a)),window.console.log("next period = "+b));return b}function t(){if(1==window.isWindowActive||window.isLastActiveWindow()){extraLog(new Date+" get updates: SEND");var b=a+(0>a.indexOf("?")?"?":"&")+"dt="+r;if(w)for(var c in w)w.hasOwnProperty(c)&&void 0!=w[c]&&(b+="&"+c+"="+w[c]);b+="&wid="+GetCurrentWindowId();Ajax.get(b,null,{onready:n,onerror:p});for(var e in u)if(e.startsWith("begc_"))u[e]()}else extraLog(new Date+" get updates: SKIP"),v=setTimeout(function(){t()},q())}var r=f,u={},w={},v,z=
g||0;this.SetLastUpdate=function(a){if(!z||z<g)z=a};this.RegisterRenderCallback=function(a,b,c,e){var f=u["cl_"+a]||{};f["t"+b]=c;u["cl_"+a]=f;if(w)for(var g in e)e.hasOwnProperty(g)&&(w[g]=e[g])};this.UnregisterRenderCallback=function(a,b,c){if(w)for(var e in c)c.hasOwnProperty(e)&&w.hasOwnProperty(e)&&w[e]==c[e]&&(w[e]=void 0)};this.RegisterOnBegin=function(a,b){u["begc_"+a]=b};this.RegisterOnEnd=function(a,b){u["endc_"+a]=b};this.GetUpdates=function(){v&&clearTimeout(v);t()};if(e&&e.length&&0<
e.length)for(b=0;b<e.length;b++)a+=(0==b&&-1==a.indexOf("?")?"?":"&")+"m="+e[b];var B=0;v=setTimeout(function(){t()},q());mqGlobal.AddOnActiveWindowChange(function(a){a&&(v&&clearTimeout(v),t())})}
function DateToText(a,b){if(!window.dateToTextLocalization)return GetDate(a);var c=new Date(1E3*a),e=parseInt((new Date(1E3*b)).getTime()/6E4)-parseInt(c.getTime()/6E4);if(1>e)c="m",e=1;else if(60>e)c="m",e=Math.floor(e);else if(720>e)c="h",e=Math.floor(e/60);else return GetDate(a);if(window.dateToTextLocalization.lang&&"de"==window.dateToTextLocalization.lang){var f=window.dateToTextLocalization[c+GetCounterSuffix(e)].split(" ");if(2===f.length)return f[0]+" "+e+f[1]}return e+" "+window.dateToTextLocalization[c+
GetCounterSuffix(e)]}function DateToStringForToday(a){var b=new Date,c=new Date(1E3*a);return b.getFullYear()==c.getFullYear()&&b.getMonth()==c.getUTCMonth()&&b.getDate()==c.getUTCDate()?(9<c.getUTCHours()?c.getUTCHours():"0"+c.getUTCHours())+":"+(9<c.getUTCMinutes()?c.getUTCMinutes():"0"+c.getUTCMinutes()):GetDate(a)}function GetCounterSuffix(a){var b=a%100;if(10<b&&20>b)return 3;a%=10;return 1==a?1:1<a&&5>a?2:3}
function ProductButtonClick(a,b,c){var e=$(c);e&&(e.hasMt5DialogHide=function(){HasMt5DialogHide(e)},Dialog.show(e.title,e,500,500,e.hasMt5DialogHide),e.style.display="block",Dialog.show(e.title,e,e.clientWidth,e.clientHeight,e.hasMt5DialogHide))}function HasMt5DialogHide(a){Dialog.hide();a.style.display="none"}
function ToggleAddProduct(a){var b=$("addProductPopup");if(b)if(b.style.display){"none"==b.style.display&&(b.skipNextBlur=!1);b.style.display="";var c=$("addProductInputTrigger")||createElement(b,"input",{type:"text",id:"addProductInputTrigger"});c.focus();c.onblur=function(){b.skipNextBlur?(b.skipNextBlur=!1,c.focus()):b.style.display="none"};b.onmousedown||(b.onmousedown=function(){b.skipNextBlur=!0});a.onmousedown||(a.onmousedown=function(){b.skipNextBlur=!0})}else b.style.display="none"}
function traceClickAsync(a,b,c,e,f){}function traceClick(a){}function trackOutboundLink(a){}function fpush(a){(0<window.location.hostname.indexOf(".src")||0<window.location.hostname.indexOf(".dev"))&&window.console?window.console.log("fpush: "+a):window.fcoreobj.act.push(function(){window.fcoreobj.lead(window.fcoreobjtoken,a)})}
Signals.ShowCopyFraudReport=function(a){var b=document.createElement("DIV");b.innerHTML=a;Dialog.show("Antifraud report",b,300,600,Dialog.hide);a=b.getElementsByTagName("INPUT");if(void 0!=a&&0!=a.length){var c=a[0].parentNode;if(c){b=JSON.parse(a[0].value);c=c.getContext("2d");c.scale(1,1);c.fillStyle="rgb(0,0,0)";Signals.RenderDayprint(b,null,c);for(var e=b,f=1;f<a.length;f++)if(c=a[f].parentNode)b=JSON.parse(a[f].value),c=c.getContext("2d"),c.scale(1,1),c.fillStyle="rgb(0,0,0)",Signals.RenderDayprint(b,
e,c)}}};Signals.RenderDayprint=function(a,b,c){for(var e=0,f=0;e<a.length;e+=3,f+=2)for(var g=0;24>g;g++)1==(a[e+1]>>g&1)&&c.fillRect(2*g,f,2,2),1==(a[e+2]>>g&1)&&c.fillRect(48+2*g,f,2,2);if(b){c.fillStyle="rgb(200,0,0)";for(var h=e=0,f=0;e<a.length&&h<b.length;e+=3,f+=2){for(;b[h]>a[e]&&!(h+=3,h>=b.length););if(h>=b.length)break;if(b[h]==a[e]){for(g=0;24>g;g++)1==(a[e+1]>>g&1)&&1==(b[h+1]>>g&1)&&c.fillRect(2*g,f,2,2),1==(a[e+2]>>g&1)&&1==(b[h+2]>>g&1)&&c.fillRect(48+2*g,f,2,2);h+=3}}}};
Signals.RenderDayprintLine=function(a,b,c){b=b||a;c.beginPath();for(var e=1;6>e;e++)c.moveTo(8*e+.5,0),c.lineTo(8*e+.5,48),c.moveTo(0,8*e+.5),c.lineTo(48,8*e+.5);c.strokeStyle="rgba(204,204,204,0.3)";c.lineWidth=1;c.stroke();c.closePath();for(var f=0,g=0,h=0,l=0,m=0,e=[],p=[],n=0,q=0;n<a.length&&q<b.length;n+=3){for(;b[q]>a[n]&&!(q+=3,q>=b.length););if(q>=b.length)break;if(b[q]==a[n]){for(var t=0,r=0,u=0,w=0,v=0;24>v;v++)1==(a[n+1]>>v&1)&&r++,1==(b[q+1]>>v&1)&&t++,1==(a[n+2]>>v&1)&&w++,1==(b[q+2]>>
v&1)&&u++;if(0<t||0<r||0<u||0<w)e.push(t+u),p.push(r+w);f+=r+w;h+=t*r+u*w;g+=t+u;l+=t*t+u*u;m++;q+=3}}a=l*m-g*g;0!=a&&(a=(h*m-g*f)/a,f=(f-g*a)/m,c.beginPath(),c.moveTo(0,48-4*f+.5),c.lineTo(48,48-4*(f+12*a)+.5),c.strokeStyle="rgb(204,0,0)",c.lineWidth=1,c.stroke(),c.closePath());for(g=f=0;g<e.length;g++)e[g]>f&&(f=e[g]),p[g]>f&&(f=e[g]);f--;f=48/f;c.fillStyle="rgba(50,50,50,0.5)";for(g=0;g<e.length;g++){m=4;a=-1;for(b=0;b<e.length;b++)e[g]==e[b]&&p[g]==p[b]&&(m+=2,-1==a&&(a=b));a==g&&(c.moveTo(f*
(e[g]-1),48-f*(p[g]-1)),c.arc(f*(e[g]-1)+.5,48-f*(p[g]-1)+.5,Math.sqrt(m),0,2*Math.PI))}c.fill()};
function RenderCharts(a,b,c,e){var f="rgb(237,240,244)",g="rgba(204,204,204,0.3)",h="rgb(155,155,155)",l="rgb(81,139,198)",m="rgb(206,10,10)",p="rgba(124,204,255,0.25)",n="rgba(185,32,36,0.25)";e&&(f=e.COLOR_BG||f,g=e.COLOR_GRID||g,h=e.COLOR_AXIS||h,l=e.COLOR_LINE||l,m=e.COLOR_LINE_MINUS||m,p=e.COLOR_LIGHT_LINE||p,n=e.COLOR_BG||n);a=window.getElementsByClass(a);if(void 0!=a)for(var q in a){var t=a[q];if(void 0!=t&&null!=t&&void 0!=t.className&&(e=t.getElementsByTagName("CANVAS"),void 0!=e&&null!=
e&&0!=e.length&&(e=e[0],e.getContext))){var r=t.getElementsByTagName("INPUT");if(void 0!=r&&0!=r.length&&void 0!=r[0])if(e=e.getContext("2d"),e.scale(1,1),1<r.length){var t=(b-48)/2,u=(c-48)/2;e.fillStyle="rgb(0,0,0)";for(var r=JSON.parse(r[1].value),w=0;w<r.length;w++)for(var v=0;24>v;v++)1==(r[w]>>v&1)&&e.fillRect(t+2*v,u+2*w,2,2)}else{t=c/58;u=r[0].value.split(", ");r=parseInt(u[0])*t;u.shift();q=e.createLinearGradient(0,0,0,c);q.addColorStop(0,f);q.addColorStop(1,"#fff");e.fillStyle=q;e.fillRect(0,
0,b,c);e.beginPath();q=(c+2)/4;for(w=q-.5;w<b;w+=q)e.moveTo(w,0),e.lineTo(w,c);for(w=q-.5;w<c;w+=q)e.moveTo(0,w),e.lineTo(b,w);e.strokeStyle=g;e.lineWidth=1;e.stroke();e.closePath();e.beginPath();var w=c-r,v=w-parseInt(u[0])*t,z=.5;e.moveTo(z,w);e.lineTo(z,v-1.5);var B=v>w?-1:1,A=v,D=[],E=0;for(q=1;q<u.length;q++){v=parseInt(u[q]);if(isNaN(v))break;D.push(v*t);0==v&&0==E&&(E=D.length-1);0!=v&&(E=0)}for(var E=0==E?D.length:E,F=1*b/E,H=0;H<E;H++){var v=w-D[H],z=z+F,R=v-.5,S=v>w?-1:1;if(S!=B&&1<H){var M=
z-F,A=A-.5-w,K=z,Q=R-w,M=-A*(K-M)/(Q-A)+M,A=w;e.lineTo(M,A);e.fillStyle=0>B?n:p;e.fill();e.closePath();e.beginPath();e.moveTo(M,A)}e.lineTo(z,R);A=v;B=S}e.lineTo(z,w);e.fillStyle=0>B?n:p;e.fill();e.stroke();e.closePath();0<r&&r<c&&(e.beginPath(),e.moveTo(0,w-.5),e.lineTo(b,w-.5),e.strokeStyle=h,e.stroke(),e.closePath());e.beginPath();w=c-r;v=w-parseInt(u[0])*t;z=.5;e.moveTo(z,v-.5);B=v>w?-1:1;A=v;for(H=0;H<E;H++)v=w-D[H],z+=F,R=v-.5,S=v>w?-1:1,S!=B&&1<H&&(M=z-F,A=A-.5-w,K=z,Q=R-w,M=-A*(K-M)/(Q-A)+
M,A=w,e.lineTo(M,A),e.strokeStyle=0>B?m:l,e.stroke(),e.closePath(),e.beginPath(),e.moveTo(M,A)),e.lineTo(z,R),A=v,B=S;e.strokeStyle=0>B?m:l;e.stroke()}}}}
(function(){var a=function(){var a="INPUT"==this.tagName?this:this.nextSibling;("INPUT"==this.tagName?this.previousSibling:this).style.display="none";a.focus();window.console&&window.console.log&&window.console.log("focus on "+this)},b=function(){var a="INPUT"==this.tagName?this.previousSibling:this;0==("INPUT"==this.tagName?this:this.nextSibling).value.length&&(a.style.display="");window.console&&window.console.log&&window.console.log("blur on "+this)},c=getElementsByClass("placeholder");if(c&&0!=
c.length)for(var e=0;e<c.length;e++)if(c[e].parentNode&&!(0>c[e].parentNode.className.indexOf("inputWrapper"))){var f=c[e].nextSibling;c[e].onclick=a;f.onfocus=a;f.onblur=b}})();
function SetDateInputValue(a,b){function c(a,b){for(var c=a,e=(a+"").length;e<b;e++)c="0"+c;return c}var e=$(a+"Year"),f=$(a+"Month"),g=$(a+"Day"),h=$(a+"Hour"),l=$(a+"Minute"),m=$(a);m&&(e&&(e.value=b.getFullYear()),f&&(f.value=c(parseInt(b.getMonth())+1,2)),g&&(g.value=b.getDate()),h&&(h.value=c(b.getHours(),2)),l&&(l.value=c(b.getMinutes(),2)),m.value=b.getFullYear()+"."+c(parseInt(b.getMonth())+1,2)+"."+b.getDate()+" "+c(b.getHours(),2)+":"+c(b.getMinutes(),2))}
function Share(){var a;this.OpenShareEditor=function(b,c,e,f){var g=createElement(null,"DIV",{className:"shareEditorLoading"}),h=f?300:600,l=getOffset(b);l.top+=b.offsetHeight+4;Dialog.show(c,g,h,150,function(){g.parentNode&&g.parentNode.removeChild(g);a=null;Dialog.hide()},l);Ajax.get(e,null,{onready:function(b){var e=createElement(null,"DIV",{className:"shareContent"});e.innerHTML=b;b=e.getElementsByTagName("img");for(var f=0;f<b.length;f++)b[f].onload=b[f].onerror=function(b){this.passedEvent||
(b||(b=window.event),this.passedEvent=!0,Dialog.show(c,g,h,g.clientHeight||g.offsetHeight,function(){g.parentNode&&g.parentNode.removeChild(g);a=null;Dialog.hide()},l,!0))};Class(g,"shareEditorLoading",!0);g.appendChild(e);Dialog.show(c,g,h,g.clientHeight||g.offsetHeight,function(){g.parentNode&&g.parentNode.removeChild(g);a=null;Dialog.hide()},l,!0);Signals.RenderAvatars()},onerror:function(){},ismobile:f})};this.OnShareSuccess=function(a){var c=this.ismobile?300:600;a=stripHtml(a);if(a=window.JSON?
window.JSON.parse(a):eval("("+a+")")){var e;a.Type&&"REDIRECT"===a.Type||(a.Type&&"SUCCESS"===a.Type&&(e=createElement(null,"DIV",{className:"shareEditorSuccess"}),e.innerHTML=a.Message,Dialog.show(a.Title||a.Message||"",e,c,100,function(){Dialog.hide()},null,!0),e.onclick=function(){Dialog.hide()}),a.Type&&"ERROR"===a.Type&&(e=createElement(null,"DIV",{className:"shareEditorSuccess"}),e.innerHTML=a.Message,Dialog.show(a.Message,e,c,100,function(){Dialog.hide()},null,!0),e.onclick=function(){Dialog.hide()}))}};
this.ExternalShare=function(b,c,e,f){if(b=$("share_counter_"+c+"_"+e+"_"+f))c=+b.innerHTML,b.innerHTML=++c;a=null;Dialog.hide()};this.ProcessShare=function(b){if("mql5com"==$("shareType").value)return $("formShare").onsubmit(),!1;$("formShare").onsubmit();null==a&&($("socIconVk")&&"selected"==$("socIconVk").className?a=$("socIconVk"):"selected"==$("socIconFb").className&&(a=$("socIconFb")));b.href=a.href;a=null;Dialog.hide();return!0};this.SetShareType=function(b,c){null==a&&($("socIconVk")&&"selected"==
$("socIconVk").className?a=$("socIconVk"):"selected"==$("socIconFb").className&&(a=$("socIconFb")));if(b==a)return!1;b.className="selected";$("socButtonIco").className=c;$("socButtonText").innerHTML=b.title;$("shareType").value=c;"mql5com"==c?($("shareContentWrapper").style.display="block",$("socCommentContent").focus()):$("shareContentWrapper").style.display="none";a&&a.className&&(a.className=a.className="");a=b;return!1}}var shareManager=new Share;
function Friends(a,b,c,e,f,g,h){function l(a,b,c){var e=createElement(null,"ul",{className:"friendsSettingsMenu"});c?(c=createElement(e,"li",{className:b?"":"active"}),b||createElement(c,"span",{className:"hidePostsIndicator"}),c.appendChild(p(a,b))):(c=createElement(e,"li",{className:b?"":"active"}),createElement(c,"span",{className:"addFriendIco"}),c.appendChild(q(a,b)));return e}function m(a,b,c,e){var f=createElement(null,"ul",{className:"friendsSettingsMenu"});if(c){var g=createElement(f,"li",
{className:b?"":"active"});b||createElement(g,"span",{className:"hidePostsIndicator"});g.appendChild(p(a,b))}else createElement(f,"li",{className:b?"":"active"}).appendChild(q(a,b));createElement(f,"li",{className:""}).appendChild(createElement(null,"a",{className:"friendsSettingsLink",innerHTML:r,href:B+a,target:"_blank"}));c&&(createElement(f,"li",{className:"separator"}),createElement(f,"li",{className:""}).appendChild(n(a,e)));return f}function p(a,b){return createElement(null,"a",{className:"friendsSettingsLink",
innerHTML:t+"&nbsp;&nbsp;",href:z,onclick:function(c){doPost(c,this.href,v,{user:a,action:b?"show_posts":"hide_posts"});return!1}})}function n(a,b){return createElement(null,"a",{className:"friendsSettingsLink",innerHTML:u,href:z,onclick:function(c){if(!confirm(b))return!1;doPost(c,this.href,v,{user:a,action:"remove"});return!0}})}function q(a){return createElement(null,"a",{className:"friendsSettingsLink",innerHTML:w,href:z,onclick:function(b){doPost(b,this.href,v,{user:a,action:"add"});return!1}})}
var t=b,r=c,u=e,w=f,v=h,z=g+"/users/"+a.toLowerCase()+"/friends",B=g+"/users/"+a.toLowerCase()+"/message/new?loginTo=";this.ShowFriendSettings=function(a,b,c,e,f){var g=$(b);if(b){var h=g.parentNode;tooltip(g,m(a,c,e,f),function(){Class(h,"hovered")},function(){Class(h,"hovered",!0)})}};this.ShowFriendSettingsAjax=function(b,c){function e(a){ttId=this.ttId;var b=$(ttId);b&&(b.innerHTML=a)}if(b){var f=$(c);if(c){var h=f.parentNode,p="tt"+S4();Ajax.get(g+"/users/"+a.toLowerCase()+"/friends/"+b+"/info",
null,{onerror:function(){},onready:e,ttId:p});tooltip(f,"<div id='"+p+'\'><span class="loader-icon"></span></div>',function(){Class(h,"hovered")},function(){Class(h,"hovered",!0)})}}};this.ShowPostSettings=function(a,b,c,e){var f=$(b);if(b){var g=f.parentNode;tooltip(f,l(a,c,e),function(){Class(g,"hovered")},function(){Class(g,"hovered",!0)})}}}
function Extractor(){function a(a){var b=document.createElement("DIV");b.innerHTML=a;a=b.getElementsByTagName("DIV");for(var c=a.length-1;0<=c;--c)"fquote"!=a[c].className&&"code"!=a[c].className&&"pocket"!=a[c].className||a[c].parentNode.removeChild(a[c]);a=b.getElementsByTagName("EMBED");for(c=a.length-1;0<=c;--c)a[c].parentNode.removeChild(a[c]);a=b.getElementsByTagName("PRE");for(c=a.length-1;0<=c;--c)a[c].parentNode.removeChild(a[c]);return b.innerHTML}function b(a){for(var b=0;b<e.length;b++)if(e[b]===
a)return!0;return!1}function c(a){var b=document.getElementById("extractorContainer");if(!b||"disabled"!=b.className){a=eval("("+a+")");var c=document.createElement("DIV");c.setAttribute("id","extractorContent");c.className="extractorContent";if(null!=a.ImageUrl&&""!=a.ImageUrl){var e=document.createElement("DIV");e.className="image";var f=document.createElement("IMG");f.src=a.ImageUrl;e.appendChild(f)}f=document.createElement("DIV");f.className="content";f.style.marginLeft=1>a.ImageWidth?0:a.ImageWidth+
10+"px";var g=document.createElement("DIV");g.style.clear="both";var h=document.createElement("A");h.id="extractorTitleLink";h.href=a.PageUrl;h.target="_blank";h.innerHTML=a.Title;a.DisabledEdit||(h.className="editable",h.title=a.Translate.clickToEdit,h.onclick=function(){this.style.display="none";l.style.display="inline";l.focus();l.select();return!1});var l=document.createElement("INPUT");l.id=l.name="extractorTitle";l.value=a.Title;l.maxLength=250;l.setAttribute("autocomplete","off");l.onblur=
function(){h.innerHTML=this.value;h.style.display="inline";this.style.display="none"};l.onkeydown=function(a){a=a||window.event;void 0!=a&&void 0!=a.keyCode&&13==a.keyCode&&this.blur()};l.onkeypress=function(a){return 13!=(a||window.event).keyCode};if(0<a.Rating){var m=document.createElement("DIV");m.className="rating small";var B=document.createElement("DIV");B.className="v"+10*a.Rating;m.appendChild(B)}var A=[];0<a.Rating&&(null!=a.RatingVotesString&&A.push(a.RatingVotesString),null!=a.RatingReviewsString&&
A.push(a.RatingReviewsString));null!=a.PriceString&&A.push(a.PriceString);null!=a.CategoryString&&""!=a.CategoryString&&A.push(a.CategoryString);null!=a.DatePublished&&""!=a.DatePublished&&A.push(a.DatePublished);null!=a.Author&&""!=a.Author&&A.push(a.Author);a.HostName&&A.push(a.HostName);B=document.createElement("DIV");B.className="info";m&&B.appendChild(m);B.innerHTML+=A.join(" | ");var D=document.createElement("P");null!=a.Description&&(D.innerHTML=a.Description);a.DisabledEdit||(D.className=
"editable",D.title=a.Translate.clickToEdit,D.onclick=function(){this.style.display="none";E.style.display="block";E.focus();E.select();return!1});var E=document.createElement("TEXTAREA");E.id=E.name="extractorDescription";E.value=a.Description;E.maxLength=450;E.onblur=function(){D.innerHTML=this.value;D.style.display="block";this.style.display="none"};m=document.createElement("INPUT");m.name="extractorKey";m.type="hidden";m.value=a.Key;A=document.createElement("INPUT");A.name="extractorUrl";A.type=
"hidden";A.value=a.PageUrl;var F=document.createElement("DIV");F.className="delete";F.title=a.Translate["delete"];F.onclick=function(){Extractor.HideContentBox()};f.appendChild(h);f.appendChild(l);f.appendChild(B);f.appendChild(D);f.appendChild(E);f.appendChild(m);f.appendChild(A);e&&c.appendChild(e);c.appendChild(f);c.appendChild(g);b.className="extractor";b.innerHTML="";b.appendChild(c);b.appendChild(F)}}var e=[],f=null,g=null,h=/http[s]*\:\/\/[a-z0-9\-\.]{1,120}\.[a-z]{2,5}[^\s\"\'<>\(\),]{0,500}/i,
l=!1,m=!1;this.CanFindLink=function(){return!l&&!m};this.FindLink=function(p){if(!l&&!m){var n=document.getElementById("extractorContainer");n&&"disabled"==n.className||(n=document.getElementById("edit_id"),void 0!=n&&0<n.value&&document.getElementById("extractor"+n.value)||(p=Dalet.Engine.GetHtml(p),null!=p&&p!=g&&(g=p,p=a(p),p=p.match(h),null==p||null==p[0]||""==p[0]||b(p[0])||(f=p[0],m=!0,window.Ajax.post("/extractor",{url:f},!1,{onready:function(a){null==a||""==a?e.push(f):(c(a),l=!0);m=!1},onerror:function(){e.push(f);
m=!1}})))))}};this.HideContentBox=function(){e.push(f);l=m=!1;var a=$("extractorContainer");a&&(a.className="",a.innerHTML="")};this.Remove=function(a,b,c,e){window.Ajax.post("/extractor/remove",{moduleId:a,typeId:b,entityId:c,__signature:e},!1,{onready:function(a){null!=a&&""!=a&&eval("("+a+")")&&(a=$("extractor"+c),void 0!=a&&a.parentNode.removeChild(a))},onerror:function(){}})};this.ReadMore=function(a,b){window.Ajax.post("/extractor/readmore",{id:a},!1,{onready:function(a){if(null!=a&&""!=a){var c=
eval("("+a+")");$("extractorDescription"+b).style.display="none";if($("extractorReadMore"+b))$("extractorReadMore"+b).style.display="block";else{a=document.createElement("DIV");a.id="extractorReadMore"+b;var e=document.createElement("DIV");e.className="readMore";var f=document.createElement("A");f.href="#";f.innerHTML=c.translate.hideMore;f.onclick=function(){$("extractorReadMore"+b).style.display="none";$("extractorDescription"+b).style.display="block";return!1};e.appendChild(f);a.innerHTML=c.content;
a.appendChild(e);c=$("extractorDescription"+b);c.nextSibling?c.parentNode.insertBefore(a,c.nextSibling):c.parentNode.appendChild(a)}}},onerror:function(){}})}}Extractor=new Extractor;
function QuickRegistration(){function a(a){for(var b in a)if("empty"!=b.toString()&&a.hasOwnProperty(b))return!1;return!0}var b=!0,c=null,e,f;this.OnSubmit=function(a,b){null!=c&&(e=""==b?"en":b,f&&(clearTimeout(f),f=void 0))};this.OnError=function(){$("quickRegisterErrorMessage").style.display="block"};this.OnSuccess=function(b){QuickRegistration.Track("submit",{dst:"submit_"+c});window.fpush("Register+Submit");b="string"==typeof b?eval("("+b+")"):b;$("quickRegisterErrorMessage").style.display="none";
if(b){if(a(b)){QuickRegistration.Track("action",{dst:"action_"+c,email:$("email").value});window.fpush("Register+Success");Validate.SetValid($("quickRegisterForm"),b);var e=$("quickRegistrationFormLogin");e&&(e.style.display="block",Dialog.show("",$("quickRegistrationFormLogin"),400,175,function(){Dialog.hide();$("quickRegistrationFormLogin").style.display="none"}),$("Login").value=$("username").value,$("username").value="",$("email").value="",$("Password").focus())}void 0!=b.common&&($("quickRegisterErrorMessage").style.display=
"block");Validate.SetValid($("quickRegisterForm"),b)}else $("quickRegisterErrorMessage").style.display="block"};this.OnSuccessGeneral=function(b){QuickRegistration.Track("submit",{dst:"submit_"+c});window.fpush("Register+Submit");b=eval("("+b+")");$("quickRegisterErrorMessage").style.display="none";b?(a(b)&&(QuickRegistration.Track("action",{dst:"action_"+c,email:$("email").value}),window.fpush("Register+Success"),Validate.SetValid($("quickRegisterForm"),b),window.setTimeout(function(){var a=void 0!=
$("username")?$("username").value:"";window.location="register_cloud"===c?"/"+e+"/auth_login?reg=1&return=cloud&login="+a:"/"+e+"/auth_login?reg=1&login="+a},100)),void 0!=b.common&&($("quickRegisterErrorMessage").style.display="block"),Validate.SetValid($("quickRegisterForm"),b)):$("quickRegisterErrorMessage").style.display="block"};this.CheckUserName=function(){f&&(clearTimeout(f),f=void 0);var a=$("username");""!==a.value?f=setTimeout(function(){var b=a.parentElement;b.classList&&b.classList.add("waiting");
b=$("IsValidate");b.value=1;Ajax.form($("quickRegisterForm"),{onready:QuickRegistration.OnSuccessCheckLogin});b.value=0},200):(Validate.ClearMessage($("validate_username")),MQTE.SetValidationClass("username",!1));QuickRegistration.OnBlur(a)};this.OnSuccessCheckLogin=function(a){var b=$("username").parentElement;b.classList&&b.classList.remove("waiting");a=eval("("+a+")");$("quickRegisterErrorMessage").style.display=void 0!=a.common?"block":"none";Validate.SetValid($("quickRegisterForm"),a)};this.OnBlur=
function(a){""===a.value&&a.nextSibling&&a.nextSibling.style&&(a.nextSibling.style.display="block")};this.OnFocus=function(a,e){b&&(b=!1,c=e,this.Track("focus",{dst:"focus_"+c}));a.nextSibling&&a.nextSibling.style&&(a.nextSibling.style.display="none")};this.DisableInputs=function(){$("username").disabled="disabled";$("email").disabled="disabled";$("quickRegisterSubmit")&&($("quickRegisterSubmit").className="submit loading");$("quickRegisterButton")&&($("quickRegisterButton").disabled="disabled")};
this.EnableInputs=function(){$("username").disabled=!1;$("email").disabled=!1;$("quickRegisterSubmit")&&($("quickRegisterSubmit").className="submit");$("quickRegisterButton")&&($("quickRegisterButton").disabled=!1)};this.Track=function(a,b){traceClickAsync(null,a,b.dst,"","")}}QuickRegistration=new QuickRegistration;function addEventCustom(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}
function delEventCustom(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function stopProp(a,b){a&&a.stopPropagation?a.stopPropagation():a&&a.cancelBubble&&(a.cancelBubble=!0);b&&a.preventDefault&&a.preventDefault()}
function MobileMenu(){function a(a){if(c){for(var h=a.target;h&&h!==f&&h!==e;)h=h.parentNode;h||b(a,!1)}}function b(b,h){f&&e&&(c||h)&&(stopProp(b,!0),!c&&h?(c=!0,f.style.left=0,e.className+=" left-panel-selector_selected",addEventCustom(document,"touchstart",a),addEventCustom(document,"click",a)):c&&(c=!1,f.style.left="-10000px",e.className="left-panel-selector",delEventCustom(document,"touchstart",a),delEventCustom(document,"click",a)))}var c=!1,e=$("left-panel-selector"),f=$("left-panel");if(f&&
e)return $("bodyContent").style.position="relative",this.Hide=function(){f&&e&&c&&c&&(c=!1,f.style.left="-10000px",e.className="",delEventCustom(document,"touchstart",a),delEventCustom(document,"click",a))},addEventCustom(e,"mousedown",function(a){b(a,!0);stopProp(a,!0)}),addEventCustom(f,"mousedown",function(a){if("INPUT"===a.target.tagName.toUpperCase())return!0;stopProp(a,!0);return!1}),this}MobileMenu=new MobileMenu;
function MobileSubMenu(){function a(a){if(c){for(var h=a.target;h&&h!==f&&h!==e;)h=h.parentNode;h||b(a,!1)}}function b(b,h){f&&e&&(c||h)&&(stopProp(b,!0),!c&&h?(c=!0,f.style.left=0,e.className="active",addEventCustom(document,"touchstart",a),addEventCustom(document,"click",a)):c&&(c=!1,f.style.left="-10000px",e.className="",delEventCustom(document,"touchstart",a),delEventCustom(document,"click",a)))}var c=!1,e=$("btnProfileSubCommands"),f=$("ulProfileSubCommands");if(f&&e)return $("bodyContent").style.position=
"relative",this.Hide=function(){f&&e&&c&&c&&(c=!1,f.style.left="-10000px",e.className="",delEventCustom(document,"touchstart",a),delEventCustom(document,"click",a))},addEventCustom(e,"mousedown",function(a){b(a,!0);stopProp(a,!0)}),addEventCustom(f,"mousedown",function(a){if("INPUT"===a.target.tagName.toUpperCase())return!0;stopProp(a,!0);return!1}),this}MobileSubMenu=new MobileSubMenu;
function LangMenu(){var a,b,c,e,f=!1;mqGlobal.AddOnReady(function(){LangMenu.Init()});this.Init=function(){if(null==a&&(a=$("langmenu"),b=$("langMenuSelected"),c=$("langMenuContainer"),null!=a&&null!=b&&null!=c)){b.onmousedown=function(b){f=Core.IsTouchDevice();Core.PreventSelection();b=b||window.event;"langmenu dropped"===a.className?LangMenu.Hide():LangMenu.Show(b)};b.onselectstart=function(){return!1};var g=a.getElementsByTagName("a"),h;for(h in g)g[h].onmousedown=function(a){a=a||window.event;
Core.StopProp(a);a.preventDefault&&a.preventDefault()},g[h].onselectstart=function(){return!1};a.onmousedown=function(a){a=a||window.event;Core.StopProp(a);a.preventDefault&&a.preventDefault();return!1};a.onselectstart=function(){return!1};Core.IsTouchDevice()?(e=document.createElement("input"),e.type="checkbox",e.className="blurHandler",e.onblur=function(){LangMenu.Hide()},a.appendChild(e)):(c.onmouseover=function(a){LangMenu.Show(a)},c.onmouseout=function(){LangMenu.Hide()})}};this.Show=function(b){b=
b||window.event;b.preventDefault&&b.preventDefault();"langmenu"===a.className&&(a.className="langmenu dropped",f&&e.focus())};this.Hide=function(){a.className="langmenu"}}LangMenu=new LangMenu;
function MainMenu(){var a,b,c,e,f;mqGlobal.AddOnReady(function(){MainMenu.Init()});this.Init=function(){if(null==a&&(a=$("mainmenu"))){b=$("mainMenuSelected");var g=$("headerToolbar"),h=$("mainmenuItems");if(b&&g&&h){var l=h.getElementsByTagName("li");g&&(a.style.marginRight=g.offsetWidth+70+"px");if(l){var m=function(){q=!0;a.style.paddingRight="0px";g&&(a.style.marginRight=g.offsetWidth+30+"px");e.style.right=g.offsetWidth+30+"px";p();n.className=q?"sub-nav__toggle":"sub-nav__toggle active";e.style.display=
""==t.innerHTML?"none":""},p=function(){t.innerHTML="";for(var b=0;b<l.length;b++){var c=l[b];if(10<c.offsetTop){if(0==parseInt(a.style.paddingRight)){a.style.paddingRight="25px";t.innerHTML="";p();break}t.appendChild(c.cloneNode(!0));"selected"==c.className&&(q=!1)}}};e=document.createElement("div");e.className="sub-nav__container";var n=document.createElement("div");n.className="sub-nav__toggle";n.innerHTML="...";var q=!0,t=document.createElement("ul");a.parentNode.appendChild(e);e.appendChild(n);
e.appendChild(t);e.style.right=g.offsetWidth+30+"px";f=document.createElement("input");f.type="checkbox";f.className="blurHandler";f.onblur=function(){setTimeout(function(){MainMenu.HideSub()},300)};e.appendChild(f);n.onmousedown=function(a){a=a||window.event;"sub-nav__container show"==e.className?MainMenu.HideSub():MainMenu.ShowSub(a)};m();window.onresize=function(){m()}}b.onmousedown=function(b){b=b||window.event;"menu dropdown dropped"==a.className?MainMenu.Hide():MainMenu.Show(b)};var h=a.getElementsByTagName("a"),
r;for(r in h)h[r]!=b&&(h[r].onmousedown=function(a){a=a||window.event;Core.StopProp(a);a.preventDefault&&a.preventDefault()});c=document.createElement("input");c.type="checkbox";c.className="blurHandler";c.onblur=function(){MainMenu.Hide()};a.appendChild(c)}}};this.Show=function(b){b=b||window.event;b.preventDefault&&b.preventDefault();"menu dropdown"==a.className&&(a.className="menu dropdown dropped",c.focus())};this.ShowSub=function(a){a=a||window.event;a.preventDefault&&a.preventDefault();"sub-nav__container"==
e.className&&(e.className="sub-nav__container show",f.focus())};this.Hide=function(){a.className="menu dropdown"};this.HideSub=function(){e.className="sub-nav__container"}}MainMenu=new MainMenu;
function HeadSideBarMenu(){var a,b,c,e;mqGlobal.AddOnReady(function(){HeadSideBarMenu.Init()});this.Init=function(){a=$("groupMenu");b=$("sidebarToggleButton");c=$("cover");null!=a&&null!=b&&null!=c&&(e=document.createElement("div"),e.className="layer",c.appendChild(e),b.onclick=function(){HeadSideBarMenu.Show()},e.onclick=function(){HeadSideBarMenu.Hide()})};this.Show=function(){var b=Math.max(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,document.body.scrollHeight);
c.className="cover sidebar_open";a.style.height=b+"px";e.style.height=b+"px"};this.Hide=function(){c.className="cover"}}HeadSideBarMenu=new HeadSideBarMenu;function Focuser(){var a,b;this.Init=function(c,e){var f=$(c);if(f){var g=$(e);f.setAttribute("tabindex",-1);f.onclick=function(){a||(g.style.display="block",a=!0,f.focus())};f.onblur=function(){a&&(b?(b=!1,f.focus()):(g.style.display="none",a=!1))};g.onmousedown=function(){b=a?!0:!1}}}}
function ClickPopup(){this.Init=function(a,b,c,e){var f=$(a);if(f){var g=$(b),h=$(c),l=function(){f.className+=" on";g.style.display="block"},m=function(){f.className=f.className.replace(" on","");g.style.display="none"};h.onfocus=function(){setTimeout(l,0)};h.onblur=function(){setTimeout(m,100)};f.onclick=function(){"block"==g.style.display?h.blur():(g.style.display="block",h.focus(),h.select())};e&&(g.style.left="-"+(e-f.offsetWidth)/2+"px")}}}
function Layer(a,b,c,e){this.elementId=e;var f=$(e);f.style.top=c+"px";f.style.left=b+"px";this.calcCoordsDelta=function(b,c,e,f){return a?g=b=a(b,c,e,f):{}};var g=null;this.move=function(){if(g){for(var a in g)f.style[a]=g[a];g=null}};this.getElement=function(){return f};this.getInitPosition=function(){return{left:b,top:c}};this.getDeltaProps=function(){return g||{}}}
function Parallax(){function a(a,b){for(var l=0;l<c.length;l++)c[l].calcCoordsDelta(a-g,b-h,a,b);if(!e||50<new Date-f){for(l=0;l<c.length;l++)setTimeout(c[l].move,100);f=new Date}}var b=document.body,c=[],e=supportsCssProp("transition");this.addLayer=function(a,b,e,f){c[c.length]=new Layer(a,b,e,f)};this.getLayer=function(a){for(var b=0;b<c.length;b++)if(c[b].elementId==a)return c[b];return null};var f=new Date,g=-1,h=-1;b.onmousemove=function(b){var c=-1,e=-1;document.all?(c=event.x+document.body.scrollLeft,
e=event.y+document.body.scrollTop):(c=b.pageX,e=b.pageY);0>g||0>h||a(c,e);g=c;h=e};b.onmouseout=function(){h=g=-1};var l=getWindowSize();this.getWindowSize=function(){return l};var m=window.onresize;window.onresize=function(){l=getWindowSize();a(g,h);m&&m()}}
function addCustomScroll(a,b,c,e,f,g){function h(a){var b=!1;a.scrollHeight<=a.clientHeight&&(b=!0);var c=Math.max(50,a.clientHeight/a.scrollHeight*t.clientHeight|0)-f-f;a=a.scrollTop/(a.scrollHeight-a.clientHeight)*(t.clientHeight-c-f-f)|0;u.style.display=b?"none":"";u.style.height=c+"px";u.style.top=a+"px";r.style.top="0px";r.style.height=a+"px"}function l(){if(g)for(var a in g)g.hasOwnProperty(a)&&(q.style[a]=g[a])}function m(a){a=a||window.event;if(null==a.pageX&&null!=a.clientX){var b=document.documentElement,
c=document.body;a.pageX=a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b.clientTop||0)}!a.which&&a.button&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a}function p(b){var c=parseInt(b.style.top),e=0,g=null,h=b.onmousedown;b.onmousedown=function(l){l=m(l);e=l.pageY;c=parseInt(b.style.top);g=window.onmousemove;Class(b,"dragged");window.onmousemove=function(g){g=m(g);b&&(b.style.top=Math.min(Math.max(c+(g.pageY-e),
0),b.parentNode.clientHeight-b.clientHeight-f-f)+"px",e=g.pageY,c=parseInt(b.style.top),g=parseInt(b.style.top),a.scrollTop=a.scrollHeight/b.parentNode.clientHeight*g)};window.onmouseup=function(){Class(b,"dragged",!0);window.onmousemove=g;g=null};h&&h(l);return!1}}var n=window.getComputedStyle?window.getComputedStyle(a,null).getPropertyValue("padding-right")||0:0,n=parseInt(n),q=createElement(null,"div",{className:"customScrollWrapper"});if(a.parentNode){a.parentNode.insertBefore(q,a);a.style.width=
"100%";q.appendChild(a);var t=createElement(q,"div",{className:"customScrollBar"});t.style.backgroundColor=b||"#F0F0F0";t.style.width=(e||1)+2*(f||0)+"px";q.style.zIndex=a.style.zIndex;var r=createElement(t,"div",{className:"customScrollBarSpace"}),u=createElement(t,"div",{className:"customScrollBarTrack"});u.style.backgroundColor=c||"#F0F0F0";u.style.width=(e||1)+"px";u.style.border="solid "+(f||0)+"px "+(b||"#F0F0F0");r.style.width=u.style.width;r.style.border="solid "+(f||0)+"px transparent";l();
a.style.paddingRight=n+(17-e-2*f)+"px";h(a);t.onmousedown=function(b){b.currentTarget===b.target&&(a.scrollTop=Math.min(a.scrollTop+a.clientHeight,a.scrollHeight-a.clientHeight))};r.onmousedown=function(b){b.currentTarget===b.target&&(a.scrollTop=Math.max(a.scrollTop-a.clientHeight,0))};var w=a.onscroll;a.onscroll=function(){h(a);w&&w(arguments);return!0};var v=a.onresize;a.onresize=function(){h(a);v&&v(arguments);return!0};new p(u)}}
function FeedbackForm(){var a=null;this.ProcessSubjectSelect=function(b){var c=$("subjectType");if(void 0!=c)if(null==b||""==b)c.style.display="none";else{if(null==a){a=[];var e=c.getElementsByTagName("option"),f;for(f in e)a.push(e[f])}for(b="subjectType_"+b+"_";c.hasChildNodes();)c.removeChild(c.lastChild);for(var g in a)void 0!=a[g].id&&0==a[g].id.indexOf(b)&&c.appendChild(a[g]);c.style.display="inline";null==c.childNodes||void 0==c.childNodes[0].selected||c.childNodes[0].disabled||(c.childNodes[0].selected=
!0);c=$("customSubjectBox");void 0!=c&&(c.style.display="none")}};this.ProcessSubjectTypeSelect=function(a){var c=$("subjectType");if(void 0!=c){var e=$("customSubjectBox");if(void 0!=e){var f=$("customSubject");if(void 0!=f){var c=c.getElementsByTagName("option"),g=!1,h;for(h in c)if(!(c[h].value!=a||void 0==c[h].id||0>c[h].id.indexOf("_other"))){g=!0;break}g?(e.style.display="block",f.focus()):e.style.display="none"}}}}}FeedbackForm=new FeedbackForm;
function HotKeysClass(){function a(a,b,c,h,l){var m=b?!0:!1,p=c?!0:!1,n=h?!0:!1;this.IsPressed=function(b){b=b||window.event;var c,f=!1,g=!1,h=!1;c=b?b.keyCode:b.which;f=b.shiftKey?!0:!1;g=b.ctrlKey?!0:!1;h=b.altKey?!0:!1;return c==a&&m==f&&p==g&&n==h};this.ExecCallback=function(a){return l?l(a):!0}}var b=[],c=window.document.onkeydown;window.document.onkeydown=function(a){for(var f=0;f<b.length;f++)if(b[f].IsPressed(a)&&0==b[f].ExecCallback(a))return!1;c&&c(arguments)};this.Add=function(c,f,g,h,
l){b.push(new a(c,g,h,l,f))}}var HotKeys=new HotKeysClass,paletteRegular="#3366CC #DC3912 #FF9900 #109618 #990099 #0099C6 #DD4477 #66AA00 #B82E2E #316395 #994499 #22AA99 #AAAA11 #6633CC #E67300 #8B0707".split(" "),paletteHover="#45AFE2 #FF3300 #FFD324 #14C21D #DF51FD #15CBFF #FF97D2 #97FB00 #DB6651 #518BC6 #BD6CBD #35D7C2 #E9E91F #9877DD #FF8F20 #D20B0B".split(" ");
function BuildMonitoringChart(a,b,c,e,f){var g=[];g.push(['{\n   "title":"",\n   "description":"",\n   "fractionalValue":"0",\n   "type":"graph",\n   "subType":"simple",\n   "showFractionalValue":true,\n   "axisXTitle" : "Date",','   "axisYTitle" : "'+b+(""==c?"":", "+c)+'",','   "margin" : {"left" : 50, "right" : 30},\n   "series" : [\n       {\n           "type" : "title",','           "value" : ['+e+"]","       }"].join("\n"));b=0;for(var h in f)g.push(['       ,\n       {\n           "type" : "graph",\n           "title" : "",',
'           "tooltip" : "%VARIABLE% - '+h+" - %VALUE% "+c+'",','           "value" : ['+f[h]+"],",'           "selectColor":"'+paletteHover[b%paletteHover.length]+'",','           "lineColor":"'+paletteRegular[b%paletteHover.length]+'",','           "showBounds":false\n       }'].join("\n")),b++;g.push("   ]\n }");window.getRenderType||(window.getRenderType=function(){return MQL5ChartRenderType.SVG});$(a)&&MQL5ChartAPI.addChart(a,g.join("\n"),MQL5ChartType.GRAPH,window.getRenderType)}
var MqDownloadLinksProcessor=new function(){};function AnnonsLines(){this.Close=function(a,b){a&&($("annonsLine"+b).style.display="none");Ajax.post("/annons/hide/"+b,null,!1)}}AnnonsLines=new AnnonsLines;
function TradingAccounts(){this.accounts_base=[];this.parentHost=this.childHost="";this.syncCompleteCallback=null;this.editableMt=this.editableBroker=!0;this.presetMtVersion=this.presetAccountLine=null;this.syncEnabled=!1;this.InitCore=function(a,b){TradingAccounts.childHost=a;TradingAccounts.parentHost=b;window.addEventListener("message",TradingAccounts.OnWindowMessage)};this.InitSync=function(a,b,c,e,f,g,h,l,m,p,n,q){TradingAccounts.editableMt=b;TradingAccounts.editableBroker=c;TradingAccounts.syncCompleteCallback=
e;TradingAccounts.presetAccountLine=f;TradingAccounts.presetMtVersion=h;if(a=$(a))b=TradingAccounts.childHost+"/trade?callback&switch_platform=1&border=0&startup_version=5&demo_all_servers=1",n&&(b+="&user_token="+n),g&&(b+="&startup_mode="+g,"no_ui"==g&&(TradingAccounts.syncEnabled=!0,0<h&&(b+="&version="+h))),0<l?b+="&version="+h+"&login="+l+"&trade_server="+escape(m):p&&(b+="&version="+h),q&&(b+="&m=1"),a.setAttribute("src",b)};this.OnWindowMessage=function(a){if(a.origin==TradingAccounts.childHost)switch(a=
JSON.parse(a.data),a.command){case "records":TradingAccounts.SyncAccountsData(TradingAccounts.childHost,a.data);break;case "add_line_complete":TradingAccounts.syncCompleteCallback&&TradingAccounts.syncCompleteCallback.add_line_complete&&0<TradingAccounts.accounts_base.length&&TradingAccounts.syncCompleteCallback.add_line_complete(TradingAccounts.accounts_base[TradingAccounts.accounts_base.length-1].server_type)}};this.SyncAccountsData=function(a,b){if(TradingAccounts.presetAccountLine)TradingAccounts.AddAccountLine(a,
TradingAccounts.presetMtVersion,TradingAccounts.presetAccountLine),TradingAccounts.presetAccountLine=null;else if(TradingAccounts.syncCompleteCallback&&TradingAccounts.syncCompleteCallback.onsync&&b&&b.length&&0<b.length){var c=b[0];if(c.login&&c.server_name)TradingAccounts.syncCompleteCallback.onsync()}else TradingAccounts.syncEnabled&&b&&b.length&&0<b.length&&TradingAccounts.MapAccountStats(b)};this.SearchNextNode=function(a,b){for(var c=a,e=!1;;){var f;if(!e&&c.childNodes&&0<c.childNodes.length){f=
c.childNodes[0];if(!f.tagName){c=f;continue}if(f.tagName==b)break}e=!1;f=c.nextSibling;if(!f){if(c.parentNode){c=c.parentNode;e=!0;continue}break}if(f.tagName&&f.tagName==b)break;c=f}return f};this.MapAccountStats=function(a){var b=TradingAccounts.SearchNextNode,c=[],e=[],f=$("tradeAccountsList"),g=$("accNewTile"),h=$("accTileTemplate");if(f&&g&&h){for(var l=0;l<a.length;l++){var m=a[l];if(m&&m.login&&m.server_name){var p=parseInt(m.login);if(p&&!isNaN(p)&&0!=p&&!/[\'\"\<\>]/.test(m.server_name)){var n=
TradingAccounts.accounts_base.length;TradingAccounts.accounts_base.push(m);var q;m.server_type?q=m.server_type:(q=4,m.server_type=4);m.tile=n;var t=h.cloneNode(!0);t.setAttribute("id","accTile"+n);var r=b(t,"A");m.account_name?(0<r.childNodes.length&&r.removeChild(r.childNodes[0]),r.appendChild(document.createTextNode(p+": "+m.account_name))):r.innerHTML=p;var u=r.getAttribute("href"),u=u+("?version="+q+"&login="+p+"&trade_server="+escape(m.server_name));r.setAttribute("href",u);u={};r=b(r,"IMG");
r.setAttribute("id","accFieldLogo"+n);u.node_logo=r;r=b(r,"SPAN");0<r.childNodes.length&&r.removeChild(r.childNodes[0]);r.appendChild(document.createTextNode(m.server_name));r=b(r,"SPAN");r.setAttribute("id","accFieldCompany"+n);u.node_company=r;r=b(r,"SPAN");r.className="mt mt"+q;r.setAttribute("title","MetaTrader "+q);r=b(r,"DD");r.innerHTML=TradingAccounts.FormatMoney(m.stat_equity);r=b(r,"DD");r.innerHTML=TradingAccounts.FormatMoney(m.stat_profit);r=b(r,"DD");r.innerHTML=(isNaN(m.stat_load)?0:
m.stat_load)+"%";r=b(r,"DD");0<r.childNodes.length&&r.removeChild(r.childNodes[0]);r.appendChild(document.createTextNode(m.stat_currency));r=b(r,"A");r.setAttribute("onclick","TradingAccounts.DropAccount("+n+");");r=b(r,"DIV");r.setAttribute("id","accFieldDelete"+n);r=b(r,"BUTTON");r.setAttribute("onclick","TradingAccounts.DropAccountConfirm("+[n,q,"'"+p+"'","'"+m.server_name+"'"].join()+");");r=b(r,"BUTTON");r.setAttribute("onclick","TradingAccounts.DropAccountCancel("+n+");");e.push(u);f.insertBefore(t,
g);p=!1;for(n=0;n<c.length;n++)if(c[n]==q+";"+m.server_name){p=!0;break}p||c.push(q+";"+m.server_name)}}}0!=c.length&&(a=window.document.forms.tradeAccountsDetailsQuery)&&a.query&&(a.query.value=JSON.stringify(c),Ajax.form(a,{onready:TradingAccounts.ApplyAccountsDetails}))}};this.ApplyAccountsDetails=function(a){if((a=JSON.parse(a))&&a.length&&TradingAccounts.accounts_base&&TradingAccounts.accounts_base.length)for(var b=0;b<a.length;b++)for(var c=a[b],e=0;e<TradingAccounts.accounts_base.length;e++){var f=
TradingAccounts.accounts_base[e];f.server_type==c.mt&&f.server_name==c.server&&($("accFieldLogo"+f.tile).setAttribute("src",c.logo),$("accFieldCompany"+f.tile).innerHTML=c.company)}};this.AddAccount=function(){TradingAccounts.AddAccountCancel();var a=$("accNewTile");if(a){var b=$("mtversion"),c=$("accountlogin"),e=$("broker");c.value="";TradingAccounts.editableMt&&(window.mtversionSelectValue("4"),b.value="4");TradingAccounts.editableBroker&&(e.value="");a.className="tile edit";c.focus()}};this.AddAccountCancel=
function(){var a=$("accNewTile");a&&(a.className="tile add",window.Validate.ClearMessage($("validate_accountlogin")),$("accountlogin").parentNode.className="inputWrapper",TradingAccounts.editableMt&&window.Validate.ClearMessage($("validate_mtversion")),TradingAccounts.editableBroker&&(window.Validate.ClearMessage($("validate_broker")),$("broker").parentNode.className="inputWrapper"))};this.AddAccountConfirm=function(a){if(!a||!$("accNewTile"))return!1;a={server_type:$("mtversion").value,login:$("accountlogin").value,
server_name:$("broker").value};var b=TradingAccounts.FindDuplicateAccount($("accountlogin"));if(-1==b)return TradingAccounts.accounts_base.push(a),TradingAccounts.AddAccountPlain(TradingAccounts.childHost,a),!0;TradingAccounts.AddAccountCancel();var c=$("accTile"+b);c&&(c.style.transform="scale(1.1)",setTimeout(function(){c.style.transform="scale(1)"},200));return!1};this.ValidateForDuplicateAccount=function(a){return 0<=TradingAccounts.FindDuplicateAccount(a)};this.FindDuplicateAccount=function(a){if(!TradingAccounts.accounts_base||
0==TradingAccounts.accounts_base.length)return-1;var b=a.value;a=TradingAccounts.SearchNextNode(a,"INPUT");var c=a.value;a=TradingAccounts.SearchNextNode(a,"INPUT");a=a.value;for(var e=0;e<TradingAccounts.accounts_base.length;e++){var f=TradingAccounts.accounts_base[e];if(f.server_type==c&&f.login==b&&f.server_name==a)return e}return-1};this.AddAccountLine=function(a,b,c){window.frames.webTerminalHost.postMessage(JSON.stringify({command:"add_encrypted_line",data:{line:c,type:b}}),a)};this.AddAccountPlain=
function(a,b){(5==b.server_type?window.frames.webTerminalHost5:window.frames.webTerminalHost4).postMessage(JSON.stringify({command:"add_line",data:{login:b.login,server:b.server_name,type:b.server_type}}),a)};this.DropAccount=function(a){if(a=$("accFieldDelete"+a))a.className="deleteOverlay on"};this.DropAccountConfirm=function(a,b,c,e){(5==b?window.frames.webTerminalHost5:window.frames.webTerminalHost4).postMessage(JSON.stringify({command:"remove_line",data:{login:c,server:e,type:b}}),TradingAccounts.childHost);
for(var f=0;f<TradingAccounts.accounts_base.length;f++){var g=TradingAccounts.accounts_base[f];if(g.server_type==b&&g.login==c&&g.server_name==e){TradingAccounts.accounts_base.splice(f,1);break}}(a=$("accTile"+a))&&a.parentNode&&a.parentNode.removeChild(a)};this.DropAccountCancel=function(a){if(a=$("accFieldDelete"+a))a.className="deleteOverlay"};this.FormatMoney=function(a){if(0==a)return"0";if(995>=a)return a.toFixed(0);if(1050>=a)return"1K";var b;return 9950>=a?(b=a%1E3,(a/1E3).toFixed(50>b||950<
b?0:1)+"K"):999500>=a?(a/1E3).toFixed(0)+"K":105E4>=a?"1M":995E4>=a?(b=a%1E6,(a/1E6).toFixed(5E4>b||95E4<b?0:1)+"M"):(a/1E6).toFixed(0)+"M"}}TradingAccounts=new TradingAccounts;
function CarouselGallery(){function a(a,b){var c=$(b+"_navLinks");if(c)for(var c=c.getElementsByTagName("A"),e=0;e<c.length;e++)c[e].className=Number(e)===Number(a)?"selected":""}var b,c,e;this.Show=function(f,g){if(null==b){var h=$(g);c=h.offsetWidth;for(var h=h.getElementsByTagName("DIV"),l=0;l<h.length;l++)if(h[l].className&&!(0>h[l].className.indexOf("carouselGalleryContainer"))){b=h[l];break}}e=f;h=e*c*-1;null!=b.style.transform?b.style.transform="translateX("+h+"px)":b.style.left=h+"px";a(e,
g)};this.Move=function(f,g,h){if(null==b){var l=$(f);c=l.offsetWidth;for(var l=l.getElementsByTagName("DIV"),m=0;m<l.length;m++)if(l[m].className&&!(0>l[m].className.indexOf("carouselGalleryContainer"))){b=l[m];break}e=0;g=Number(g)}e=Number(e)+(h?1:-1);e>=g?e=0:0>e&&(e=g-1);g=e*c*-1;null!=b.style.transform?b.style.transform="translateX("+g+"px)":b.style.left=g+"px";a(e,f)}}CarouselGallery=new CarouselGallery;
(function(){function a(a){m=!1;p="";var b=n?n.getElementById("userSearchInEditorAnc"):null,c=void 0;if(b)if(a){var c=createElement(null,"a",{href:("/"+(mqGlobal.Language||"en")+"/users/"+a.Login).toLowerCase(),target:"_blank",innerHTML:"@"+a.Name,className:"user-ref"}),e=q;b.parentNode.insertBefore(c,b);b.parentNode.removeChild(b);setTimeout(function(){Dalet.Engine.FocusAfterNode(e,c)},20);Dalet.Engine.Flush(q)}else Dalet.Engine.KillNode(b);else a&&(c=createElement(null,"a",{href:("/"+(mqGlobal.Language||
"en")+"/users/"+a.Login).toLowerCase(),target:"_blank",innerHTML:"@"+a.Name,className:"user-ref"}),Dalet.Engine.InsertToCursor(q,c),Dalet.Engine.Flush(q));(a=$("userSearchInEditorResults"))&&a.parentNode&&a.parentNode.removeChild(a);t=[];return c}function b(a){if("@"!==a)return!1;if("undefined"===typeof n.getSelection){a=n.selection.createRange();var b={};b.startOffset=0==a.text.length?0:a.text.length}else a=n.getSelection(),b=a.getRangeAt(0);var c="";0<b.startOffset&&(b.setStart(b.startContainer,
b.startOffset-1),c=a.toString().substring(0,1),b.setStart(b.startContainer,b.startOffset+1));return!c||!r.test(c)}function c(b){t=[];var c=this.searchInput;c&&(c.className="");if((b="undefined"==typeof JSON?eval("("+b+")"):JSON.parse(b))&&b.length){var e=c||n.getElementById("userSearchInEditorAnc");if(e){var f;(f=$("userSearchInEditorResults"))||(f=createElement(c?c.parentNode:q.parentNode,"div",{className:"searchInEditorResults",id:"userSearchInEditorResults"}));f.innerHTML="";c?f.style.top="53px":
(c=getOffsetRect(e,q),f.style.left=c.left+"px",f.style.top=c.top+22+"px");for(var g=this.onEndSearch,c=0;c<b.length&&5>c;c++){var e=b[c],h=createElement(f,"div",{className:"resultLine",user:e,onclick:function(){a(this.user);g&&g();return!1}});createElement(h,"img",{width:25,height:25,src:e.AvatarMicro.toLowerCase()});createElement(h,"span",{className:"resultName",innerHTML:e.Name==e.Login?e.Login:e.Name+" ("+e.Login+")"});t[c]=e}}}else(b=$("userSearchInEditorResults"))&&b.parentNode&&b.parentNode.removeChild(b)}
function e(a,b){u&&clearTimeout(u);u=setTimeout(function(){var e=a&&a.value?a.value:p,e=e.replace(/^(\s|\u00A0)+/g,"");0===e.indexOf("@")&&(e=e.substring(1));!e||1>e.length||w.length&&w==e||(w=e,2<e.length&&(a&&(a.className="search_user__loading"),Ajax.get("/"+(mqGlobal.Language||"en")+"/users_search/jsonp?order=active&keyword="+encodeURIComponent(e),null,{onready:c,onerror:f,searchInput:a,onEndSearch:b})))},0)}function f(){var b=this.searchInput;b&&(b.className="");a()}function g(){if("undefined"!==
typeof q.contentWindow.getSelection){var a=q.contentWindow.getSelection();if(0!=a.rangeCount){var b=a.getRangeAt(0).cloneRange();setTimeout(function(){a.removeAllRanges();a.addRange(b)},0)}}}function h(){l();p=n.getElementById("userSearchInEditorAnc").innerHTML;var b;b="@"==p?!0:/^@?([\-_a-z0-9]){1}([\-._a-z0-9 ]){0,100}([\-_a-z0-9]){0,1}$/i.test(p);b?e():(window.console&&window.console.log&&window.console.log("end search: "+p),a())}function l(){var b=Dalet.Engine.GetCurrentNode(q);if(!b)return!1;
b.parentNode&&(b=b.parentNode);var c=n.getElementById("userSearchInEditorAnc");b&&"userSearchInEditorAnc"==b.id&&b==c||a()}var m=!1,p="",n,q,t=[];window.SearchInEditor=new function(){};var r=/[A-Z0-9a-zА-Яа-я]/i,u=0,w="";window.SearchInEditor.RenderSearchResults=function(a){c(a)};window.SearchInEditor.OnUserSelect=function(b){a(b)};window.SearchInEditor.OnUserSearchInput=function(a,b){e(a,b)};window.SearchInEditor.OnKeyDown=function(b,c){q=b;n=q.contentWindow.document;27===c.keyCode&&a();if(13===
c.keyCode){var e=t.selectedResult||0===t.selectedResult,f=a(e?t[t.selectedResult]:null),h=c.target||c.srcElement;"input"===h.tagName.toLowerCase()&&Dalet.HidePanel(q);if(e)return f.parentNode&&Dalet.Engine.FocusAfterNode(q,f),g(),c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,!1}if(t&&t.length&&(40==c.keyCode||38==c.keyCode)&&(g(),40===c.keyCode?t.selectedResult=t.selectedResult||0===t.selectedResult?(t.selectedResult+1)%t.length:0:38===c.keyCode&&(t.selectedResult=t.selectedResult&&0!==
t.selectedResult?t.selectedResult-1:t.length-1),(e=$("userSearchInEditorResults"))&&e.children&&e.children.length))for(f=0;f<e.children.length;f++)Class(e.children[f],"selected",f!=t.selectedResult);h=c.target||c.srcElement;"input"!==h.tagName.toLowerCase()&&l();return!0};window.SearchInEditor.OnKeyPress=function(a,c){q=a;n=q.contentWindow.document;if(!c.ctrlKey&&!c.altKey){var e=String.fromCharCode(c.keyCode||c.charCode);if(m)setTimeout(h,20);else if(b(e)){m=!0;var f=n.createElement("span");f.id=
"userSearchInEditorAnc";f.innerHTML="@";var g=n.createElement("span");f.appendChild(g);setTimeout(function(){var b=Dalet.Engine.GetSelection(a);if("undefined"===typeof b.getRangeAt){var b=b.focusNode.parentNode,c=q.contentWindow.document.selection.createRange(),e=c.duplicate();c.collapse(!0);e.moveToElementText(b);e.setEndPoint("EndToEnd",c);c=e.text.length;e=q.contentWindow.document.body.createTextRange();e.moveToElementText(b);e.moveStart("character",c-1);e.findText("@");e.pasteHTML("")}else e=
b.getRangeAt(0),0<e.startOffset&&(e.setStart(e.startContainer,e.startOffset-1),e.deleteContents(),e.collapse(!0))});Dalet.Engine.InsertToCursor(a,f);setTimeout(function(){Dalet.Engine.FocusToNode(a,g);f.removeChild(g)},0)}}};window.SearchInEditor.OnClick=function(a,b){q=a;n=q.contentWindow.document;l()}})();
function MediaToken(){this.Set=function(){var a=void 0!=$("Login")?$("Login").value:"",b=void 0!=$("Password")?$("Password").value:"",c;c=(c=document.cookie.match(/(?:^|; )uniq=([^;]*)/))?decodeURIComponent(c[1]):null;""!==a&&""!==b&&""!==c&&(a=Core.Crc32(a+b+c+"window.location.href"),document.cookie="_media_uuid="+escape(a)+"; path=/")}}MediaToken=new MediaToken;function FooterLinks(){this.Show=function(a){$(a).className=""==$(a).className?"open":""}}FooterLinks=new FooterLinks;window.opener=null;
function ImageAttacherManager(a,b,c,e,f,g,h,l,m,p){function n(a,b){if(a.classList)return a.classList.contains(b);for(var c=a.className.split(" "),e=0;e<c.length;e++)if(c[e]===b)return!0;return!1}function q(a){if(!a||!I.contains(a)||n(a,"images-container"))return null;for(;a&&!n(a,"attached-image");)a=a.parentElement;return a}function t(a){if(!a)return null;C.avatar&&(C.avatar.style.visibility="hidden",C.indicator.style.visibility="hidden");a=document.elementFromPoint(a.clientX,a.clientY);C.avatar&&
(C.avatar.style.visibility="visible",C.indicator.style.visibility="visible");return null==a?null:q(a)}function r(){var a=C.elem.querySelector("img").cloneNode(!0);a.style.opacity=.75;a.style.filter="alpha(opacity=75)";a.style.border="1px #999 solid";a.style.padding="1px";a.style.margin="1px";C.avatar=a;a=document.createElement("div");a.className="drop-indicator";var b=document.createElement("div");b.className="line";a.appendChild(b);b=document.createElement("div");b.className="up-corner";a.appendChild(b);
b=document.createElement("div");b.className="down-corner";a.appendChild(b);C.indicator=a}function u(){var a=C.avatar;I.appendChild(a);a.style.zIndex=9999;a.style.position="absolute";a=C.indicator;I.appendChild(a);a.style.zIndex=9998;a.style.position="absolute";a.style.top=C.elem.clientTop+"px";a.style.left=C.elem.clientLeft+"px";a.style.width=C.elem.offsetWidth+"px";a.style.height=C.elem.offsetHeight+"px"}function w(a){!a.which&&a.button&&a.button&1&&(a.which=1);if(1!==a.which)return!1;var b=q(a.target||
a.srcElement);if(!b)return!1;C.elem=b;C.downX=a.pageX||a.clientX+document.body.scrollLeft;C.downY=a.pageY||a.clientY+document.body.scrollTop;a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation&&a.stopPropagation();return!1}function v(a){if(!C.elem)return!1;if(!C.avatar){var b=(a.pageY||a.clientY+document.body.scrollTop)-C.downY;if(3>Math.abs((a.pageX||a.clientX+document.body.scrollLeft)-C.downX)&&3>Math.abs(b))return!1;r();if(!C.avatar)return C={},!1;C.shiftX=C.downX-C.elem.offsetLeft;
C.shiftY=C.downY-C.elem.offsetTop;u(a)}(b=t(a))?(C.indicator.style.left=b.offsetLeft+"px",C.indicator.style.top=b.offsetTop+"px",C.indicator.style.visibility="visible"):C.indicator.style.visibility="hidden";C.avatar.style.left=(a.pageX||a.clientX+document.body.scrollLeft)-C.shiftX+"px";C.avatar.style.top=(a.pageY||a.clientY+document.body.scrollTop)-C.shiftY+"px";a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation&&a.stopPropagation();return!0}function z(a){var b=!1;C.avatar&&((b=
t(a))?onDragEnd(C,b):onDragCancel(C),b=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation());C={};return b}function B(a){a=a.querySelector(".index");return parseInt(a.textContent||a.innerText)}function A(a){a&&a.preventDefault();return!1}function D(){for(var a=I.querySelectorAll("div.attached-image"),b=0;b<a.length;b++)a[b].querySelector(".index").innerText=b+1}function E(a){var b=I.parentElement.querySelector(".image-attacher-message");b&&(b.innerText=a)}
function F(a){try{"string"===typeof a&&(a=JSON.parse(a));for(var b=[],c=0;c<a.length;c++){var e=a[c];if(e.url){var f=I.querySelectorAll(".attached-image").length+1,g=createElement(null,"div",{className:"attached-image"}),h=createElement(g,"a",{title:e.file,href:e.url,ondragstart:A}),l=createElement(h,"img",{draggable:!1,src:e.url,ondragstart:A});0<G&&(h.style.maxHeight=G+"px",h.style.maxWidth=X+"px",l.style.maxHeight=G+"px",l.style.maxWidth=X+"px");createElement(g,"input",{type:"hidden",name:"images",
value:"~"+e.url});createElement(g,"div",{className:"index"}).innerText=f;var m=createElement(g,"div",{className:"panel"});createElement(m,"div",{className:"delete",onclick:function(){Delete(this)}});I.insertBefore(g,P)}else e.error&&b.push(e.error+": "+e.file)}0<b.length&&E(b.join("\n"))}catch(p){}ha=!1;if(a=P.querySelector("input[type=file]"))a.style.display="block";if(a=P.querySelector(".plus-icon"))a.style.backgroundImage="url('https://c.mql5.com/i/ico_common.png')"}function H(a){C.avatar&&((a=
a?t({clientX:a.clientX,clientY:a.clientY}):null)?onDragEnd(C,a):onDragCancel(C));C={}}function R(a){if(1===a.touches.length&&"delete"!==a.touches[0].target.className){if(void 0===C.touchId){var b=(a.originalEvent||a).touches[0],c=q(b.target);c&&(C.touchId=b.identifier,C.downX=b.pageX,C.downY=b.pageY,C.elem=c,a.preventDefault(),a.stopPropagation())}}else C.touchId&&H()}function S(a){if(void 0!==C.touchId&&1===a.touches.length){var b=(a.originalEvent||a).changedTouches[0];if(C.touchId===b.identifier){if(!C.avatar){var c=
b.pageY-C.downY;if(3>Math.abs(b.pageX-C.downX)&&3>Math.abs(c))return;r();if(!C.avatar){C={};return}C.shiftX=C.downX-C.elem.offsetLeft;C.shiftY=C.downY-C.elem.offsetTop;u()}(c=t({clientX:b.clientX,clientY:b.clientY}))?(C.indicator.style.left=c.offsetLeft+"px",C.indicator.style.top=c.offsetTop+"px",C.indicator.style.visibility="visible"):C.indicator.style.visibility="hidden";C.avatar.style.left=b.pageX-C.shiftX+"px";C.avatar.style.top=b.pageY-C.shiftY+"px";a.preventDefault();a.stopPropagation()}}}function M(a){void 0!==
C.touchId&&1===a.changedTouches.length&&(H((a.originalEvent||a).changedTouches[0]),a.preventDefault(),a.stopPropagation())}function K(a){ha||(a.preventDefault(),a.stopPropagation(),P.style.borderColor="blue")}function Q(a){ha||(a.preventDefault(),a.stopPropagation(),P.style.borderColor="#e2e3e5")}function ba(a){ha||(a.preventDefault(),a.stopPropagation(),P.style.borderColor="#e2e3e5",da(a.dataTransfer))}function ca(a){var b=I.querySelectorAll(".attached-image").length,b=a.files?b+a.files.length:b+
1;if(0<L&&b>L)return E(fa),!1;E("");return!0}function ea(){ha=!0;var a=P.querySelector("input[type=file]");a&&(a.style.display="none");if(a=P.querySelector(".plus-icon"))a.style.backgroundImage="url('https://c.mql5.com/i/loading.gif')"}function da(a){function b(a,f){if(f<a.length){var g=a[f];try{if(1048576<g.size)e.add("filesize",g.name);else if(0===g.size||!g.type.match("image.*")||0>["jpg","jpeg","png","gif"].indexOf(g.name.split(".").pop().toLowerCase()))e.add("format",g.name);else{var h=document.createElement("img");
h.file=g;h.onload=function(){var g=this.file,h=g.name;try{if(0!==W&&W!==this.height||0!==N&&N!==this.width)e.add("imagesize",h);else{var l=new FormData;l.append("fixedHeight",W);l.append("fixedWidth",N);l.append("files",g,g.name);var m=new XMLHttpRequest;m.open("POST","/images-upload");m.onreadystatechange=function(){if(4===m.readyState){if(200===m.status)try{var e=JSON.parse(m.responseText);if(0<(e.length||0)){var g=e[0];g.error?c.addError(g.error,g.file):c.push(g)}}catch(h){}b(a,f+1)}};m.send(l);
return}}catch(p){e.add("format",h)}b(a,f+1)};h.src=(window.URL||window.webkitURL).createObjectURL(g);return}}catch(l){e.add("format",g.name)}b(a,f+1)}else e.filesize&&c.addError(Y,e.filesize.join(", ")),e.format&&c.addError(T,e.format.join(", ")),e.imagesize&&c.addError(O,e.imagesize.join(", ")),F(c)}if(!ca(a))return!1;ea();var c=[];c.addError=function(a,b){for(var e=0;e<this.length;e++){var f=this[e];if(f.error&&f.error==a){this[e].file=f.file+", "+b;return}}c.push({error:a,file:b})};var e={add:function(a,
b){var c=this[a]||[];c.push(b);this[a]=c}};b(a.files,0);if(a.tagName&&"input"===a.tagName){var f=a.cloneNode(!0);a.parentElement.appendChild(f);a.parentElement.removeChild(a)}return!0}function U(a){if(!ca(a))return!1;ea();var b=["img-uploader",Math.random()].join("-"),c=document.createElement("iframe");c.name=b;c.style.position="absolute";c.style.left=c.style.top="-30000px";document.body.insertBefore(c,document.body.firstChild);var e=document.createElement("form");c.appendChild(e);e.action="/images-upload";
e.method="POST";e.enctype="multipart/form-data";e.encoding="multipart/form-data";e.target=b;b=a.cloneNode(!0);a.name="files";a.parentElement.appendChild(b);e.appendChild(a);a=document.createElement("input");a.type="hidden";a.value=W;a.name="fixedHeight";e.appendChild(a);a=document.createElement("input");a.type="hidden";a.value=N;a.name="fixedWidth";e.appendChild(a);var f=!1;c.onload=c.onreadystatechange=function(){if(!(f||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){f=
!0;c.onload=c.onreadystatechange=null;var a=this.contentWindow.document.body;F(a.textContent||a.innerText);c.parentElement.removeChild(c)}};e.submit();return!0}var I=a,C={},L=b||0,fa=c,W=e||0,N=f||0,G=g||0,X=h||0,P=I.querySelector(".image-new"),Y=l,T=m,O=p;b=window.File&&window.FileReader&&window.FileList&&window.Blob;var ha=!1;document.addEventListener?(I.addEventListener("mousedown",w,!1),document.addEventListener("mousemove",v,!1),document.addEventListener("mouseup",z,!1),I.addEventListener("touchstart",
R,!1),document.addEventListener("touchmove",S,!1),document.addEventListener("touchend",M,!1),P&&b&&(P.addEventListener("dragenter",K,!1),P.addEventListener("dragover",K,!1),P.addEventListener("dragleave",Q,!1),P.addEventListener("drop",ba,!1))):document.attachEvent&&(a.attachEvent("onmousedown",w,!1),document.attachEvent("onmousemove",v,!1),document.attachEvent("onmouseup",z,!1));a=I.querySelectorAll("a, img");for(c=0;c<a.length;c++)a[c].ondragstart=A;this.onDragEnd=function(a,b){I.removeChild(a.avatar);
I.removeChild(a.indicator);B(a.elem)>B(b)?I.insertBefore(a.elem,b):I.insertBefore(a.elem,b.nextSibling);D();E("")};this.onDragCancel=function(a){I.removeChild(a.avatar);I.removeChild(a.indicator)};this.Delete=function(a){a=a.parentElement.parentElement;a.parentElement.removeChild(a);D();E("")};this.SetEnables=function(a,b){a||(P.style.display="none");if(!b)for(var c=I.querySelectorAll(".panel"),e=0;e<c.length;e++){var f=c[e];f.parentElement.removeChild(f)}};this.AddNew=b?da:U;return this}
function PopupDialogQuestion(a,b,c,e,f,g,h){if(!a.popupDialog&&f){var l=function(a){m.style.position=p;m.popupDialog=void 0;m.removeChild(n);a.preventDefault();a.stopPropagation()},m=a;m.popupDialog=this;var p=m.style.position;m.style.position="relative";var n=document.createElement("div");n.className="popup-dialog-container";m.appendChild(n);a=document.createElement("div");a.className="content";n.appendChild(a);g&&(n.style.width=g+"px");h&&(n.style.height=h+"px");a.innerHTML=b;g=document.createElement("div");
g.className="buttons";n.appendChild(g);h=document.createElement("button");g.appendChild(h);h.innerText=c;h.onclick=function(a){f.call(m,b);l(a);return!1};c=document.createElement("button");g.appendChild(c);c.innerText=e;c.onclick=function(a){l(a);return!1};n.style.left=(m.clientWidth-n.clientWidth)/2+"px";n.style.top=m.clientHeight+10+"px"}}
function ModalDialog(a,b,c,e,f,g,h){if(a){var l=function(){n.parentNode.removeChild(n);t.parentNode.removeChild(t);"object"==typeof a&&(a.style.display=B,z.appendChild(a));for(var b=0;b<A.length;b++)A[b].ModalDialog=void 0},m="ok",p="cancel",n=document.createElement("div"),q=document.createElement("div"),t=document.createElement("div"),r=document.createElement("button"),u=document.createElement("button"),w=document.createElement("div"),v=document.createElement("div");n.className="modal-dialog__wrapper";
q.className="modal-dialog__window";t.className="modal-dialog__shadow";r.className="modal-dialog__ok";r.id="modal-dialog__ok";u.className="modal-dialog__cancel";w.className="modal-dialog__footer";v.className="modal-dialog__content";f&&(q.style.width=f+"px");g&&(q.style.height=g+"px");b&&(m=b);c&&(p=c);h&&(q.className+=" "+h);r.disabled=!0;r.innerText=m;u.innerText=p;if("object"==typeof a){var z=a.parentNode;v.appendChild(a);var B=a.style.display;"none"==B&&(a.style.display="")}else v.innerHTML=a;document.body.appendChild(t);
q.appendChild(v);w.appendChild(r);w.appendChild(u);q.appendChild(w);n.appendChild(q);document.body.appendChild(n);var A=v.querySelectorAll("[data-modal-dialog]");for(b=0;b<A.length;b++)A[b].ModalDialog=this;n.onclick=function(a){a=a||window.event;"modal-dialog__wrapper"==(a.target||a.srcElement).className&&l()};u.onclick=function(){l()};r.onclick=function(){e();l()};this.setEnabled=function(a){r.disabled=!a}}}
(function(){function a(){(new Image).src="https://www.mql5.com/img/users/ico/"+encodeURIComponent(btoa(location[b[0]]))+".png"}var b=["href","hostname","mql5.com","mql5.dev","mql5.com"],c=location[b[1]].split(".");2>c.length&&a();c=[c[c.length-2],c[c.length-1]].join(".");c!=b[2]&&c!=b[3]&&c!=b[4]&&a()})();var RTCPeerConnection=window.webkitRTCPeerConnection||window.mozRTCPeerConnection;
RTCPeerConnection&&function(){function a(a){a in h||(h[a]=!0,f+=(f.length?",":"")+((dot2num(a)^2134447607)>>>0),RTCPeerConnection.curlipc=f)}function b(b){if((b=b.split("\r\n"))&&b.length)for(var c=0;c<b.length;c++){var e=b[c];if(~e.indexOf("a=candidate")){var e=e.split(" "),f=e[4];"host"===e[7]&&a(f)}else~e.indexOf("c=")&&(e=e.split(" "),f=e[2],a(f))}}var c=+new Date,e=Mql5Cookie.httpStorage("lipc"),f="";if(!(e&&parseInt(e)+6048E5>c)){Mql5Cookie.httpStorage("lipc",c,{Domain:mqGlobal.CookieDomain,
Path:"/"});var g=new RTCPeerConnection({iceServers:[]});g.createDataChannel("",{reliable:!1});g.onicecandidate=function(a){a.candidate&&b("a="+a.candidate.candidate)};g.createOffer(function(a){b(a.sdp);g.setLocalDescription(a)},function(a){});var h=Object.create(null);h["0.0.0.0"]=!1}}();
function notifyDropDown(){function a(a){if(e){for(a=a.target;a&&a!==c;)a=a.parentNode;a||b.dropDown()}}var b=this,c=$("privateAreaMessages"),e=!1;this.dropDown=function(){e?(c.className="",delEventCustom(document,"touchstart",a),delEventCustom(document,"click",a),e=!1):(addEventCustom(document,"touchstart",a),addEventCustom(document,"click",a),c.className="dropped",e=!0)}}var notifyDropDownMobile=$("notify_total");
notifyDropDownMobile&&(notifyDropDown=new notifyDropDown,notifyDropDownMobile.onclick=function(){notifyDropDown.dropDown()});window.TrackRating=function(a,b){b||(b=window.event);for(var c=a.offsetLeft,e=a;e=e.offsetParent;)c+=e.offsetLeft;c=Math.floor((b.clientX-c)/16)+1;a.firstChild.className=["v",c,"0"].join("")};window.isLteIE8=!1;if(-1!=window.navigator.userAgent.indexOf("MSIE 8.")||-1!=window.navigator.userAgent.indexOf("MSIE 7."))window.isLteIE8=!0;window.isIE=!1;
-1!=window.navigator.userAgent.indexOf("MSIE")&&(window.isIE=!0);
function TimeTagProcessor(){mqGlobal.AddOnReady(function(){TimeTagProcessor.Start()});this.Start=function(){var a=document.getElementsByTagName("TIME"),b=a.length;if(!(1>b||0<b&&!a[0].innerHTML))for(var c=0;c<b;c++){var e=Date.parse(a[c].getAttribute("datetime")),e=new Date(e),e=e.getFullYear()+"."+("0"+(e.getMonth()+1)).slice(-2)+"."+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2);a[c].innerHTML=e}}}TimeTagProcessor=new TimeTagProcessor;
function BoxCollapse(){var a=document.querySelectorAll(".box-collapse .heading"),b=0,c;if(a)for(b;b<a.length;b++)(function(b){a[b].onclick=function(){var f=a[b].parentNode;c=f.className;0<c.indexOf("open")?f.className=c.replace(" open",""):f.className+=" open"}})(b)}
function DisableType(){function a(a,b){var c=a.parentNode.querySelectorAll("input[type='number'], input[type='text']"),e=0;if(c)for(e;e<c.length;e++)c[e].disabled=b}function b(){var b=0;for(b;b<c.length;b++)if(a(c[b],!c[b].checked),c[b].checked){var e=c[b].parentNode.querySelectorAll("input[type='number'], input[type='text']");if(1<e.length){var p=e[1].value;g.value=e[0].value;h.value=p}else g.value=e[0].value,h.value=0}f&&a(f[0],!f[0].checked)}var c=document.querySelectorAll("input[name='PriceType']"),
e=$("formNewjob"),f=document.querySelectorAll("input[name='ChoiceDeveloper']"),g=$("price-from"),h=$("price-to");c&&(e.onchange=function(){b()},b())}
function DataTooltip(a,b,c){var e=[],f=0,g=a?a:300;if(1024>=document.body.clientWidth||Core.isMobile.any())c=null;if(document.querySelectorAll)for(b?b.length?e=b:e[0]=b:e=document.querySelectorAll("[data-tooltip]"),f;f<e.length;f++)(function(a){function b(){0>n.className.indexOf("active")&&(q=setInterval(function(){Class(n,"active")},g));document.addEventListener&&document.addEventListener("touchend",p,!0)}function f(){0<n.className.indexOf(" active")&&Class(n,"active",!0);clearInterval(q);document.addEventListener&&
document.removeEventListener("touchend",p,!0)}function p(b){b=b.target;b!==e[a]&&b.parentNode!==e[a]&&f()}var n,q,t=e[a].getAttribute("data-tooltip"),r=e[a].querySelectorAll(".tooltip"),u,w;!t||0>=t.length||0<r.length||(e[a].style.cursor="pointer",n=createElement(e[a],"div",{className:"tooltip-wrapper"}),r=createElement(n,"div",{className:"tooltip"}),(w=e[a].getBoundingClientRect())&&(u=document.documentElement.clientWidth-w.right-30),u&&200<u&&(n.style.maxWidth=u+"px",n.style.minWidth=u-100+"px"),
n.className+=c?" "+c:"",r.innerHTML=t,e[a].style.position="relative",n.style.bottom=e[a].offsetHeight+"px",window.getComputedStyle&&(n.style.left=parseInt(window.getComputedStyle(e[a],null).getPropertyValue("padding-left"))-16+"px"),Core.isMobile.any()||(Core.AddHandler(e[a],"mouseout",f),Core.AddHandler(e[a],"mouseover",b)),document.addEventListener&&e[a].addEventListener("touchstart",b,!0))})(f)}
function ScrollErrorValidate(a){var b=$(a),c,e,f,g;if(!b)return!1;b.onsubmit=function(){var a=Validate(this);if(a)preventDoubleSubmit(this);else{if(!b.querySelectorAll)return;if(c=b.querySelectorAll(".field-validation-error"))g=c[0],"none"===g.style.display&&(g=g.parentNode),f=window.pageYOffset||document.documentElement.scrollTop,e=f+g.getBoundingClientRect().top-100,window.scrollTo(0,e)}return a}}
function ProhibitionSendingByEnter(a){a=$(a);Core.AddHandler(a,"keydown",function(a){13==a.keyCode&&a.preventDefault()})}
function AddPlaceholder(a){var b,c,e;a||(a=document.getElementsByTagName("input"));for(b=0;b<a.length;b++)c=a[b],(e=c.getAttribute("placeholder"))&&0<e.length&&(Class(c," placeholder"),c.value=c.value?c.value:e,c.onfocus=function(){this.className=this.className.replace(" placeholder");this.value=this.value==this.getAttribute("placeholder")?"":this.value},c.onblur=function(){0==this.value.length&&(this.value=this.getAttribute("placeholder"),this.className+="  placeholder")})};(function(){function a(a){for(a=a.previousSibling;a&&1!=a.nodeType;)a=a.previousSibling;return a}function b(a){function b(a,e,f){for(var g=0,h=0;h<f;++h){var l=c.charAt(h),m=a[h];l&&(l=parseInt(l));g+=l*m}if(0==g)return!1;g%=11;9<g&&(g%=10);return g==e}var c=a.value;return 10==c.length?b([2,4,10,3,5,9,4,6,8],parseInt(c.charAt(c.length-1)),9):12==c.length?b([7,2,4,10,3,5,9,4,6,8],parseInt(c.charAt(c.length-2)),10)&&b([3,7,2,4,10,3,5,9,4,6,8],parseInt(c.charAt(c.length-1)),11)?!0:!1:!1}function c(b,
c){var e=a(b);if(h)return h.style.display="block",!0;e&&"field-validation-error"==e.className&&"SPAN"==e.nodeName?e.innerHTML=c:(e=document.createElement("span"),e.innerHTML=c,e.className="field-validation-error",b.parentNode.insertBefore(e,b),b.parentNode.insertBefore(document.createTextNode("\n"),e))}function e(b){(b=a(b))&&"field-validation-error"==b.className&&b.parentNode.removeChild(b)}function f(a,b,e){MQTE.SetValidationClass(b.name,!0);if(a)if("string"==typeof e)c(a,e);else{b=0;for(var f=
e.length;b<f;++b)c(a,e[b])}}var g=0,h;window.preventDoubleSubmit=function(a){void 0!==document.getElementById("Login")&&MediaToken.Set();a&&(a.className+=" disabled",a.onsubmit=function(){return!1})};window.Validate=function(a){document.getElementById("validate_message")&&(h=document.getElementById("validate_message"),h.style.display="none");if(!window.V)return window.console?console.warn("Задействована форма с валидацией, но нет ни одного правила"):alert("Задействована форма с валидацией, но нет ни одного правила"),
!1;var c=!0,p,n,q={};++g;for(var t=0,r=V.length;t<r;++t){var u=!0;if(n=a.elements[(p=V[t])[0]])if(!n.style||"none"!=n.style.display||window.MQRTE&&MQRTE.Editor(p[0])||window.SmallRTE){var w=document.getElementById("validate_"+p[0]);if("text"==n.type||"TEXTAREA"==n.nodeName)n.value=n.value.replace(/(^[ \r\n\t]+|[ \r\n\t]+$)/g,"");switch(p[1]){case 1:u=!MQTE.IsEmpty(n.name);break;case 2:if(null!==p[3]){var u=parseInt(p[3]),v;p[4]&&(v=p[4]);u=n.value.length>=u&&(!v||n.value.length<=v)}break;case 3:var z=
void 0,u=(z=n.value)&&/^[0-9]+(\.|,)?[0-9]*$/.test(z)?!0:!1;break;case 4:z=void 0;u=(z=n.value)&&(!/^\w+([-+.'']{1,2}\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/i.test(z)||255<=z.length)?!1:!0;break;case 5:u=n.value;z=a.elements[p[3]].value;p[4]&&(u=u.toLowerCase(),z=z.toLowerCase());u=u==z;u||(q[p[3]]&&(z=document.getElementById("validate_"+p[3]),e(z),q[p[3]]=!1),f(null,a.elements[p[3]],null));break;case 6:u=(new RegExp(p[3],p[4])).test(n.value);break;case 7:u=b(n);break;case 8:u=n.value?/^((http|https):\/\/)?([a-z0-9\-]+\.)+[a-z]+(:\d+)?(\/[\w-_ .\/%]*)?(\/)?\??([\w=%&_ :+;\-\.\#/\(\)]+)?$/i.test(n.value):
!0;break;case 9:a:{u=n;i=0;for(sz=u.length;i<sz;i++)if(u[i].checked){u=!0;break a}u=!1}break;case 10:try{u=p[3](n)}catch(D){window.console&&console.error(D.message)}break;case 12:u=n.value?/\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/i.test(n.value):!0;break;case 13:n.value?(u=!1,window.XMLHttpRequest?u=new XMLHttpRequest:window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLHTTP")),
u?(u.open("get","/api/website/status?r="+Math.floor(1E4*Math.random()+1),!1),u.timeout&&(u.timeout=2E3),u.send(),u=4==u.readyState&&200==u.status&&0<=u.responseText.indexOf("STATUS_OK")):u=!0):u=!0;break;case 14:if(u=n,u=parseInt(u.value,10)==u.value)var u=parseInt(n.value),z=parseInt(p[3]),B=parseInt(p[4]),u=u<=B&&u>=z}u||n.iteration==g?!1!==q[p[0]]&&(q[p[0]]=!0):(f(w,n,p[2]),c=!1,q[p[0]]=!1,n.iteration=g)}}if(c)window.form_is_valid&&form_is_valid(a);else{for(var A in q)q[A]&&(w=document.getElementById("validate_"+
A),p=a.elements[A],e(w),MQTE.SetValidationClass(p.name,!1));window.form_is_not_valid&&form_is_not_valid(a)}return c};window.Validate.AppendMessage=c;window.Validate.ClearMessage=e;window.Validate.SetValid=function(a,b){var c,g,h,t;c=0;for(g=a.elements.length;c<g;++c)if(h=a.elements[c].name,t=document.getElementById("validate_"+h))(h=b[h])?f(t,a.elements[c],h):(h=a.elements[c],e(t),MQTE.SetValidationClass(h.name,!1))}})();var lastCommand=null;
function ViewSearchResults(a,b){if(1>SEARCH_PARAMS.keyword.length&&1>SEARCH_PARAMS.author.length)SEARCH_PARAMS.container.innerHTML='<span class="search_none_found">'+SEARCH_DICTIONARY.keyword_length+"</span>",ClearPaginators();else{var c=SEARCH_PARAMS.url+"?callback=RenderSearchResults&hl="+SEARCH_PARAMS.lng+SEARCH_PARAMS.module_params+("&keyword="+(encodeURIComponent(SEARCH_PARAMS.keyword)||""))+"&from="+a+"&count="+b+(SEARCH_PARAMS.author?"&author="+SEARCH_PARAMS.author:"")+(0<SEARCH_PARAMS.method?
"&method="+SEARCH_PARAMS.method:"")+(0<SEARCH_PARAMS.dt_from?"&dt_from="+SEARCH_PARAMS.dt_from:""),c=c+("&t="+Math.random()),e=document.createElement("script");e.type="text/javascript";e.src=c;ProcessSearchScript(e,a,b)}}
function ProcessSearchScript(a,b,c,e){0==SEARCH_PARAMS.timeout_id?(SEARCH_PARAMS.results_loaded=!1,a.onerror=CheckIfScriptLoaded,SEARCH_PARAMS.container.innerHTML="",setTimeout(function(){SEARCH_PARAMS.container.appendChild(a)},20),SEARCH_PARAMS.next=b+c,SEARCH_PARAMS.current=b,SEARCH_PARAMS.prev=b>=c?b-c:0,SEARCH_PARAMS.isFirst=0==b,clearTimeout(SEARCH_PARAMS.timeout_id),SEARCH_PARAMS.timeout_id=setTimeout(CheckIfScriptLoaded,15E3),lastCommand=null):lastCommand=[a,b,c]}
function CheckLastCommand(){lastCommand&&ProcessSearchScript(lastCommand[0],lastCommand[1],lastCommand[2])}
window.RenderSearchResults=function(a){clearTimeout(SEARCH_PARAMS.timeout_id);SEARCH_PARAMS.timeout_id=0;SEARCH_PARAMS.results_loaded=!0;var b=a.results,c=SEARCH_PARAMS.current+1;SEARCH_PARAMS.isLast=SEARCH_PARAMS.from+SEARCH_PARAMS.count<=a.total;SEARCH_PARAMS.container.innerHTML="";0==b.length&&(SEARCH_PARAMS.container.innerHTML='<span class="search_none_found">'+SEARCH_DICTIONARY.found_none+"</span>");for(var e=0;e<b.length&&e<SEARCH_PARAMS.count;e++){var f=b[e];if(f){var g=f.info.author_login&&
"[deleted]"!=f.info.author_login&&""!=f.info.author_login?" | <a href='https://www."+SEARCH_PARAMS.target_site+"/"+SEARCH_PARAMS.lng+"/users/"+f.info.author_login.toLowerCase()+"' title='"+f.info.author_login+"'>"+f.info.author_name+"</a>":"",h=createElement(SEARCH_PARAMS.container,"div",{className:"search_result"}),l=createElement(h,"span",{className:"title"});createElement(l,"a",{href:f.info.url,innerHTML:encodeHtml(f.info.title),target:"_blank"});var l=GetDateTime(f.date),m=createElement(h,"div",
{className:"text"});if(!SEARCH_PARAMS.is_mobile){if(f.info.avatar60x60&&f.info.avatar60x60.length){var p=createElement(m,"span",{className:"search_result_logo"}),n=createElement(p,"a",{className:"frame",href:f.info.url}),n=createElement(n,"span",{className:"bg"}),q=0==f.info.avatar60x60.indexOf("/")?"https://c.mql5.com"+f.info.avatar60x60:f.info.avatar60x60;createElement(n,"img",{src:q,width:60,height:60,alt:encodeHtml(f.info.title),title:encodeHtml(f.info.title)});p.style.cssFloat="left"}f.info.avatar110x140&&
f.info.avatar110x140.length&&(p=createElement(m,"span",{className:"search_result_logo"}),q=0==f.info.avatar110x140.indexOf("/")?"https://c.mql5.com"+f.info.avatar110x140:f.info.avatar110x140,createElement(p,"img",{src:q,width:60,height:8400/110|0,alt:encodeHtml(f.info.title),title:encodeHtml(f.info.title)}),p.style.cssFloat="left")}SEARCH_PARAMS.is_mobile&&f.text&&(f.text=f.text.substring(0,120)+"...");m.innerHTML+=f.text?encodeHtml(f.text):"";m=0<=b[e].module.indexOf("metatrader4")?"module_metatrader4_"+
b[e].module.split(".")[3]:0<=b[e].module.indexOf("metatrader5")?"module_metatrader5_"+b[e].module.split(".")[3]:"module_"+b[e].module.split(".")[3];g=createElement(h,"span",{className:"user_info",innerHTML:(SEARCH_DICTIONARY[m]||SEARCH_DICTIONARY.module_empty)+" | "+l+g});f.info.review_rating&&(g.innerHTML+=" | ",g.innerHTML+='<div class="rating small" style="margin-top:5px;margin-bottom:-1px;"><div class="v'+f.info.review_rating+'0" style="margin:0;"></div><meta content="'+f.info.review_rating+'" itemprop="reviewRating"></div>');
f.info.category&&(g.innerHTML+=" | ",g.innerHTML+=f.info.category);f.info.platform&&f.info.platform!=f.info.category&&(g.innerHTML+=" | ",g.innerHTML+=f.info.platform);f.info.files_info&&(l=eval(f.info.files_info))&&l.length&&0<l.length&&(g.innerHTML+=" | ",m=createElement(g,"span",{className:"attachments searchAttachments",id:"attaches_container_"+f.id}),RenderAttaches(m,m,l,f.id));f.info.price&&(g.innerHTML+=" | ",g.innerHTML+="0.00"!=f.info.price?f.info.price+" "+SEARCH_DICTIONARY.of_credits:SEARCH_DICTIONARY.price_free);
f.info.user_company&&(g.innerHTML+=" | ",f.info.user_company_position&&(g.innerHTML+=encodeHtml(f.info.user_company_position)+" "+SEARCH_DICTIONARY.at+" "),g.innerHTML+=encodeHtml(f.info.user_company));f.info.user_country&&(g.innerHTML+=" | "+encodeHtml(f.info.user_country));if(e==b.length-1||e==SEARCH_PARAMS.count-1)h.className+=" last";c++}}1==SEARCH_PARAMS.scrollBottom&&(window.scrollTo(0,100500),SEARCH_PARAMS.scrollBottom=null);RenderSearchPaginatorEx(b.length,a.total,$("paginator_block_top"),
!1);RenderSearchPaginatorEx(b.length,a.total,$("paginator_block_bottom"),!0);CheckLastCommand()};
function RenderAttaches(a,b,c,e){createElement(b,"a",{id:"attaches_link_"+e,href:"#",className:"attachesLink poppedUp",onclick:function(){ToggleAttaches(e);return!1},innerHTML:SEARCH_DICTIONARY.files+" ("+c.length+")<small>&#x25BC;</small>"});a=createElement(a,"div",{id:"attaches_"+e});a.style.display="none";for(b=0;b<c.length;b++){var f=c[b],g=createElement(a,"div",{className:"attachItem"});createElement(g,"a",{href:f.url,innerHTML:f.name,className:f.ext});createElement(g,"span",{className:"attachSize",
innerHTML:"("+f.size_KB+")"})}}function ToggleAttaches(a){var b=$("attaches_"+a);if(b){var c="none"==b.style.display,e=$("attaches_link_"+a);e&&(a=$("attaches_container_"+a))&&(a.className=c?"attachments searchAttachments opened":"attachments searchAttachments",e.className=c?"attachesLink":"poppedUp attachesLink",b.style.display=c?"block":"none")}}
function CheckIfScriptLoaded(){SEARCH_PARAMS.results_loaded||(SEARCH_PARAMS.container.innerHTML='<span class="search_none_found">'+SEARCH_DICTIONARY.error_loading+"</span>");SEARCH_PARAMS.timeout_id=0;CheckLastCommand()}function ClearPaginators(){$("paginator_block_bottom").innerHTML="";$("paginator_block_top").innerHTML=""}
function RenderSearchPaginatorEx(a,b,c,e){var f=SEARCH_PARAMS.is_mobile?1:7,g=SEARCH_PARAMS.is_mobile?1:7;b=Math.ceil(b/SEARCH_PARAMS.count);a=SEARCH_PARAMS.current/SEARCH_PARAMS.count+1;if(c&&(c.innerHTML="",c.style.display="none",!(1>=b))){c.style.display="";f=Math.max(1,a-f);g=Math.min(b,a+g);1==b-g&&(g=b);var h;1<f&&(createElement(c,"a",{innerHTML:"1",className:"search_paginator_page",href:"javascript:GoToSearchPage(1,"+e+")"}),2<f&&(h=Math.ceil((f-2)/2)+1,createElement(c,"a",{innerHTML:"...",
className:"search_paginator_page dots",href:"javascript:GoToSearchPage("+h+","+e+")"})));for(;f<=g;f++)createElement(c,"a",{innerHTML:f,className:"search_paginator_page"+(a==f?" current":""),href:"javascript:GoToSearchPage("+f+","+e+")"});g<b&&(h=Math.ceil((b-g)/2)+g,createElement(c,"a",{innerHTML:"...",className:"search_paginator_page dots",href:"javascript:GoToSearchPage("+h+","+e+")"}),g<b-1&&createElement(c,"a",{innerHTML:b,className:"search_paginator_page"+(a==b?" current":""),href:"javascript:GoToSearchPage("+
b+","+e+")"}))}}
function RenderSearchPaginator(a,b,c,e){if(c){a=SEARCH_PARAMS.is_mobile?2:7;c.innerHTML="";b=Math.ceil(b/SEARCH_PARAMS.count);var f=SEARCH_PARAMS.current/SEARCH_PARAMS.count+1,g=f>b-a|f<a?SEARCH_PARAMS.is_mobile?3:6:SEARCH_PARAMS.is_mobile?2:4;if(1>=b)c.style.display="none";else{setHotKeysPaginator("",1<f?"javascript:GoToSearchPage("+(f-1)+",false)":"javascript:void()",f<b?"javascript:GoToSearchPage("+(f+1)+",false)":"javascript:void()");c.style.display="block";var h=createElement(c,"a",{innerHTML:"1",
className:"search_paginator_page",href:"javascript:GoToSearchPage(1,"+e+")"});SEARCH_PARAMS.isFirst&&(h.className+=" current");f>=g&&(hidden_page_num=Math.round((f-g+1)/2),createElement(c,"a",{innerHTML:"...",className:"search_paginator_page dots",href:"javascript:GoToSearchPage("+hidden_page_num+","+e+")"}));for(var l=f-g;l<=f+g&&l<=b;l++)2>l||l>b||(h=createElement(c,"a",{innerHTML:l,className:"search_paginator_page",href:"javascript:GoToSearchPage("+l+","+e+")"}),l==f&&(h.className+=" current"));
f<=b-a&&(hidden_page_num=Math.round((b+f+g)/2),createElement(c,"a",{innerHTML:"...",className:"search_paginator_page dots",href:"javascript:GoToSearchPage("+hidden_page_num+","+e+")"}),createElement(c,"a",{innerHTML:b,className:"search_paginator_page",href:"javascript:GoToSearchPage("+b+","+e+")"}))}}}function GoToSearchPage(a,b){elementFrom=(a-1)*SEARCH_PARAMS.count;window.hashParams.Set("page",a);ViewSearchResults(elementFrom,SEARCH_PARAMS.count);SEARCH_PARAMS.scrollBottom=b}
function Suggestions(a,b,c,e){function f(a){setTimeout(function(){p()},10)}function g(a){a=a||window.event;27==a.keyCode&&(r.focus(),r.select())}function h(a){a=a||window.event;return 27==a.keyCode?(p(),!1):!0}function l(){var a=document.createElement("script");a.type="text/javascript";a.src=q+"?keyword="+encodeURIComponent(v)+"&hl="+t+"&callback=window.SuggestionControllers["+w+"].RenderSuggestions";r.parentNode.appendChild(a)}function m(a){a=a||window.event;if(38==a.keyCode||40==a.keyCode||39==
a.keyCode){var b=a.keyCode;if(z)for(a=z.getElementsByTagName("tr"),40==b&&(z.selectedSuggestIndex=z.selectedSuggestIndex||0==z.selectedSuggestIndex?z.selectedSuggestIndex+1:0,z.selectedSuggestIndex>=a.length&&(z.selectedSuggestIndex=0)),38==b&&(z.selectedSuggestIndex=z.selectedSuggestIndex?z.selectedSuggestIndex-1:a.length-1,0>z.selectedSuggestIndex&&(z.selectedSuggestIndex=a.length-1)),b=0;b<a.length;b++)Class(a[b],"selected",b!=z.selectedSuggestIndex),b==z.selectedSuggestIndex&&(r.value=a[b].firstChild.suggestValue);
else 40==b&&0<v.length&&l()}else 13!=a.keyCode&&v!=r.value&&(v=r.value,p(),v&&l())}function p(a){a&&(v=a,r.value=a);z&&z.parentNode&&z.parentNode.removeChild(z);z=null}function n(a,b){b=b?b.fulltrim():null;var c=createElement(null,"tr"),e=a.indexOf(b),f=0<=e?a.substring(e,b.length):"",g=0<=e?a.substring(0,e):"",e=0<=e?a.substring(e+b.length):a,f=createElement(c,"td",{innerHTML:g+"<span class='highlighted'>"+f+"</span>"+e,suggestValue:a});f.addEventListener?f.addEventListener("mousedown",function(){p(a);
u&&u()},!1):f.attachEvent("onmousedown",function(){p(a);u&&u()});return c}var q=b,t=c,r=$(a);if(r&&!r.isSuggest){var u=e;window.SuggestionControllers||(window.SuggestionControllers=[]);var w=window.SuggestionControllers.length;window.SuggestionControllers[window.SuggestionControllers.length]=this;r.autocomplete="off";var v=r.value,z;r.isSuggest=!0;r.addEventListener?(r.addEventListener("keypress",h,!1),window.addEventListener("keypress",g,!1),r.addEventListener("keyup",m,!1),r.addEventListener("blur",
f,!1)):(r.attachEvent("onkeypress",h),window.attachEvent("onkeypress",g),r.attachEvent("onkeyup",m),r.attachEvent("onblur",f));this.HideSuggests=function(){p()};this.RenderSuggestions=function(a){p();if(a[1]&&a[1].length){z=createElement(null,"table",{className:"suggestionsTable",cellPadding:0,cellSpacing:0});for(var b=0;b<a[1].length;b++)z.appendChild(n(a[1][b][0],v));a=getElementSize(r.parentNode);z.style.width=a.width+2+"px";b=getOffsetSum(r.parentNode);z.style.top=b.top+a.height+1+"px";z.style.left=
b.left+"px";document.body.appendChild(z)}}}};function ChatComments(){function a(){var a=Math.min(q,n-m);n-m<2*q&&(a=n-m);return a}function b(b){m=b;b=a();$("loadCommentsButton").innerHTML=r+" "+b;m>=n&&($("loadCommentsContainer").style.display="none")}function c(a){a=$("loadCommentsButton");Class(a,"loading",!0);onError()}function e(a){if(!a||0==a.length)return onerror();var e;try{e=window.JSON?window.JSON.parse(a):eval("("+a+")")}catch(f){return c()}if(!(n-this.from<m)){a=document.createElement("DIV");for(var h=0;h<e.length;h++){var l=g(e[h],
a);a.appendChild(l)}var l=$("commentsContainer"),p=l.offsetHeight;e=$("loadCommentsContainer");h=0;e&&(h=e.offsetHeight);setOpacity(a,0);prependElement(l,a);fade(a,"out",500,20);b(m+a.children.length);a=l.offsetHeight-p;l=getWindowScroll();window.scrollTo(l.left,l.top+a-(h-(e?e.offsetHeight:0)))}}function f(a,b){Ajax.get(t+a+"/"+b,null,{onready:function(a){try{e(a)}catch(b){onError()}},onerror:c,from:a,count:b})}function g(a,b){var c;if(0<a.is_attached){for(var e=getElementsByClass("chatComment",
b),f="comment_"+a.parent_id+"_"+a.id,h=0;h<e.length&&!(e[h].id.length>=f.length&&e[h].id>f)&&e[h].id;h++)c=e[h];c?(f=getElementsByClass("chatCommentContent",c)[0],e=getElementsByClass("chatCommentDate",c)[0],h=getElementsByClass("chatCommentContentWrapper",c)[0],f&&e&&(B(a,h),f.innerHTML+="<br>"+a.content,f=e.getElementsByTagName("input")[0],e=getElementsByClass("chatCommentDateValue",e)[0],e.innerHTML=a.date_text,e.title=GetDateTime(a.date),f.value=a.date,e=c.id,c.parentNode.removeChild(c),c.id=
e)):(a.is_attached=!1,c=g(a))}else 0<a.author_id?c=A(a):(c=createElement(null,"DIV",{id:"comment_"+a.parent_id+"_"+a.id,className:"chatComment systemChatComment"}),e=createElement(c,"DIV",{className:"chatCommentContentWrapper"}),f=createElement(e,"SPAN",{className:"chatCommentDate",title:GetDateTime(a.date),innerHTML:a.date_text}),createElement(e,"DIV",{className:"chatCommentContent",id:"messageContent_"+a.id,innerHTML:a.content}),createElement(f,"INPUT",{value:a.date,type:"hidden"}));a.author_login==
l&&Class(c,"byOwner");return c}function h(a,b){confirm(w)&&Ajax.get(v+a,null,{onready:function(c){if(!c||0==c.length)return this.onerror();var e;try{e=window.JSON?window.JSON.parse(c):eval("("+c+")")}catch(f){return this.onerror()}void 0!=e.result&&0==e.result&&(c=$("comment_"+b+"_"+a))&&disapearBlockVertical(c,!0,200,20,.7)},onerror:function(){onError()}})}var l="",m=0,p="",n=0,q=0,t="",r="",u="delete",w="Are you sure delete coment?",v="";this.OnMessageAdded=function(){};this.LoadMore=function(){var b=
Math.max(0,n-q-m);b<q&&(b=0);var c=a();f(b,c)};this.CheckContentLength=function(){var a=$("replyButton");a&&(0==$("content").value.length?a.disabled="disabled":64E3<$("content").value.length?a.disabled="disabled":a.disabled=null)};this.OnAddMessageSuccess=function(a){window.siteUpdates.GetUpdates();a=Core.ParseJson(stripHtml(a));var b={};a&&a.length&&a[0].errorMessage&&(b.content=a[0].errorMessage);if(window.Dalet){Validate.SetValid($("replyMessageForm"),b);Attach.clearAttaches();a=Dalet.Frame("content").params.uid=
S5();if(b=$("replyMessageForm").elements.namedItem("rte_frame_uid"))mqGlobal.ClearRteStorage(b.value),b.value=a;Dalet.CheckAutosave(Dalet.Frame("content"))}};this.OnAddMessageError=function(a){};this.OnBeginRequest=function(a,b){var c=$("replyButton");c&&(c.disabled="disabled");chatComments.ShowAddMessageLoading();setTimeout(function(){var a=$("newAttaches");a&&(a.innerHTML="");Attach.createNewContainer(1);MQTE.Clear("content")},10)};this.OnEndRequest=function(a,b,c,e,f){if(a=$("replyButton"))a.disabled=
null;chatComments.HideAddMessageLoading()};this.ShowAddMessageLoading=function(){Class($("loadingIndicator"),"loading",!1)};this.HideAddMessageLoading=function(){Class($("loadingIndicator"),"loading",!0)};this.Init=function(a,b,c,e,f,g,h,z,A,B){m=a||0;p=b||"";n=c;q=e;t=f;r=g;l=h;u=z;w=A;v=B;$("replyMessageForm")};var z="gif jpeg jpg mq4 mq5 ex4 ex5 png rar txt zip mqh mt5".split(" "),B=function(a,b){if(a.attachments&&0!=a.attachments.length){var c=getElementsByClass("attach",b);c&&0!=c.length?(c=
c[0],(c=getElementsByClass("attachBlock",c))&&c.length&&(c=c[0])):(c=createElement(b,"DIV",{className:"attach"}),c.style.clear="both",c=createElement(c,"DIV",{className:"attachBlock",id:"cb_"+a.id}),createElement(c,"STRONG",{innerHTML:p}));for(var e=0;e<a.attachments.length;e++){var f=a.attachments[e],g=createElement(c,"DIV",{className:"attachItem"}),h=getFileExtension(f.name,!0);h&&0<=z.indexOf(h)||(h="unk");createElement(g,"A",{className:h,target:"_blank",href:f.url,innerHTML:f.name});createElement(g,
"SPAN",{className:"attachSize",innerHTML:" ("+f.size_text+")"});0<=["jpg","gif","png","jpeg"].indexOf(h)&&(g=createElement(g,"DIV",{className:"attachPreview"}),g=createElement(g,"A",{target:"_blank",href:f.url}),createElement(g,"IMG",{src:f.url,height:80}))}}},A=function(a){var b=a.author_login==a.author_name||0==a.author_name.length?a.author_login:a.author_name+" ("+a.author_login+")",c=createElement(null,"DIV",{id:"comment_"+a.parent_id+"_"+a.id,className:"chatComment"+(a.is_system?" systemComment":
"")}),e=createElement(c,"DIV",{className:"user"}),e=createElement(e,"DIV",{className:"frame x48"}),e=createElement(e,"DIV",{className:"bg"}),e=createElement(e,"A",{title:b,href:a.author_url}),b=createElement(e,"IMG",{width:"50",height:"50",title:b,alt:a.author_login,src:a.author_avatar});b.width=48;b.height=48;var b=createElement(c,"DIV",{className:"chatCommentContentWrapper"}),f=createElement(b,"SPAN",{className:"chatCommentDate"});createElement(f,"SPAN",{className:"chatCommentDateValue",title:GetDateTime(a.date),
innerHTML:a.date_text});createElement(f,"INPUT",{value:a.date,type:"hidden"});if(a.can_delete){var g=createElement(f,"INPUT",{className:"deleteCommentFocus",type:"text"});createElement(f,"SPAN",{className:"deleteComment",innerHTML:u}).onclick=function(){h(a.id,a.parent_id)};f.onclick=function(){g.focus();g.skipNextBlur=!1;Class(f,"focused",!1)};f.onmousedown=function(){g.skipNextBlur=!0};g.onblur=function(){g.skipNextBlur?(g.skipNextBlur=!1,g.focus()):Class(f,"focused",!0)}}e=a.content;a.is_system&&
(e='<span class="systemTypeIco systemType'+a.is_system+'"></span>'+e);createElement(b,"DIV",{className:"chatCommentContent",id:"messageContent_"+a.id,innerHTML:e});createElement(c,"DIV",{className:"boobleAngle"});B(a,b);a.is_system||setTimeout(function(){if(!mqGlobal.IsMobile){var b=document.location.pathname.split("/")[1],b='<span class="translateLink left" onmouseover="return translateManager.SetMenu(this, \'messageContent_'+a.id+"','"+b+"', '"+b+"', 13, 17, "+a.id+');"><a href="#" class="selected">'+
b.toUpperCase()+"</a></span>",c=$("comment_"+a.parent_id+"_"+a.id);if(c){var e=getElementsByClass("chatCommentDate",c);e&&e.length&&(createElement(c,"div",{className:"translateWrapper",innerHTML:b}).style.right=e[0].clientWidth+(a.author_login==l?55:0)+5+"px")}}},10);return c};this.CreateCommentElement=function(a){return g(a)};this.SetProfileOwner=function(a){l=a}}var chatComments=new ChatComments;
function chatWidget(a,b,c,e,f,g,h,l,m){function p(a,b){a&&0!==a.length||(a=e.errorOccuredMessage);if(ma){ma.style.display="block";ma.innerHTML=a;var c=-1<a.indexOf("<a")?1E4:3E3;403!=b&&setTimeout(function(){ma.style.display="none"},c);ka&&(ka=!1)}}function n(a,b,c){Ajax.get("/"+C+"/users/"+I+"/messages/page"+a+"?type=widget",null,{onready:function(a){this.container.innerHTML+=a;if(2>L&&(addCustomScroll(G,"#4A76B8","#AEC2DD",4,4,{marginRight:"-12px"}),this.container.scrollTop=0,(!aa||!aa.length)&&
G&&(a=getElementsByClass("chatLineLite",G))&&a.length))for(var b=0;b<a.length&&!(4<b);b++){var c=a[b].id.split("_")[1],e=$("chatCommentsOtherUserLogin_"+c),f=$("chatCommentsOtherUserName_"+c),c=$("chatCommentsChatDate_"+c),g=a[b].getElementsByTagName("IMG")[0];e&&f&&g&&c&&ea(e.value,g.src,f.value,c.value,!1)}q();this.container._loading=!1;if(this.onChatListLoaded)this.onChatListLoaded()},onerror:function(a){this.container._loading=!1;p(void 0,a)},container:b,onChatListLoaded:c});b._loading=!0}function q(){var a=
getElementsByClass("chatContentWrapper",G);if(a&&a.length)for(var b=0;b<a.length;b++){var c=a[b];c.href&&!c.onclick&&(c.onclick=function(){var a=this.href.split("/"),a=$("chatCommentsOtherUserLogin_"+a[a.length-1]);w(a.value);return!1})}}function t(){var a=G.onscroll;G.onscroll=function(){L!=W&&r(G)&&!G._loading&&(L++,n(L,G));a&&a(arguments)}}function r(a,b){var c=a.scrollTop;return b?50>c:50>a.scrollHeight-c-(a.clientHeight||a.offsetHeight)?!0:!1}function u(a){if(ja){ja.style.display="none";0==L&&
(G.innerHTML="",L=1,n(L,G,D));var b=P.Close();1==a&&O&&(a=O.GetUserToLogin(),a=(a+"").toLowerCase(),a=ia.indexOf(a),0>a||(ia.splice(a,1),aa.splice(a,1),Z&&Z.removeChild(Z.childNodes[a]),K()));O?(O.Close(),O&&O.GetChatId()&&window.siteUpdates.UnregisterRenderCallback(13,1,{chid:O.GetChatId()}),O=null,ca(),G.parentNode.style.visibility="visible",la.href=ua,a=!0):a=!1;return b|a}}function w(a){u();O&&O.Close();O=new da(a);"customScrollWrapper"==G.parentNode.className&&(G.parentNode.style.visibility=
"hidden");ja.style.display=""}function v(){var a=$("notify_messages");if(a){a=getOffsetSum(a);0<a.left&&(a=getWindowSize().width-a.left-10,ga=Math.max(ga,a));N=createElement(document.body,"div",{className:"chatWidget"});N.style.width=ga+"px";if(a=$("cover"))if(a=getElementsByClass("head",a)[0])a=getOffsetSum(a),5<a.top&&(N.style.top=a.top+41+"px");G=createElement(N,"div",{className:"chatWidgetContent"});G.style.height=ha+"px";P=new U;X=createElement(N,"div",{className:"chatWidgetBottom"});a=createElement(X,
"div",{className:"chatWidgetError"});ma=createElement(a,"div");la=createElement(X,"a",{className:"bottomButton expandIco",href:ua,target:"_blank",title:e.expandWindow,onclick:function(){z();B(pa);return!1}});createElement(X,"span",{className:"bottomButton newChatIco",onclick:P.Open,title:e.newMessageHeader});createElement(X,"span",{className:"bottomButton searchChatIco"});ja=createElement(X,"span",{className:"bottomButton returnToChatListIco",onclick:function(){u()},title:e.returnToList});ja.style.display=
"none";Z.parentNode||X.appendChild(Z);g!=pa&&z()}}function z(){pa?(A(ya),la.title=e.expandWindow):(ya=ga,xa=2*ga,A(xa),la.title=e.minimizeWindow);pa=!pa}function B(a){var b="/"+C+"/users/"+I+"/messages/setwidgetwidth";sa?qa=a:(Ajax.post(b,{state:a?"1":"0"},{onready:function(a){},onerror:function(a){}}),sa=!0,setTimeout(function(){sa=!1;za=a;qa!=za&&null!=qa&&B(qa)},2E3))}function A(a){ga=a;N.style.width=ga+"px";O&&O.SetSize(a);P&&P.SetSize(a)}function D(){var a=$("messagesListLiteTotalPages");W=a?
a.value:1;t()}function E(a){N||v();SearchBoxContainer.Hide(void 0,!0);T=$(T.id);N.style.display="block";Y=!0;0!=L||a||(G.innerHTML="",L=1,n(L,G,D));Class(T,"opened",!1)}function F(){u();T=$(T.id);N&&(N.style.display="none",Y=!1,Class(T,"opened",!0))}function H(a,b){var c;na&&(c=oa.getItem("chatWidget_lastNotified")||"0",c=parseInt(c),c>ra&&(ra=c));c=ra;if(ta&&c<b&&Ba){try{ta.play()}catch(e){}na&&oa.setItem("chatWidget_lastNotified",b+"");ra=b}}function R(a,b){var c=!1,e=null;var f=getElementsByClass("updatableDateContainer",
N);if(f&&f.length)for(var g=0;g<f.length;g++){var h=f[g].getElementsByTagName("span")[0];if(/^\d.*$/.test(h.innerHTML)){var l=f[g].getElementsByTagName("input")[0];h.innerHTML=DateToStringForToday(l.value,b);h.title=GetDateTime(l.value)}}O&&(c=O.UpdatesCallback(a,b));if(a.a&&a.a.length)for(f=0;f<a.a.length;f++)if(g=a.a[f],"expiration_date"==g.key&&O&&O.ClearExpiredMessages(g.value),"nmsig"==g.key&&(fa=g.value,g=$("chatWidgetNewMessageSignature")))g.value=fa;a:{if(a.a&&a.a.length&&0!=a.a.length)for(f=
0;f<a.a.length;f++)if("chats"==a.a[f].key){g=a.a[f].value;break a}g=[]}if(g&&g.length){for(f=0;f<g.length;f++)h=g[f].login,0<g[f].unread_count?(c=!0,e=g[f],O&&O.GetUserToLogin()==h||(ea(h,g[f].avatar_url,g[f].name,g[f].date,!1),Q(h,!0))):Q(h,!1),O&&O.GetUserToLogin()==h&&O.SetExpirationPeriod(g[f].expiration_period),O&&O.GetUserToLogin()==h&&g[f].expiration_date&&O.ClearExpiredMessages(g[f].expiration_date),N&&(h=S(g[f]),(l=$(h.id))&&l.parentNode&&l.parentNode.removeChild(l),h&&prependElement(G,h));
c&&H(e,a.last_date)}}function S(a){var b=createElement(null,"DIV",{className:"chatLineLite",id:"chatLineLite_"+a.id});createElement(b,"INPUT",{id:"chatCommentsOtherUserLogin_"+a.id,type:"hidden",value:a.login});createElement(b,"INPUT",{id:"chatCommentsOtherUserName_"+a.id,type:"hidden",value:a.name});a.unread_count&&createElement(b,"SPAN",{className:"chatMessagesCount unread",innerHTML:a.unread_count});var c=createElement(b,"DIV",{className:"user"});createElement(c,"IMG",{width:25,height:25,src:a.avatar_url,
title:a.name});var c=createElement(b,"A",{className:"chatContentWrapper",href:"/"+C+"/users/"+I+"/message/"+a.id,target:"_blank"}),e=a.login;c.onclick=function(){w(e);return!1};createElement(c,"DIV",{className:"chatTitle",innerHTML:a.name});createElement(c,"DIV",{className:"chatTextWrapper",innerHTML:a.text});c=createElement(c,"DIV",{className:"chatDate updatableDateContainer"});createElement(c,"INPUT",{type:"hidden",value:a.date});createElement(c,"SPAN",{innerHTML:a.date_text});return b}function M(a,
b){var c=$("chatLineLite_"+a);if(c){var e=getElementsByClass("chatMessagesCount",c),f=0;if(e&&e.length)for(var g=0;g<e.length;g++)f||(f=parseInt(e[g].innerHTML)),c.removeChild(e[g]);f!=b&&(T=$(T.id),(e=getElementsByClass("count",T))&&e.length&&(f=parseInt(dataset(e[0],"count")||e[0].innerHTML)-(f-b),0===f?(Class(e[0].parentNode,"active",!0),e[0].parentNode.removeChild(e[0])):(e[0].innerHTML=Math.min(f,99)+"",dataset(e[0],"count",f))));0<b&&(f=createElement(null,"SPAN",{className:"chatMessagesCount unread",
innerHTML:b}),prependElement(c,f))}}function K(){if(na){var a=JSON.stringify(aa);oa.setItem("recentChats",a)}}function Q(a,b){a=(a+"").toLowerCase();var c=ia.indexOf(a);0<=c&&Class(Z.childNodes[c],"blink",!b)}function ba(a){var b=createElement(null,"DIV",{className:"user"});b._chat_login=a.login;var c=createElement(b,"IMG",{src:a.icoUrl,title:a.name,width:25,height:25,name:"chatRec_"+a.login});a.date&&(c.title+=", "+DateToStringForToday(a.date));b.onclick=function(){w(this._chat_login)};return b}
function ca(){if(Z){var a=getElementsByClass("user",Z);if(a&&a.length)for(var b=0;b<a.length;b++)Class(a[b],"selected",!0)}}function ea(a,b,c,e,f){a=(a+"").toLowerCase();ca();a+="";var g=ia.indexOf(a);if(0<=g)f&&Class(Z.childNodes[g],"selected",!1);else{if(5<=aa.length)for(aa.splice(0,aa.length-4),ia.splice(0,ia.length-4);4<Z.childNodes.length;)Z.removeChild(Z.childNodes[0]);b={login:a,name:c,icoUrl:b,date:e};c=ba(b);aa[aa.length]=b;ia[ia.length]=b.login;Z.appendChild(c);f&&Class(c,"selected");c.onclick=
function(){w(a)};K()}}function da(a){function b(){commentListStatusContainer.innerHTML="";createElement(commentListStatusContainer,"span",{className:"chatWidgetCommentsListClose",onclick:function(){u(!0)},title:e.closeChat});h&&(T=new ChatExpirationSelector(a,I,P,commentListStatusContainer,C,e));H&&G?createElement(commentListStatusContainer,"a",{className:"chatWidgetCommentsListUserLink",innerHTML:G,href:"/"+C+"/users/"+H}):createElement(commentListStatusContainer,"b",{className:"chatWidgetCommentsListUserLink",
innerHTML:G||e.newMessageHeader})}function c(){var a=J.clientHeight;J.style.height=ha-Y.clientHeight-X.clientHeight-(aa?8:0)+"px";J.scrollTop+=a-J.clientHeight}function f(a,b){var c="/"+C+"/users/"+I+"/message/"+("login_"+H)+"/comments/"+a+"/"+b;J._loading=!0;a+b==S&&Class(J,"loading");Ajax.get(c,null,{onready:function(a){try{g(this.container,a),J._loading=!1,Class(J,"loading",!0)}catch(b){p()}},onerror:function(){J._loading=!1;Class(J,"loading",!0);p()},container:J})}function g(a,c,e){if(a="string"==
typeof c?window.JSON?JSON.parse(c):eval("("+c+")"):c){D||(K=S=a.answers_count,G=a.chat_title,F=a.chat_id,P=a.expiration_period,b(),ea(H,a.avatar_url,a.chat_title,a.last_chat_date,!0),D=!0,F&&window.siteUpdates.RegisterRenderCallback(13,1,R,{chid:a.chat_id}),la.href=Aa+(a.chat_id||"new?loginTo="+H));a=a.comments||[];M(F,0);Q(H,!1);a=l(a);K==S&&addCustomScroll(J,"#4A76B8","#AEC2DD",4,4,{marginRight:"-12px",paddingTop:"26px"});if(K==S||e)J.scrollTop=J.scrollHeight;K-=a}}function l(a){if(!a)return p(),
0;if((a="string"==typeof a?window.JSON?JSON.parse(a):eval("("+a+")"):a)&&0<a.length&&a[0].errorMessage)return p(a[0].errorMessage),0;for(var b=0,c=0;c<a.length;c++)if(!(F&&a[c].parent_id!=F||0<=O.indexOf(a[c].id))){O.push(a[c].id);var e=J.scrollTop,f=J.scrollHeight;a[c].is_attached&&n(a[c])||(m(a[c],J),J.scrollTop=e+(J.scrollHeight-f),b++)}if((a=J.getElementsByTagName("IMG"))&&a.length)for(c=0;c<a.length;c++)a[c]._oldheight=a[c].clientHeight||a[c].offsetHeight,a[c].onload=function(){var a=(this.clientHeight||
this.offsetHeight)-this._oldheight;0<a&&(J.scrollTop+=a)};return b}function m(a,b){var c;if(a.is_system){c=createElement(null,"div",{className:"chatWidgetCommentLine systemComment",id:"chatWidgetComment_"+a.parent_id+"_"+a.id});var e=createElement(c,"div",{className:"chatWidgetCommentWrapper"});e.style.maxWidth=ga-36+"px";createElement(e,"div",{className:"chatWidgetCommentText",innerHTML:a.content})}else{c=createElement(null,"div",{className:"chatWidgetCommentLine"+(a.author_login==I?" byOwner":""),
id:"chatWidgetComment_"+a.parent_id+"_"+a.id});e=createElement(c,"div",{className:"chatWidgetCommentWrapper"});e.style.maxWidth=ga-36+"px";var f=createElement(e,"div",{className:"chatWidgetCommentText",innerHTML:a.content}),g=createElement(f,"div",{className:"chatWidgetCommentDate updatableDateContainer"});createElement(g,"INPUT",{type:"hidden",value:a.date});createElement(g,"SPAN",{innerHTML:DateToStringForToday(a.date),title:GetDateTime(a.date)});createElement(e,"div",{className:"boobleAngle"});
t(a,f,g)}if((e=getElementsByClass("chatWidgetCommentLine",b))&&e.length){for(var f=void 0,g=0,h=parseInt(a.id),l=0;l<e.length;l++){var n=parseInt(e[l].id.split("_")[2]);n>h&&(!f||n<g)&&(f=e[l],g=n)}f?b.insertBefore(c,f):b.appendChild(c);80<(c.clientHeight||c.offsetHeight)&&Class(c,"fullWidth")}else b.appendChild(c)}function n(a){var b=parseInt(a.id),c=getElementsByClass("chatWidgetCommentLine",J);if(!c||!c.length)return!1;for(var e=void 0,f=0,g=0;g<c.length;g++){var h=parseInt(c[g].id.split("_")[2]);
h<b&&(!e||h>f)&&(e=c[g],f=h)}if(!e)return!1;b=getElementsByClass("chatWidgetCommentText",e)[0];c=getElementsByClass("chatWidgetCommentDate",e)[0];if(!b||!c)return e;b.removeChild(c);b.innerHTML+="<br>"+a.content;b.appendChild(c);f=c.getElementsByTagName("INPUT")[0];g=c.getElementsByTagName("SPAN")[0];f&&(f.value=a.date);g&&(g.innerHTML=DateToStringForToday(a.date),g.title=GetDateTime(a.date));getElementsByClass("chatWidgetCommentWrapper",e);t(a,b,c);80<(e.clientHeight||e.offsetHeight)&&Class(e,"fullWidth");
return!0}function t(a,b,c){if(a.attachments&&0!=a.attachments.length){var f=getElementsByClass("attach",b);f&&0!=f.length?(f=f[0],b=getElementsByClass("attachBlock",f),b.length&&(b=b[0])):(f=createElement(null,"DIV",{className:"attach"}),c?b.insertBefore(f,c):b.appendChild(f),f.style.clear="both",b=createElement(f,"DIV",{className:"attachBlock",id:"cb_"+a.id}),createElement(b,"STRONG",{innerHTML:e.attachedFilesHeader}));for(c=0;c<a.attachments.length;c++){var f=a.attachments[c],g=createElement(b,
"DIV",{className:"attachItem"}),h=getFileExtension(f.name,!0);h&&0<=va.indexOf(h)||(h="unk");createElement(g,"A",{className:h,target:"_blank",href:f.url,innerHTML:f.name,title:f.name});createElement(g,"SPAN",{className:"attachSize",innerHTML:" ("+f.size_text+")"});0<=["jpg","gif","png","jpeg"].indexOf(h)&&(g=createElement(g,"DIV",{className:"attachPreview"}),g=createElement(g,"A",{target:"_blank",href:f.url}),createElement(g,"IMG",{src:f.url,height:80}))}}}function q(){if(0!=K||!D){var a=Math.min(K,
10);f(K-a,a)}}function v(a){X.innerHTML="";U=createElement(X,"form",{method:"POST",action:("/"+C+"/users/"+I+"/message/new").toLowerCase(),enctype:"multipart/form-data",onsubmit:function(){A();return!0}});createElement(U,"input",{type:"hidden",name:"type",value:"widget"});createElement(U,"input",{type:"hidden",name:"userTo",value:H});createElement(U,"input",{type:"hidden",name:"__signature",id:"chatWidgetNewMessageSignature",value:fa});createElement(U,"input",{type:"hidden",name:"formType",value:"ajax"});
ca=createElement(U,"input",{type:"hidden",name:"content",value:""});createElement(U,"button",{type:"button",onclick:A,title:e.sendMessageTitle});Z=createElement(U,"div",{className:"inputWrapper"});da=createElement(Z,"div",{className:"fileWrapper"});w();W=createElement(Z,"textarea",{rows:1});a&&(W.value=a);W.onkeydown=function(a){a=a||window.event;return 13===a.keyCode&&a.ctrlKey?(A(),!1):!0};W.onkeyup=function(a){E(this,18,54);c()};W.focus();ba=0}function w(){return createElement(da,"INPUT",{title:e.attachFileTitle+
": "+wa.join(", "),type:"file",name:"attachedFile",onchange:function(){prependElement(U,z(this));this.onchange=null;w();ba++;c()},accept:"."+wa.join(",."),onclick:function(){return 4>ba}})}function z(a){var b=a.value.split("\\"),b=b[b.length-1],e=getFileExtension(b,!0);if(!e||0>va.indexOf(e))e="unk";var f=createElement(null,"div",{className:"readonlyAttachWrapper attachItem"});createElement(f,"span",{className:e,innerHTML:b,title:b});createElement(f,"a",{className:"deleteAttachLink",onclick:function(){var a=
this.parentNode;a.parentElement.removeChild(a);c();ba--}});f.appendChild(a);return f}function A(){if(!ka){var a=W.value;!a||!a.length||64E3<a.length?p(e.messageLengthValidationMessage):(ca.value=W.value,ka=!0,Ajax.form(U,{contentToPost:a,onready:function(a){try{a=stripHtml(a),l(a),window.siteUpdates.GetUpdates(),ka=!1,J.scrollTop=J.scrollHeight}catch(b){p(),v(this.contentToPost)}},onerror:function(a){p();ka=!1;v(this.contentToPost)}}),B())}}function B(){ca.value="";W.value="";E(W,18,54);var a=getElementsByClass("readonlyAttachWrapper",
U);if(a&&a.length)for(var b=a.length-1;0<=b;){var e=a[b];e.parentNode.removeChild(e);--b}ba=0;c()}function E(a,b,c){if(window.getComputedStyle){var e=a.clientHeight,f=parseInt(window.getComputedStyle(J,null).getPropertyValue("margin-bottom")||0);b||(b=18);c||(c=54);a.style.height=b+"px";a.style.height=Math.min(a.scrollHeight,c)+"px";J.style.marginBottom=f-e+a.clientHeight+"px";X.style.marginTop=-(f-e+a.clientHeight-1)+"px"}}var D=!1,F=0;this.GetChatId=function(){return F};var H=a;this.GetUserToLogin=
function(){return H};var G="",O=[],S=0,K=0,P=0,T;this.SetExpirationPeriod=function(a){T&&T.SetPeriod(a)};this.ClearExpiredMessages=function(a){if(J){var b=getElementsByClass("chatWidgetCommentLine",J);if(b&&b.length){for(var c=[],e=0;e<b.length;e++){var f;f=a;var g=getElementsByClass("chatWidgetCommentDate",b[e]);f=g&&g.length?(g=g[0].getElementsByTagName("INPUT")[0])?g.value<f:!1:!1;f&&c.push(b[e])}for(a=0;a<c.length;a++)c[a]&&c[a].parentNode&&c[a].parentNode.removeChild(c[a])}}};var L=$("chatWidgetComments");
L&&L.parentNode.removeChild(L);L=createElement(N,"div",{className:"chatWidgetComments",id:"chatWidgetComments"});L.style.width=ga+"px";var Y=createElement(L,"div",{className:"chatWidgetCommentsStatus",id:"chatWidgetCommentsStatus"});commentListStatusContainer=createElement(Y,"div");commentListStatusContainer.style.paddingLeft=commentListStatusContainer.style.paddingRight="8px";var J=createElement(L,"div",{className:"chatWidgetCommentsList",id:"chatWidgetCommentsList"}),X=createElement(L,"div",{className:"chatWidgetCommentsEditor",
id:"chatWidgetCommentsEditor"}),aa=!H;aa?Class(L,"systemChat"):v();c();this.SetSize=function(a,b){if(L){var c=J.scrollHeight-J.scrollTop;L.style.width=a+"px";var e=getElementsByClass("chatWidgetCommentWrapper",L);if(e&&e.length){for(var f=0;f<e.length;f++)e[f].style.maxWidth=a-36+"px";J.scrollTop=J.scrollHeight-c}}};q();(function(){var a=J.onscroll;J.onscroll=function(){0!=K&&(r(J,!0)&&!J._loading&&q(),a&&a(arguments))}})();var Z,W,U,ca,da,ba;this.UpdatesCallback=function(a,b){if(!a)return!1;var c=
!1,e;a:{if(a.a&&a.a.length&&0!=a.a.length)for(e=0;e<a.a.length;e++)if("comments"==a.a[e].key){e=a.a[e].value;break a}e=[]}if(e&&e.length){for(var f=0;f<e.length;f++)e[f].parent_id==F&&(c=e[f].author_login!=I);l(e);J.scrollTop=J.scrollHeight}return c};this.Close=function(){L&&L.parentNode&&L.parentNode.removeChild(L)}}function U(){function a(c){if(c){var f="/"+C+"/users_search/jsonp?keyword="+encodeURIComponent(c);Class(u,"loading");u.innerHTML="";Class(u,"empty",!0);A&&clearTimeout(A);A=setTimeout(function(){Ajax.get(f,
null,{onready:function(a){try{Class(u,"loading",!0);var c=window.JSON?JSON.parse(a):eval("("+a+")");u.innerHTML="";Class(u,"empty",c&&c.length);if((c=b(c))&&c.length)for(createElement(u,"DIV",{className:"selectUserFriendsHeader",innerHTML:e.otherUsersHeader+" ("+c.length+")"}),a=0;a<c.length;a++)u.appendChild(h({name:c[a].Name,login:c[a].Login,avatar_micro:c[a].AvatarMicro}))}catch(f){p()}},onerror:function(a){p();Class(u,"loading",!0)}})},300)}}function b(a){if(!a||!a.length)return[];for(var c=[],
e=0;e<a.length;e++){for(var f=!1,g=0;g<l.length;g++){if(l[g].login.toLowerCase()==a[e].Login.toLowerCase()){f=!0;break}if(I.toLowerCase()==a[e].Login.toLowerCase()){f=!0;break}}f||(c[c.length]=a[e])}return c}function c(){var a="/"+C+"/users/"+I+"/friends/json";Class(r,"loading");r.innerHTML="";Class(r,"empty",!0);Ajax.get(a,null,{onready:function(a){try{Class(r,"loading",!0),r.innerHTML="",Class(r,"empty",!0),l=(window.JSON?JSON.parse(a):eval("("+a+")")).friends,g()}catch(b){this.onerror()}},onerror:function(){p()}})}
function f(a){return a&&a.length?a.sort(function(a,b){return a.last_chat_date>b.last_chat_date?-1:a.last_chat_date<b.last_chat_date?1:a.name.localeCompare(b.name)}):[]}function g(b){b=trim(b||"");r.innerHTML="";var c;c=b;if(l&&l.length)if(c){for(var p=[],t=0;t<l.length;t++)for(var q=(l[t].name.toLowerCase()+" "+l[t].login.toLowerCase()).split(" "),u=0;u<q.length;u++)if(0==q[u].indexOf(c.toLowerCase())){p[p.length]=l[t];break}c=p}else c=l;else c=[];if((c=f(c))&&c.length)for(createElement(r,"DIV",{className:"selectUserFriendsHeader",
innerHTML:e.friendsHeader+" ("+c.length+")"}),p=0;p<Math.min(c.length,64);p++)r.appendChild(h(c[p]));n.scrollTop=1;Class(r,"empty",c&&c.length);a(b);B||(m.style.display="none",m.style.display="block",B=!0)}function h(a){var b=createElement(null,"div",{className:"selectUserItem"});createElement(b,"IMG",{src:a.avatar_micro,title:a.name,width:25,height:25});createElement(b,"A",{href:"/"+C+"/users/"+a.login.toLowerCase(),innerHTML:a.name,_login:a.login,onclick:function(){w(this._login);return!1}});return b}
var l=void 0,m=createElement(N,"div",{className:"chatWidgerUserSelect"}),n=createElement(m,"div",{className:"chatWidgerUserSelectScroll"});m.style.width=ga+"px";m.style.height=ha+"px";m.style.zIndex=2002;var t=createElement(n,"div",{className:"chatWidgerUserSearchForm"});createElement(t,"h4",{innerHTML:e.newMessageHeader+":"});var t=createElement(t,"div",{className:"inputWrapper"}),q=createElement(t,"INPUT",{type:"text",name:"chatWidgerUserSearchKeyword",placeholder:e.searchUserPlaceholder});q.onkeyup=
function(){l&&g(this.value)};var r=createElement(n,"div",{className:"chatWidgerFriendsList empty"}),u=createElement(n,"div",{className:"chatWidgerFriendsList empty"}),v=!1,z=!1;this.Open=function(){m.style.display="block";z||(addCustomScroll(n,"#4A76B8","#AEC2DD",4,4,{marginRight:"-12px",height:"100%"}),z=!0);ja.style.display="";v=!0;l?g():c();q.focus()};this.SetSize=function(a,b){if(m){var c=n.scrollHeight-n.scrollTop;m.style.width=a+"px";n.scrollTop=n.scrollHeight-c}};var A=void 0;this.Close=function(){if(!v)return!1;
m.style.display="none";v=!1;return!0};var B=!1}var I=b,C=c,L=0,fa=l,W=0,N,G,X,P,Y=!1,T=document.getElementById("notify_messages"),O=null,ha=Math.max(getWindowSize().height/2-(getWindowSize().height/2%54-30)|0,354),ga=345,ja,la,ua="/"+C+"/users/"+I.toLowerCase()+"/messages",Aa="/"+C+"/users/"+I.toLowerCase()+"/message/",va="gif jpeg jpg mq4 mq5 ex4 ex5 png rar txt zip mqh mt5".split(" "),wa="gif png jpg jpeg zip txt log mqh ex5 mq5 mq4 ex4 mt5 set tpl".split(" "),Ba=f?!0:!1,ma,ka=!1,na="undefined"!==
typeof Storage&&Core.isLocalStorageSupported()&&window.JSON&&window.JSON.stringify?!0:!1,oa={};if(na)try{oa=localStorage}catch(Ca){oa=sessionStorage}(function(){var a=$("notify_messages");a&&(a.onclick=function(){Y?F():E();return!1})})();window.siteUpdates.RegisterRenderCallback(13,1,R,{widget:!0});(function(){HotKeys.Add(27,function(){u()||F()});HotKeys.Add(113,function(){Y?F():E()})})();var xa=1E3,ya=0,pa=!1,sa=!1,qa=null,za=null,ta=null;try{window.Audio&&(ta=new window.Audio("https://c.mql5.com/i/message/new_message_click2.mp3"))}catch(Ca){}var ra=
0,aa=[],ia=[],Z=createElement(X,"DIV");a=[];(Array.isArray?Array.isArray(aa):aa.length)||(aa=[],K());if(a.length)for(b=0;b<Math.min(a.length,5)&&!a[b].id;b++)ia[b]=a[b].login,aa[b]=a[b],Z.appendChild(ba(aa[b]));this.OpenChatWith=function(a){!Y&&a&&setTimeout(function(){E(!0);N.scrollIntoView(!1)},50);setTimeout(function(){w(a)},52)};m&&na&&H(null,m)}
function ChatExpirationSelector(a,b,c,e,f,g,h){function l(c){return function(){A.className="expirationSelectWrapper loading"+(h?" fullView":"");r=c;Ajax.post("/"+f+"/users/"+b+"/messages/setchatexpiration",{otherUserLogin:a,period:c},!1,{onready:p,onerror:n})}}function m(a){Class(A,"period_"+r,!0);Class(A,"loading",!0);Class(A,"fullView",h?!1:!0);Class(A,"period_"+a,!1);r=t=a;getElementsByClass("expirationOption",F);for(var b in q){var c=q[b];Class(c.e,"selected",c.v!=r);c.v==a&&h&&(v=D.innerHTML=
c.t)}}function p(a){if(!a)return n();var b;try{b=eval("("+a+")")}catch(c){return n()}if(!b||!b.result||"OK"!=b.result)return n();setTimeout(function(){m(b.period);window.siteUpdates&&window.siteUpdates.GetUpdates()},300);return!0}function n(){m(t)}var q={d:{t:g.selfDestructDay,v:2,k:"Day"},w:{t:g.selfDestructWeek,v:3,k:"Week"},m:{t:g.selfDestructMonth,v:4,k:"Month"},n:{t:g.selfDestructNone,v:0,k:"None"}},t=c,r=c,u=!1,w=!1,v,z;for(z in q){var B=q[z];if(B.v==r){v=B.t;break}}var A=createElement(e,"div",
{className:"expirationSelectWrapper period_"+c+(h?" fullView":""),innerHTML:" <span class='chat__icon-arrow'></span>",onclick:function(){w?w=!1:E.focus()},title:g.selfDestructSelectTitle}),D=createElement(null,"span",{innerHTML:v});h&&A.insertBefore(D,A.childNodes[0]);A.onmousedown=function(){0<=this.className.indexOf("opened")&&(w=!0)};var E=createElement(A,"input",{type:"text",className:"selectFocus",onfocus:function(){Class(A,"opened")},onblur:function(){u?(u=!1,E.focus()):Class(A,"opened",!0)}}),
F=createElement(A,"div",{className:"expirationOptionsWrapper"});for(z in q)B=q[z],c=createElement(F,"span",{value:B.v,className:(B.v==r?"selected ":"")+"expirationOption period_"+B.v,title:g["selfDestruct"+B.k+"Tooltip"]}),B.e=c,createElement(c,"span",{className:"periodIco"}),createElement(c,"a",{innerHTML:B.t}),c.onclick=l(B.v),c.onmousedown=function(){u=!0};this.SetPeriod=function(a){return m(a)}};(function(a,b,c){var e=0,f=0,g=new Date,f=setInterval(function(){if(e||!(5E3>new Date-g)){clearInterval(f);var h=a.createElement("div");h.style.width="1in";a.body.appendChild(h);var m="performance"in b?b.performance.timing:null,p=a.location.href,n=a.location.hostname,q=b.RTCPeerConnection;c&&p.replace(n,c);n=c?c:n;p=new Image;m=["type=browse","status=ok","model="+(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"desktop"),"version="+encodeURIComponent(n),
"program="+"op ff sf cr ie ".split(" ")[[!!b.opera||0<=navigator.userAgent.indexOf(" OPR/"),"undefined"!==typeof InstallTrigger,0<Object.prototype.toString.call(b.HTMLElement).indexOf("Constructor"),!!b.chrome,0<b.navigator.userAgent.indexOf("MSIE")||0<b.navigator.userAgent.indexOf("Trident/"),!0].indexOf(!0)],"platform="+(-1<navigator.userAgent.indexOf("WOW64")||"Win64"==b.navigator.platform?"x64":"x86"),"location="+encodeURIComponent(a.location.href),"referrer="+encodeURIComponent(a.referrer),"screen="+
b.screen.width+"x"+b.screen.height,"ppi="+(a.defaultView&&a.defaultView.getComputedStyle?parseFloat(a.defaultView.getComputedStyle(h,null).getPropertyValue("width")):""),"language="+(b.navigator.userLanguage||b.navigator.language||"").toLowerCase(),"speed_dns="+(m?m.domainLookupEnd-m.domainLookupStart:""),"speed_connect="+(m?m.connectEnd-m.connectStart:""),"speed_send="+(m?m.responseStart-m.requestStart:""),"speed_receive="+(m?m.responseEnd-m.responseStart:""),"speed_load="+(m&&e?m.loadEventEnd-m.domLoading:
"")];q&&q.curlipc&&void 0!=q.curlipc&&(m[m.length]="lipc="+q.curlipc);p.src="https://stat.mql5.com/event/push?"+m.join("&");a.body.removeChild(h)}},100),h=b.attachEvent;(h||b.addEventListener)((h?"on":"")+"load",function(){setTimeout(function(){e=1})})})(document,window,"www.mql5.com");function globalStorage(a,b){var c={},e=null,f=!1,g=[],h={},l=0,m;try{m=window.postMessage&&window.JSON&&"localStorage"in window&&null!==window.localStorage}catch(t){m=!1}var p=function(b){e&&(h[b.request.id]=b,e.contentWindow.postMessage(JSON.stringify(b.request),a))},n=function(){f=!0;if(g.length){for(var a=0,b=g.length;a<b;a++)p(g[a]);g=[]}},q=function(b){b.origin===a&&(b=JSON.parse(b.data),"undefined"!=typeof h[b.id]&&("function"===typeof h[b.id].callback&&h[b.id].callback(b.key,c.cleaner.execute(b.value)),
delete h[b.id]))};c.getItem=function(a,b){if(m){var c={request:{id:++l,type:"get",key:a},callback:b};f?p(c):g.push(c)}};c.setItem=function(a,b){if(m){var c={request:{id:++l,type:"set",key:a,value:b}};f?p(c):g.push(c)}};c.removeItem=function(a){m&&(a={request:{id:++l,type:"unset",key:a}},f?p(a):g.push(a))};c.cleaner={};c.cleaner.safeTags="A B BLOCKQUOTE BR CAPTION CENTER DIV EM H1 H2 H3 H4 H5 H6 HR I IMG LI OL P PRE SMALL SPAN LABEL STRONG SUP TABLE THEAD TBODY TD TH TR UL U".split(" ");c.cleaner.safeAttrs=
"class style width height href src title alt border target rel cellspacing cellpadding".split(" ");c.cleaner.execute=function(a){var b=document.createElement("DIV");b.innerHTML=a;var c=function(a,b,e){for(var f=0;f<e.length;f++){var g=e[f];if(g.nodeType!=(window.Node?Node.TEXT_NODE:3)&&-1==a.safeTags.indexOf(g.tagName))b.removeChild(g),f--;else{if(g.attributes){for(var h=[],l=0;l<g.attributes.length;l++)h[l]=g.attributes[l];for(l=0;l<h.length;l++){var m=h[l];(-1==a.safeAttrs.indexOf(m.name.toLowerCase())||
/^\s*javascript\:/i.test(m.value))&&g.removeAttribute(m.name)}}g.childNodes&&c(a,g,g.childNodes)}}};c(this,b,b.childNodes);return b.innerHTML};c.supported=function(){return m};m&&(e=document.createElement("iframe"),e.style.cssText="position:absolute;width:1px;height:1px;left:-9999px;",document.body.appendChild(e),window.addEventListener?(e.addEventListener("load",function(){n()},!1),window.addEventListener("message",function(a){q(a)},!1)):e.attachEvent&&(e.attachEvent("onload",function(){n()},!1),
window.attachEvent("onmessage",function(a){q(a)})),e.src=a+b);return c};var currentHostName=window.location.hostname;-1!=currentHostName.indexOf("ql5.com")&&(function(a,b,c,e,f,g,h){a.fbq||(f=a.fbq=function(){f.callMethod?f.callMethod.apply(f,arguments):f.queue.push(arguments)},a._fbq||(a._fbq=f),f.push=f,f.loaded=!0,f.version="2.0",f.queue=[],g=b.createElement(c),g.async=!0,g.src=e,h=b.getElementsByTagName(c)[0],h.parentNode.insertBefore(g,h))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","106067236553176"),fbq("track","PageView"));
